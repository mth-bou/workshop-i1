(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},E2g8:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,i=void 0,r=void 0,o=function(e,t){h[n]=e,h[n+1]=t,2===(n+=2)&&(r?r(f):m())},s="undefined"!=typeof window?window:void 0,a=s||{},u=a.MutationObserver||a.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(f,1)}}var h=new Array(1e3);function f(){for(var e=0;e<n;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;n=0}var d,g,y,v,m=void 0;function _(e,t){var n=this,i=new this.constructor(w);void 0===i[C]&&M(i);var r=n._state;if(r){var s=arguments[r-1];o((function(){return P(r,i,s,n._result)}))}else k(n,i,e,t);return i}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return E(t,e),t}c?m=function(){return process.nextTick(f)}:u?(g=0,y=new u(f),v=document.createTextNode(""),y.observe(v,{characterData:!0}),m=function(){v.data=g=++g%2}):l?((d=new MessageChannel).port1.onmessage=f,m=function(){return d.port2.postMessage(0)}):m=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(f)}:p()}catch(t){return p()}}():p();var C=Math.random().toString(36).substring(2);function w(){}function T(t,n,i){n.constructor===t.constructor&&i===_&&n.constructor.resolve===b?function(e,t){1===t._state?I(e,t._result):2===t._state?A(e,t._result):k(t,void 0,(function(t){return E(e,t)}),(function(t){return A(e,t)}))}(t,n):void 0===i?I(t,n):e(i)?function(e,t,n){o((function(e){var i=!1,r=function(n,r,o,s){try{n.call(r,(function(n){i||(i=!0,t!==n?E(e,n):I(e,n))}),(function(t){i||(i=!0,A(e,t))}))}catch(a){return a}}(n,t);!i&&r&&(i=!0,A(e,r))}),e)}(t,n,i):I(t,n)}function E(e,t){if(e===t)A(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(i=t),null===i||"object"!==r&&"function"!==r)I(e,t);else{var n=void 0;try{n=t.then}catch(o){return void A(e,o)}T(e,t,n)}var i,r}function S(e){e._onerror&&e._onerror(e._result),O(e)}function I(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&o(O,e))}function A(e,t){void 0===e._state&&(e._state=2,e._result=t,o(S,e))}function k(e,t,n,i){var r=e._subscribers,s=r.length;e._onerror=null,r[s]=t,r[s+1]=n,r[s+2]=i,0===s&&e._state&&o(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s+n],(i=t[s])?P(n,i,r,o):r(o);e._subscribers.length=0}}function P(t,n,i,r){var o=e(i),s=void 0,a=void 0,u=!0;if(o){try{s=i(r)}catch(c){u=!1,a=c}if(n===s)return void A(n,new TypeError("A promises callback cannot return that same promise."))}else s=r;void 0!==n._state||(o&&u?E(n,s):!1===u?A(n,a):1===t?I(n,s):2===t&&A(n,s))}var x=0;function M(e){e[C]=x++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(w),this.promise[C]||M(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&I(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===b){var r=void 0,o=void 0,s=!1;try{r=e.then}catch(u){s=!0,o=u}if(r===_&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===D){var a=new n(w);s?A(a,o):T(a,e,r),this._willSettleAt(a,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;void 0===i._state&&(this._remaining--,2===e?A(i,n):this._result[t]=n),0===this._remaining&&I(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),D=function(){function t(e){this[C]=x++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){E(e,t)}),(function(t){A(e,t)}))}catch(n){A(e,n)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return D.prototype.then=_,D.all=function(e){return new N(this,e).promise},D.race=function(e){var n=this;return t(e)?new n((function(t,i){for(var r=e.length,o=0;o<r;o++)n.resolve(e[o]).then(t,i)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},D.resolve=b,D.reject=function(e){var t=new this(w);return A(t,e),t},D._setScheduler=function(e){r=e},D._setAsap=function(e){o=e},D._asap=o,D.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(i){}if("[object Promise]"===n&&!t.cast)return}e.Promise=D},D.Promise=D,D}()},zUnb:function(e,t,n){"use strict";n.r(t);var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var c=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function l(e){return null!==e&&"object"==typeof e}function p(e){return"function"==typeof e}var h=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),f=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(p(i))try{i.call(this)}catch(u){t=u instanceof h?d(u.errors):[u]}if(c(r)){o=-1;for(var s=r.length;++o<s;){var a=r[o];if(l(a))try{a.unsubscribe()}catch(u){t=t||[],u instanceof h?t=t.concat(d(u.errors)):t.push(u)}}}if(t)throw new h(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function d(e){return e.reduce((function(e,t){return e.concat(t instanceof h?t.errors:t)}),[])}var g=!1,y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){g=e},get useDeprecatedSynchronousErrorHandling(){return g}};function v(e){setTimeout((function(){throw e}),0)}var m={closed:!0,next:function(e){},error:function(e){if(y.useDeprecatedSynchronousErrorHandling)throw e;v(e)},complete:function(){}},_=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),b=function(e){function t(n,i,r){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=m;break;case 1:if(!n){o.destination=m;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new C(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new C(o,n,i,r)}return o}return r(t,e),t.prototype[_]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(f),C=function(e){function t(t,n,i,r){var o,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return p(n)?o=n:n&&(o=n.next,i=n.error,r=n.complete,n!==m&&(p((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=i,s._complete=r,s}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;y.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=y.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):v(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;v(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};y.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw n;v(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return y.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(v(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(b),w=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function T(){}function E(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:T}var S=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof b)return e;if(e[_])return e[_]()}return e||t||n?new b(e,t,n):new b(m)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),y.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){y.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof b?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=I(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[w]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:E(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=I(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function I(e){if(e||(e=y.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var A=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),k=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(f),O=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r(t,e),t}(b),P=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r(t,e),t.prototype[_]=function(){return new O(this)},t.prototype.lift=function(e){var t=new x(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new A;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)},t.prototype.error=function(e){if(this.closed)throw new A;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new A;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new A;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new A;return this.hasError?(e.error(this.thrownError),f.EMPTY):this.isStopped?(e.complete(),f.EMPTY):(this.observers.push(e),new k(this,e))},t.prototype.asObservable=function(){var e=new S;return e.source=this,e},t.create=function(e,t){return new x(e,t)},t}(S),x=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):f.EMPTY},t}(P);function M(e){return e&&"function"==typeof e.schedule}var N=function(e){function t(t,n,i){var r=e.call(this)||this;return r.parent=t,r.outerValue=n,r.outerIndex=i,r.index=0,r}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(b),D=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var L=R(),V=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function j(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var F=function(e){if(e&&"function"==typeof e[w])return i=e,function(e){var t=i[w]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(V(e))return D(e);if(j(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,v),e};if(e&&"function"==typeof e[L])return t=e,function(e){for(var n=t[L]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,i,r=l(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function U(e,t,n,i,r){if(void 0===r&&(r=new N(e,n,i)),!r.closed)return t instanceof S?t.subscribe(r):F(t)(r)}var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(b);function B(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(e,t))}}var H=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new z(e,this.project,this.thisArg))},e}(),z=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.project=n,r.count=0,r.thisArg=i||r,r}return r(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(b);function Y(e,t){return new S((function(n){var i=new f,r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function q(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[w]}(e))return function(e,t){return new S((function(n){var i=new f;return i.add(t.schedule((function(){var r=e[w]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(j(e))return function(e,t){return new S((function(n){var i=new f;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(V(e))return Y(e,t);if(function(e){return e&&"function"==typeof e[L]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new S((function(n){var i,r=new f;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(t.schedule((function(){i=e[L](),r.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof S?e:new S(F(e))}function K(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(i){return i.pipe(K((function(n,i){return q(e(n,i)).pipe(B((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new W(e,n))})}var W=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Z(e,this.project,this.concurrent))},e}(),Z=function(e){function t(t,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=e.call(this,t)||this;return r.project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new N(this,t,n),r=this.destination;r.add(i);var o=U(this,e,void 0,void 0,i);o!==i&&r.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(G);function Q(e){return e}function X(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),K(Q,e)}function J(e,t){return t?Y(e,t):new S(D(e))}function $(){return function(e){return e.lift(new ee(e))}}var ee=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new te(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r},e}(),te=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},t}(b),ne=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new f).add(this.source.subscribe(new re(this.getSubject(),this))),e.closed&&(this._connection=null,e=f.EMPTY)),e},t.prototype.refCount=function(){return $()(this)},t}(S),ie=function(){var e=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),re=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(O);function oe(){return new P}function se(){return function(e){return $()((t=oe,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,ie);return i.source=e,i.subjectFactory=n,i})(e));var t}}var ae="__parameters__";function ue(e,t,n){var i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var i=e.apply(void 0,u(t));for(var r in i)this[r]=i[r]}}}(t);function r(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var o=new((e=r).bind.apply(e,u([void 0],t)));return s.annotation=o,s;function s(e,t,n){for(var i=e.hasOwnProperty(ae)?e[ae]:Object.defineProperty(e,ae,{value:[]})[ae];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}var ce=ue("Inject",(function(e){return{token:e}})),le=ue("Optional"),pe=ue("Self"),he=ue("SkipSelf"),fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function de(e){for(var t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function ge(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ye(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ve(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function me(e){return _e(e,e[Ce])||_e(e,e[Ee])}function _e(e,t){return t&&t.token===e?t:null}function be(e){return e&&(e.hasOwnProperty(we)||e.hasOwnProperty(Se))?e[we]:null}var Ce=de({"ɵprov":de}),we=de({"ɵinj":de}),Te=de({"ɵprovFallback":de}),Ee=de({ngInjectableDef:de}),Se=de({ngInjectorDef:de});function Ie(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ie).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ae(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var ke=de({__forward_ref__:de});function Oe(e){return e.__forward_ref__=Oe,e.toString=function(){return Ie(this())},e}function Pe(e){return xe(e)?e():e}function xe(e){return"function"==typeof e&&e.hasOwnProperty(ke)&&e.__forward_ref__===Oe}var Me,Ne="undefined"!=typeof globalThis&&globalThis,De="undefined"!=typeof window&&window,Re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Le="undefined"!=typeof global&&global,Ve=Ne||Le||De||Re,je=de({"ɵcmp":de}),Fe=de({"ɵdir":de}),Ue=de({"ɵpipe":de}),Ge=de({"ɵmod":de}),Be=de({"ɵloc":de}),He=de({"ɵfac":de}),ze=de({__NG_ELEMENT_ID__:de}),Ye=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ɵprov=ye({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),qe=new Ye("INJECTOR",-1),Ke={},We=/\n/gm,Ze=de({provide:String,useValue:de}),Qe=void 0;function Xe(e){var t=Qe;return Qe=e,t}function Je(e){var t=Me;return Me=e,t}function $e(e,t){if(void 0===t&&(t=fe.Default),void 0===Qe)throw new Error("inject() must be called from an injection context");return null===Qe?tt(e,void 0,t):Qe.get(e,t&fe.Optional?null:void 0,t)}function et(e,t){return void 0===t&&(t=fe.Default),(Me||$e)(Pe(e),t)}function tt(e,t,n){var i=me(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&fe.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND ["+Ie(e)+"]")}function nt(e){for(var t=[],n=0;n<e.length;n++){var i=Pe(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=fe.Default,s=0;s<i.length;s++){var a=i[s];a instanceof le||"Optional"===a.ngMetadataName||a===le?o|=fe.Optional:a instanceof he||"SkipSelf"===a.ngMetadataName||a===he?o|=fe.SkipSelf:a instanceof pe||"Self"===a.ngMetadataName||a===pe?o|=fe.Self:r=a instanceof ce||a===ce?a.token:a}t.push(et(r,o))}else t.push(et(i))}return t}var it=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=Ke),t===Ke){var n=new Error("NullInjectorError: No provider for "+Ie(e)+"!");throw n.name="NullInjectorError",n}return t},e}();var rt=function(){return function(){}}(),ot=function(){return function(){}}();function st(e,t){e.forEach((function(e){return Array.isArray(e)?st(e,t):t(e)}))}function at(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ut(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ct(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function lt(e,t,n){var i=ht(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function pt(e,t){var n=ht(e,t);if(n>=0)return e[1|n]}function ht(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var o=i+(r-i>>1),s=e[o<<1];if(t===s)return o<<1;s>t?r=o:i=o+1}return~(r<<1)}(e,t)}var ft=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),dt=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});function gt(e){return""+{toString:e}}var yt={},vt=[],mt=0;function _t(e){var t=e.type,n=t.prototype,i={},r={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||vt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||dt.Emulated,id:"c",styles:e.styles||vt,_:null,setInput:null,schemas:e.schemas||null,tView:null};return r._=gt((function(){var t=e.directives,n=e.features,o=e.pipes;r.id+=mt++,r.inputs=Et(e.inputs,i),r.outputs=Et(e.outputs),n&&n.forEach((function(e){return e(r)})),r.directiveDefs=t?function(){return("function"==typeof t?t():t).map(bt)}:null,r.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Ct)}:null})),r}function bt(e){return At(e)||function(e){return e[Fe]||null}(e)}function Ct(e){return function(e){return e[Ue]||null}(e)}var wt={};function Tt(e){var t={type:e.type,bootstrap:e.bootstrap||vt,declarations:e.declarations||vt,imports:e.imports||vt,exports:e.exports||vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&gt((function(){wt[e.id]=e.type})),t}function Et(e,t){if(null==e)return yt;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}var St=_t;function It(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function At(e){return e[je]||null}function kt(e,t){return e.hasOwnProperty(He)?e[He]:null}function Ot(e,t){var n=e[Ge]||null;if(!n&&!0===t)throw new Error("Type "+Ie(e)+" does not have 'ɵmod' property.");return n}function Pt(e){return Array.isArray(e)&&"object"==typeof e[1]}function xt(e){return Array.isArray(e)&&!0===e[1]}function Mt(e){return 0!=(8&e.flags)}function Nt(e){return 2==(2&e.flags)}function Dt(e){return 1==(1&e.flags)}function Rt(e){return null!==e.template}function Lt(e){return 0!=(512&e[2])}var Vt={lFrame:sn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function jt(){return Vt.bindingsEnabled}function Ft(){var e=Vt.lFrame;return null===e?null:e.lView}function Ut(e){cn(e)}function Gt(){cn(-1)}function Bt(e){Vt.lFrame.contextLView=e}function Ht(){return Vt.lFrame.previousOrParentTNode}function zt(e,t){Vt.lFrame.previousOrParentTNode=e,Vt.lFrame.isParent=t}function Yt(){return Vt.lFrame.isParent}function qt(){Vt.lFrame.isParent=!1}function Kt(){return Vt.checkNoChangesMode}function Wt(e){Vt.checkNoChangesMode=e}function Zt(){var e=Vt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.lView[1].bindingStartIndex),t}function Qt(){return Vt.lFrame.bindingIndex}function Xt(){return Vt.lFrame.bindingIndex++}function Jt(e){var t=Vt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function $t(){return Vt.lFrame.currentQueryIndex}function en(e){Vt.lFrame.currentQueryIndex=e}function tn(e,t){var n=on();Vt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}var nn=an;function rn(e,t){var n=on();Vt.lFrame=n,n.previousOrParentTNode=t,n.isParent=!0,n.lView=e,n.selectedIndex=0,n.contextLView=e,n.elementDepthCount=0,n.currentNamespace=null,n.currentSanitizer=null,n.bindingRootIndex=-1,n.bindingIndex=null===e?-1:e[1].bindingStartIndex,n.currentQueryIndex=0}function on(){var e=Vt.lFrame,t=null===e?null:e.child;return null===t?sn(e):t}function sn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function an(){Vt.lFrame=Vt.lFrame.parent}function un(){return Vt.lFrame.selectedIndex}function cn(e){Vt.lFrame.selectedIndex=e}function ln(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n];r.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,r.afterContentInit),r.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,r.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r.afterContentChecked)),r.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,r.afterViewInit),r.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,r.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,r.afterViewChecked)),null!=r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r.onDestroy)}}function pn(e,t,n){dn(e,t,3,n)}function hn(e,t,n,i){(3&e[2])===n&&dn(e,t,n,i)}function fn(e,t){var n=e[2];(3&n)===t&&(n&=1023,e[2]=n+=1)}function dn(e,t,n,i){for(var r=null!=i?i:-1,o=0,s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(gn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function gn(e,t,n,i){var r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];r?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(s)):o.call(s)}var yn=function(){return function(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}(),vn=void 0;function mn(){return void 0!==vn?vn:"undefined"!=typeof document?document:void 0}function _n(e){return!!e.listen}var bn={createRenderer:function(e,t){return mn()}};function Cn(e,t,n){for(var i=_n(e),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var s=n[r++],a=n[r++],u=n[r++];i?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else u=n[++r],wn(a=o)?i&&e.setProperty(t,a,u):i?e.setAttribute(t,a,u):t.setAttribute(a,u),r++}return r}function wn(e){return 64===e.charCodeAt(0)}function Tn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||En(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function En(e,t,n,i,r){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function Sn(e){return-1!==e}function In(e){return 32767&e}function An(e){return e>>16}function kn(e,t){for(var n=An(e),i=t;n>0;)i=i[15],n--;return i}function On(e){return"string"==typeof e?e:null==e?"":""+e}function Pn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():On(e)}var xn=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ve)}();function Mn(e){return{name:"window",target:e.ownerDocument.defaultView}}function Nn(e){return e instanceof Function?e():e}var Dn=!0;function Rn(e){var t=Dn;return Dn=e,t}var Ln=0;function Vn(e,t){var n=Fn(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,jn(i.data,e),jn(t,null),jn(i.blueprint,null));var r=Un(e,t),o=e.injectorIndex;if(Sn(r))for(var s=In(r),a=kn(r,t),u=a[1].data,c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c];return t[o+8]=r,o}function jn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Un(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],i=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Gn(e,t,n){!function(e,t,n){var i="string"!=typeof n?n[ze]:n.charCodeAt(0)||0;null==i&&(i=n[ze]=Ln++);var r=255&i,o=1<<r,s=64&r,a=32&r,u=t.data;128&r?s?a?u[e+7]|=o:u[e+6]|=o:a?u[e+5]|=o:u[e+4]|=o:s?a?u[e+3]|=o:u[e+2]|=o:a?u[e+1]|=o:u[e]|=o}(e,t,n)}function Bn(e,t,n,i,r){if(void 0===i&&(i=fe.Default),null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[ze];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){tn(t,e);try{var s=o();if(null!=s||i&fe.Optional)return s;throw new Error("No provider for "+Pn(n)+"!")}finally{nn()}}else if("number"==typeof o){if(-1===o)return new Zn(e,t);var a=null,u=Fn(e,t),c=-1,l=i&fe.Host?t[16][6]:null;for((-1===u||i&fe.SkipSelf)&&(c=-1===u?Un(e,t):t[u+8],Wn(i,!1)?(a=t[1],u=In(c),t=kn(c,t)):u=-1);-1!==u;){c=t[u+8];var p=t[1];if(Kn(o,u,p.data)){var h=zn(u,t,n,a,i,l);if(h!==Hn)return h}Wn(i,t[1].data[u+8]===l)&&Kn(o,u,t)?(a=p,u=In(c),t=kn(c,t)):u=-1}}}if(i&fe.Optional&&void 0===r&&(r=null),0==(i&(fe.Self|fe.Host))){var f=t[9],d=Je(void 0);try{return f?f.get(n,r,i&fe.Optional):tt(n,r,i&fe.Optional)}finally{Je(d)}}if(i&fe.Optional)return r;throw new Error("NodeInjector: NOT_FOUND ["+Pn(n)+"]")}var Hn={};function zn(e,t,n,i,r,o){var s=t[1],a=s.data[e+8],u=Yn(a,s,n,null==i?Nt(a)&&Dn:i!=s&&3===a.type,r&fe.Host&&o===a);return null!==u?qn(t,s,u,a):Hn}function Yn(e,t,n,i,r){for(var o=e.providerIndexes,s=t.data,a=65535&o,u=e.directiveStart,c=o>>16,l=r?a+c:e.directiveEnd,p=i?a:a+c;p<l;p++){var h=s[p];if(p<u&&n===h||p>=u&&h.type===n)return p}if(r){var f=s[u];if(f&&Rt(f)&&f.type===n)return u}return null}function qn(e,t,n,i){var r=e[n],o=t.data;if(r instanceof yn){var s=r;if(s.resolving)throw new Error("Circular dep for "+Pn(o[n]));var a=Rn(s.canSeeViewProviders);s.resolving=!0;var u=void 0;s.injectImpl&&(u=Je(s.injectImpl)),tn(e,i);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.onChanges,r=t.onInit,o=t.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&Je(u),Rn(a),s.resolving=!1,nn()}}return r}function Kn(e,t,n){var i=64&e,r=32&e;return!!((128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function Wn(e,t){return!(e&fe.Self||e&fe.Host&&t)}var Zn=function(){function e(e,t){this._tNode=e,this._lView=t}return e.prototype.get=function(e,t){return Bn(this._tNode,this._lView,e,void 0,t)},e}();function Qn(e){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[He]||function e(t){var n=t;if(xe(t))return function(){var t=e(Pe(n));return t?t():null};var i=kt(n);if(null===i){var r=be(n);i=r&&r.factory}return i||null}(t);return null!==n?n:function(e){return new e}}function Xn(e){return e.ngDebugContext}function Jn(e){return e.ngOriginalError}function $n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,u(t))}var ei=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||$n}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?Xn(e)?Xn(e):this._findContext(Jn(e)):null},e.prototype._findOriginalError=function(e){for(var t=Jn(e);t&&Jn(t);)t=Jn(t);return t},e}(),ti=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(ti),ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"Style"},t}(ti),ri=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"Script"},t}(ti),oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"URL"},t}(ti),si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(ti);function ai(e){return e instanceof ti?e.changingThisBreaksApplicationSecurity:e}function ui(e,t){var n=ci(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe "+t+", got a "+n+" (see http://g.co/ng/security#xss)")}return n===t}function ci(e){return e instanceof ti&&e.getTypeName()||null}var li=!0,pi=!1;function hi(){return pi=!0,li}function fi(){if(pi)throw new Error("Cannot enable prod mode after platform setup.");li=!1}var di=function(){function e(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var t=this.inertDocument.body;if(null==t){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),t=this.inertDocument.createElement("body"),n.appendChild(t)}t.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!t.querySelector||t.querySelector("svg")?(t.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=t.querySelector&&t.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling},e}(),gi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,yi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vi(e){return(e=String(e)).match(gi)||e.match(yi)?e:(hi()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function mi(e){var t,n,i={};try{for(var r=s(e.split(",")),o=r.next();!o.done;o=r.next())i[o.value]=!0}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}function _i(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r={};try{for(var o=s(n),a=o.next();!a.done;a=o.next()){var u=a.value;for(var c in u)u.hasOwnProperty(c)&&(r[c]=!0)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r}var bi,Ci=mi("area,br,col,hr,img,wbr"),wi=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ti=mi("rp,rt"),Ei=_i(Ti,wi),Si=_i(Ci,_i(wi,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_i(Ti,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ei),Ii=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ai=mi("srcset"),ki=_i(Ii,Ai,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Oi=mi("script,style,template"),Pi=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t,n=e.nodeName.toLowerCase();if(!Si.hasOwnProperty(n))return this.sanitizedSomething=!0,!Oi.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var i=e.attributes,r=0;r<i.length;r++){var o=i.item(r),s=o.name,a=s.toLowerCase();if(ki.hasOwnProperty(a)){var u=o.value;Ii[a]&&(u=vi(u)),Ai[a]&&(t=u,u=(t=String(t)).split(",").map((function(e){return vi(e.trim())})).join(", ")),this.buf.push(" ",s,'="',Ni(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();Si.hasOwnProperty(t)&&!Ci.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(Ni(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),xi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mi=/([^\#-~ |!])/g;function Ni(e){return e.replace(/&/g,"&amp;").replace(xi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Mi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Di(e,t){var n=null;try{bi=bi||new di(e);var i=t?String(t):"";n=bi.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=bi.getInertBodyElement(i)}while(i!==o);var s=new Pi,a=s.sanitizeChildren(Ri(n)||n);return hi()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=Ri(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Ri(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Li=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),Vi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ji=/^url\(([^)]+)\)$/;function Fi(e){var t=Gi();return t?t.sanitize(Li.HTML,e)||"":ui(e,"HTML")?ai(e):Di(mn(),On(e))}function Ui(e){var t=Gi();return t?t.sanitize(Li.URL,e)||"":ui(e,"URL")?ai(e):vi(On(e))}function Gi(){var e=Ft();return e&&e[12]}function Bi(e){for(;Array.isArray(e);)e=e[0];return e}function Hi(e,t){return Bi(t[e+19])}function zi(e,t){return Bi(t[e.index])}function Yi(e,t){return t[1].data[e+19]}function qi(e,t){return e[t+19]}function Ki(e,t){var n=t[e];return Pt(n)?n:n[0]}function Wi(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Zi(e){return 4==(4&e[2])}function Qi(e){return 128==(128&e[2])}function Xi(e,t){return null===e||null==t?null:e[t]}function Ji(e){e[18]=0}function $i(e,t){e.__ngContext__=t}function er(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function tr(){throw new Error("Cannot mix multi providers and regular providers")}function nr(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function ir(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==nr((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function rr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function or(e,t,n){for(var i=4,r=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(3===(n=e[t])||4===n||6===n)return t;var n;return e.length}(r),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&i){if(i=2|1&i,""!==u&&!rr(e,u,n)||""===u&&1===t.length){if(sr(i))return!1;s=!0}}else{var c=8&i?u:t[++a];if(8&i&&null!==e.attrs){if(!ir(e.attrs,c,n)){if(sr(i))return!1;s=!0}continue}var l=ar(8&i?"class":u,r,0==e.type&&"ng-template"!==e.tagName,n);if(-1===l){if(sr(i))return!1;s=!0;continue}if(""!==c){var p;p=l>o?"":r[l+1].toLowerCase();var h=8&i?p:null;if(h&&-1!==nr(h,c,0)||2&i&&c!==p){if(sr(i))return!1;s=!0}}}}else{if(!s&&!sr(i)&&!sr(u))return!1;if(s&&sr(u))continue;s=!1,i=u|1&i}}return sr(i)||s}function sr(e){return 0==(1&e)}function ar(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var o=!1;r<t.length;){var s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++r];"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function ur(e,t,n){void 0===n&&(n=!1);for(var i=0;i<t.length;i++)if(or(e,t[i],n))return!0;return!1}function cr(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function lr(e,t){return e?":not("+t.trim()+")":t}function pr(e){for(var t=e[0],n=1,i=2,r="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&i){var a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||sr(s)||(t+=lr(o,r),r=""),i=s,o=o||!sr(i);n++}return""!==r&&(t+=lr(o,r)),t}var hr={};function fr(e){var t=e[3];return xt(t)?t[3]:t}function dr(e){gr(Ft(),un()+e,Kt())}function gr(e,t,n){if(!n)if(3==(3&e[2])){var i=e[1].preOrderCheckHooks;null!==i&&pn(e,i,t)}else{var r=e[1].preOrderHooks;null!==r&&hn(e,r,0,t)}cn(t)}function yr(e,t){return e<<18|t<<2}function vr(e){return e>>18}function mr(e){return 2|e}function _r(e){return(16380&e)>>2}function br(e,t){return-16381&e|t<<2}function Cr(e){return 1|e}function wr(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i+1];if(-1!==r){var o=e.data[r];en(n[i]),o.contentQueries(2,t[r],r)}}}function Tr(e,t,n){return _n(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Er(e,t,n,i,r,o,s,a,u,c){var l=t.blueprint.slice();return l[0]=r,l[2]=140|i,Ji(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Sr(e,t,n,i,r,o){var s=n+19,a=e.data[s]||function(e,t,n,i,r,o){var s=Ht(),a=Yt(),u=a?s:s&&s.parent,c=e.data[n]=Rr(0,u&&u!==t?u:null,i,n,r,o);return null===e.firstChild&&(e.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(e,t,s,i,r,o);return zt(a,!0),a}function Ir(e,t,n){rn(e,e[6]);try{var i=t.viewQuery;null!==i&&ro(1,i,n);var r=t.template;null!==r&&Or(e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wr(t,e),t.staticViewQueries&&ro(2,t.viewQuery,n);var o=t.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)$r(e,t[n])}(e,o)}finally{e[2]&=-5,an()}}function Ar(e,t,n,i){var r=e[2];if(256!=(256&r)){rn(e,e[6]);var o=Kt();try{Ji(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Or(e,n,2,i);var s=3==(3&r);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&pn(e,a,null)}else{var u=t.preOrderHooks;null!==u&&hn(e,u,0,null),fn(e,0)}if(function(e){for(var t=e[13];null!==t;){var n=void 0;if(xt(t)&&(n=t[2])>>1==-1){for(var i=9;i<t.length;i++){var r=t[i],o=r[1];Qi(r)&&Ar(r,o,o.template,r[8])}0!=(1&n)&&Xr(t,e[16])}t=t[4]}}(e),null!==t.contentQueries&&wr(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&pn(e,c)}else{var l=t.contentHooks;null!==l&&hn(e,l,1),fn(e,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var i=e.expandoStartIndex,r=-1,o=-1,s=0;s<n.length;s++){var a=n[s];"number"==typeof a?a<=0?(Ut(o=0-a),r=i+=9+n[++s]):i+=a:(null!==a&&(u=void 0,(u=Vt.lFrame).bindingIndex=u.bindingRootIndex=i,a(2,t[r],o)),r++)}}finally{Gt()}var u}(t,e);var p=t.components;null!==p&&function(e,t){for(var n=0;n<t.length;n++)Jr(e,t[n])}(e,p);var h=t.viewQuery;if(null!==h&&ro(2,h,i),!o)if(s){var f=t.viewCheckHooks;null!==f&&pn(e,f)}else{var d=t.viewHooks;null!==d&&hn(e,d,2),fn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{an()}}}function kr(e,t,n){var i=e[10],r=!Kt(),o=Zi(e);try{r&&!o&&i.begin&&i.begin();var s=e[1];o&&Ir(e,s,n),Ar(e,s,t,n)}finally{r&&!o&&i.end&&i.end()}}function Or(e,t,n,i){var r=un();try{Gt(),2&n&&e.length>19&&gr(e,0,Kt()),t(n,i)}finally{cn(r)}}function Pr(e,t,n){if(Mt(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var o=e.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function xr(e,t,n){jt()&&(function(e,t,n,i){var r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Vn(n,t),$i(i,t);for(var s=n.initialInputs,a=r;a<o;a++){var u=e.data[a],c=Rt(u);c&&Kr(t,n,u);var l=qn(t,e,a,n);$i(l,t),null!==s&&Wr(0,a-r,l,u,0,s),c&&(Ki(n.index,t)[8]=l)}}(e,t,n,zi(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-19;try{Ut(a);for(var u=i;u<r;u++){var c=e.data[u];null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?Gr(c,t[u],n):s&&o.push(null)}}finally{Gt()}}(e,t,n))}function Mr(e,t,n){void 0===n&&(n=zi);var i=t.localNames;if(null!==i)for(var r=t.index+1,o=0;o<i.length;o+=2){var s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}function Nr(e){return e.tView||(e.tView=Dr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function Dr(e,t,n,i,r,o,s,a,u,c){var l=19+i,p=l+r,h=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:hr);return n}(l,p);return h[1]={type:e,id:t,blueprint:h,template:n,queries:null,viewQuery:a,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:p,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c}}function Rr(e,t,n,i,r,o){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesMap:void 0,classes:null,classesMap:void 0,classBindings:0,styleBindings:0}}function Lr(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Vr(e,t,n,i,r,o,s){var a,u,c=Hi(t,e),l=Yi(t,e),p=l.inputs;if(!o&&null!=p&&(a=p[n]))co(e,a,n,i),Nt(l)&&function(e,t){var n=Ki(t,e);16&n[2]||(n[2]|=64)}(e,t+19);else if(3===l.type){n="class"===(u=n)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u;var h=s?s(l,e):e[11];i=null!=r?r(i,l.tagName||"",n):i,_n(h)?h.setProperty(c,n,i):wn(n)||(c.setProperty?c.setProperty(n,i):c[n]=i)}}function jr(e,t,n,i){var r=!1;if(jt()){var o=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var s=i[o];ur(n,s.selectors,!1)&&(r||(r=[]),Gn(Vn(n,t),e,s.type),Rt(s)?(2&n.flags&&er(n),Hr(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){var a=0;r=!0,Yr(n,e.data.length,o.length);for(var u=0;u<o.length;u++)(p=o[u]).providersResolver&&p.providersResolver(p);Br(e,n,o.length);var c=!1,l=!1;for(u=0;u<o.length;u++){var p;n.mergedAttrs=Tn(n.mergedAttrs,(p=o[u]).hostAttrs),qr(e,t,p),zr(e.data.length-1,p,s),null!==p.contentQueries&&(n.flags|=8),null===p.hostBindings&&null===p.hostAttrs&&0===p.hostVars||(n.flags|=128),!c&&(p.onChanges||p.onInit||p.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),c=!0),l||!p.onChanges&&!p.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),l=!0),Fr(e,p),a+=p.hostVars}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var c=i[u],l=c.inputs;o.push(null!==r?Zr(l,r):null),s=Lr(l,u,s),a=Lr(c.outputs,u,a)}null!==s&&((s.hasOwnProperty("class")||s.hasOwnProperty("className"))&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),Ur(e,t,a)}s&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var o=n[t[r+1]];if(null==o)throw new Error("Export of name '"+t[r+1]+"' not found!");i.push(t[r],o)}}(n,i,s)}return n.mergedAttrs=Tn(n.mergedAttrs,n.attrs),r}function Fr(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Ur(e,t,n){for(var i=0;i<n;i++)t.push(hr),e.blueprint.push(hr),e.data.push(null)}function Gr(e,t,n){null!==e.hostBindings&&e.hostBindings(1,t,n.index-19)}function Br(e,t,n){var i=19-t.index,r=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function Hr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function zr(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Rt(t)&&(n[""]=e)}}function Yr(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function qr(e,t,n){e.data.push(n);var i=n.factory||(n.factory=kt(n.type)),r=new yn(i,Rt(n),null);e.blueprint.push(r),t.push(r)}function Kr(e,t,n){var i=zi(t,e),r=Nr(n),o=e[10],s=eo(e,Er(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n)));e[t.index]=s}function Wr(e,t,n,i,r,o){var s=o[t];if(null!==s)for(var a=i.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],p=s[u++];null!==a?i.setInput(n,p,c,l):n[l]=p}}function Zr(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Qr(e,t,n,i){return new Array(e,!0,-2,t,null,null,i,n,null)}function Xr(e,t){for(var n=e[5],i=0;i<n.length;i++){var r=n[i],o=r[3][3][16];if(o!==t&&0==(16&o[2])){var s=r[1];Ar(r,s,s.template,r[8])}}}function Jr(e,t){var n=Ki(t,e);if(Qi(n)&&80&n[2]){var i=n[1];Ar(n,i,i.template,n[8])}}function $r(e,t){var n=Ki(t,e);!function(e){for(var t=e[1],n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(n),Ir(n,n[1],n[8])}function eo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function to(e){for(;e;){e[2]|=64;var t=fr(e);if(Lt(e)&&!t)return e;e=t}return null}function no(e,t){var n=e[10];n.begin&&n.begin();try{var i=e[1];Ar(e,i,i.template,t)}catch(r){throw uo(e,r),r}finally{n.end&&n.end()}}function io(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=Wi(n);kr(i,i[1].template,n)}}(e[8])}function ro(e,t,n){en(0),t(e,n)}var oo=function(){return Promise.resolve(null)}();function so(e){return e[7]||(e[7]=[])}function ao(e){return e[1].cleanup||(e[1].cleanup=[])}function uo(e,t){var n=e[9],i=n?n.get(ei,null):null;i&&i.handleError(t)}function co(e,t,n,i){for(var r=e[1],o=0;o<t.length;){var s=t[o++],a=t[o++],u=e[s],c=r.data[s];null!==c.setInput?c.setInput(u,i,n,a):u[a]=i}}function lo(e,t){var n=t[3];return-1===e.index?xt(n)?n:null:n}function po(e,t){var n=lo(e,t);return n?Eo(t[11],n[7]):null}function ho(e,t,n,i,r){if(null!=i){var o=void 0,s=!1;xt(i)?o=i:Pt(i)&&(s=!0,i=i[0]);var a=Bi(i);0===e&&null!==n?null==r?wo(t,n,a):Co(t,n,a,r||null):1===e&&null!==n?Co(t,n,a,r||null):2===e?function(e,t,n){var i=Eo(e,t);i&&function(e,t,n,i){_n(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){var o=n[7];o!==Bi(n)&&ho(t,e,i,o,r);for(var s=9;s<n.length;s++)Oo(e,t,n[s],i,o)}(t,e,o,n,r)}}function fo(e,t,n){var i=po(e[1].node,e);i&&Oo(e[11],t?1:2,e,i,n)}function go(e,t){var n=e[5],i=n.indexOf(t);n.splice(i,1)}function yo(e,t){if(!(e.length<=9)){var n=9+t,i=e[n];if(i){var r=i[17];null!==r&&r!==e&&go(r,i),t>0&&(e[n-1][4]=i[4]);var o=ut(e,9+t);fo(i,!1,null);var s=o[5];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function vo(e){if(!(256&e[2])){var t=e[11];_n(t)&&t.destroyNode&&Oo(t,3,e,null,null),function(e){var t=e[13];if(!t)return _o(e);for(;t;){var n=null;if(Pt(t))n=t[13];else{var i=t[9];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)_o(t),t=mo(t,e);_o(t||e),n=t&&t[4]}t=n}}(e)}}function mo(e,t){var n;return Pt(e)&&(n=e[6])&&2===n.type?lo(n,e):e[3]===t?null:e[3]}function _o(e){if(Pt(e)&&!(256&e[2])){e[2]&=-129,e[2]|=256,function(e){var t,n=e[1];if(null!=n&&null!=(t=n.destroyHooks))for(var i=0;i<t.length;i+=2){var r=e[t[i]];r instanceof yn||t[i+1].call(r)}}(e),function(e){var t=e[1].cleanup;if(null!==t){for(var n=e[7],i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){var r=t[i+1],o="function"==typeof r?r(e):Bi(e[r]),s=t[i+3];"boolean"==typeof s?o.removeEventListener(t[i],n[t[i+2]],s):s>=0?n[s]():n[-s].unsubscribe(),i+=2}else t[i].call(n[t[i+1]]);e[7]=null}}(e);var t=e[6];t&&3===t.type&&_n(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&xt(e[3])){n!==e[3]&&go(n,e);var i=e[5];null!==i&&i.detachView(e[1])}}}function bo(e,t){for(var n=e.parent;null!=n&&(4===n.type||5===n.type);)n=(e=n).parent;if(null==n){var i=t[6];return 2===i.type?po(i,t):t[0]}if(e&&5===e.type&&4&e.flags)return zi(e,t).parentNode;if(2&n.flags){var r=t[1].data,o=r[r[n.index].directiveStart].encapsulation;if(o!==dt.ShadowDom&&o!==dt.Native)return null}return zi(n,t)}function Co(e,t,n,i){_n(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function wo(e,t,n){_n(e)?e.appendChild(t,n):t.appendChild(n)}function To(e,t,n,i){null!==i?Co(e,t,n,i):wo(e,t,n)}function Eo(e,t){return _n(e)?e.parentNode(t):t.parentNode}function So(e,t){if(2===e.type){var n=lo(e,t);return null===n?null:Ao(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?zi(e,t):null}function Io(e,t,n){var i=bo(t,n);if(null!=i){var r=n[11],o=So(t.parent||n[6],n);if(Array.isArray(e))for(var s=0;s<e.length;s++)To(r,i,e[s],o);else To(r,i,e,o)}}function Ao(e,t){var n=9+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return function e(t,n){if(null!==n){var i=n.type;if(3===i)return zi(n,t);if(0===i)return Ao(-1,t[n.index]);if(4===i||5===i){var r=n.child;if(null!==r)return e(t,r);var o=t[n.index];return xt(o)?Ao(-1,o):Bi(o)}var s=t[16],a=s[6],u=fr(s),c=a.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(i,r)}return t[7]}function ko(e,t,n,i,r,o,s){for(;null!=n;){var a=i[n.index],u=n.type;s&&0===t&&(a&&$i(Bi(a),i),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(ko(e,t,n.child,i,r,o,!1),ho(t,e,r,a,o)):1===u?Po(e,t,i,n,r,o):ho(t,e,r,a,o)),n=s?n.projectionNext:n.next}}function Oo(e,t,n,i,r){ko(e,t,n[1].node.child,n,i,r,!1)}function Po(e,t,n,i,r,o){var s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)ho(t,e,r,a[u],o);else ko(e,t,a,s[3],r,o,!0)}function xo(e,t,n){_n(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Mo(e,t,n){_n(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var No,Do,Ro,Lo=function(){function e(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return null==this._lView[0]?function e(t,n,i,r){for(void 0===r&&(r=!1);null!==n;){var o=t[n.index];if(null!==o&&i.push(Bi(o)),xt(o))for(var s=9;s<o.length;s++){var a=o[s],u=a[1].firstChild;null!==u&&e(a,u,i)}var c=n.type;if(4===c||5===c)e(t,n.child,i);else if(1===c){var l=t[16],p=l[6],h=fr(l),f=p.projection[n.projection];null!==f&&null!==h&&e(h,f,i,!0)}n=r?n.projectionNext:n.next}return i}(this._lView,this._lView[6].child,[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._lView[8]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 256==(256&this._lView[2])},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}vo(this._lView)},e.prototype.onDestroy=function(e){var t,n;n=e,so(t=this._lView).push(n),t[1].firstCreatePass&&ao(t).push(t[7].length-1,null)},e.prototype.markForCheck=function(){to(this._cdRefInjectingView||this._lView)},e.prototype.detach=function(){this._lView[2]&=-129},e.prototype.reattach=function(){this._lView[2]|=128},e.prototype.detectChanges=function(){no(this._lView,this.context)},e.prototype.checkNoChanges=function(){!function(e,t){Wt(!0);try{no(e,t)}finally{Wt(!1)}}(this._lView,this.context)},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e.prototype.detachFromAppRef=function(){var e;this._appRef=null,Oo((e=this._lView)[11],2,e,null,null)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e}(),Vo=function(e){function t(t){var n=e.call(this,t)||this;return n._view=t,n}return r(t,e),t.prototype.detectChanges=function(){io(this._view)},t.prototype.checkNoChanges=function(){!function(e){Wt(!0);try{io(e)}finally{Wt(!1)}}(this._view)},Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),t}(Lo);function jo(e,t,n){return No||(No=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(e)),new No(zi(t,n))}function Fo(e,t,n,i){return Do||(Do=function(e){function t(t,n,i){var r=e.call(this)||this;return r._declarationView=t,r._declarationTContainer=n,r.elementRef=i,r}return r(t,e),t.prototype.createEmbeddedView=function(e){var t=this._declarationTContainer.tViews,n=Er(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(t)),Ir(n,t,e);var r=new Lo(n);return r._tViewNode=n[6],r},t}(e)),0===n.type?new Do(i,n,jo(t,n,i)):null}function Uo(e,t,n,i){var o;Ro||(Ro=function(e){function n(t,n,i){var r=e.call(this)||this;return r._lContainer=t,r._hostTNode=n,r._hostView=i,r}return r(n,e),Object.defineProperty(n.prototype,"element",{get:function(){return jo(t,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Zn(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var e=Un(this._hostTNode,this._hostView),t=kn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,r=n.parent;null!=r.parent&&i==r.injectorIndex;)r=r.parent;return r}for(var o=An(e),s=t,a=t[6];o>1;)a=(s=s[15])[6],o--;return a}(e,this._hostView,this._hostTNode);return Sn(e)&&null!=n?new Zn(n,t):new Zn(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this.length>0;)this.remove(this.length-1)},n.prototype.get=function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer.length-9},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i},n.prototype.createComponent=function(e,t,n,i,r){var o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){var s=o.get(rt,null);s&&(r=s)}var a=e.create(o,i,void 0,r);return this.insert(a.hostView,t),a},n.prototype.insert=function(e,t){var n=e._lView;if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),xt(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var r=n[3],o=new Ro(r,r[6],r[3]);o.detach(o.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n){var i=9+n,r=t.length;n>0&&(t[i-1][4]=e),n<r-9?(e[4]=t[i],at(t,9+n,e)):(t.push(e),e[4]=null),e[3]=t;var o=e[17];null!==o&&t!==o&&function(e,t){var n=e[5],i=t[3][3][16];16!=(16&i[2])&&t[16]!==i&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(o,e);var s=e[5];null!==s&&s.insertView(e[1]),e[2]|=128}(n,this._lContainer,s),fo(n,!0,Ao(s,this._lContainer)),e.attachToViewContainerRef(this),at(this._lContainer[8],s,e),e},n.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)},n.prototype.indexOf=function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1},n.prototype.remove=function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);(function(e,t){var n=yo(e,t);n&&vo(n)})(this._lContainer,t),ut(this._lContainer[8],t)},n.prototype.detach=function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=yo(this._lContainer,t);return n&&null!=ut(this._lContainer[8],t)?new Lo(n):null},n.prototype._adjustIndex=function(e,t){return void 0===t&&(t=0),null==e?this.length+t:e},n.prototype.allocateContainerIfNeeded=function(){null===this._lContainer[8]&&(this._lContainer[8]=[])},n}(e));var s=i[n.index];if(xt(s))!function(e,t){e[2]=-2}(o=s);else{var a=void 0;if(4===n.type)a=Bi(s);else if(a=i[11].createComment(""),Lt(i)){var u=i[11],c=zi(n,i);Co(u,Eo(u,c),a,function(e,t){return _n(e)?e.nextSibling(t):t.nextSibling}(u,c))}else Io(a,n,i);i[n.index]=o=Qr(s,i,a,n),eo(i,o)}return new Ro(o,n,i)}var Go=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Bo()},e}(),Bo=function(e){return void 0===e&&(e=!1),function(e,t,n){if(!n&&Nt(e)){var i=Ki(e.index,t);return new Lo(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Lo(t[16],t):null}(Ht(),Ft(),e)},Ho=new Ye("Set Injector scope."),zo={},Yo={},qo=[],Ko=void 0;function Wo(){return void 0===Ko&&(Ko=new it),Ko}function Zo(e,t,n,i){return void 0===t&&(t=null),void 0===n&&(n=null),t=t||Wo(),new Qo(e,n,t,i)}var Qo=function(){function e(e,t,n,i){var r=this;void 0===i&&(i=null),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];t&&st(t,(function(n){return r.processProvider(n,e,t)})),st([e],(function(e){return r.processInjectorType(e,[],o)})),this.records.set(qe,$o(void 0,this));var s=this.records.get(Ho);this.scope=null!=s?s.value:null,this.injectorDefTypes.forEach((function(e){return r.get(e)})),this.source=i||("object"==typeof e?null:Ie(e))}return Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},e.prototype.get=function(e,t,n){void 0===t&&(t=Ke),void 0===n&&(n=fe.Default),this.assertNotDestroyed();var i,r=Xe(this);try{if(!(n&fe.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Ye)&&me(e);o=s&&this.injectableDefInScope(s)?$o(Xo(e),zo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&fe.Self?Wo():this.parent).get(e,t=n&fe.Optional&&t===Ke?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(Ie(e)),r)throw a;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n,i){void 0===i&&(i=null),e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.substr(2):e;var r=Ie(t);if(Array.isArray(t))r=t.map(Ie).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ie(a)))}r="{"+o.join(", ")+"}"}return n+(i?"("+i+")":"")+"["+r+"]: "+e.replace(We,"\n  ")}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(a,e,"R3InjectorError",this.source)}throw a}finally{Xe(r)}},e.prototype.toString=function(){var e=[];return this.records.forEach((function(t,n){return e.push(Ie(n))})),"R3Injector["+e.join(", ")+"]"},e.prototype.assertNotDestroyed=function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")},e.prototype.processInjectorType=function(e,t,n){var i=this;if(!(e=Pe(e)))return!1;var r=be(e),o=null==r&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(r=be(o)),null==r)return!1;if(this.injectorDefTypes.add(s),this.records.set(s,$o(r.factory,zo)),null!=r.imports&&!a){var u;n.push(s);try{st(r.imports,(function(e){i.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,r=t.providers;st(r,(function(e){return i.processProvider(e,n,r||qo)}))},l=0;l<u.length;l++)c(l)}var p=r.providers;if(null!=p&&!a){var h=e;st(p,(function(e){return i.processProvider(e,h,p)}))}return void 0!==o&&void 0!==e.providers},e.prototype.processProvider=function(e,t,n){var i=ts(e=Pe(e))?e:Pe(e&&e.provide),r=function(e,t,n){return es(e)?$o(void 0,e.useValue):$o(Jo(e,t,n),zo)}(e,t,n);if(ts(e)||!0!==e.multi){var o=this.records.get(i);o&&void 0!==o.multi&&tr()}else{var s=this.records.get(i);s?void 0===s.multi&&tr():((s=$o(void 0,zo,!0)).factory=function(){return nt(s.multi)},this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,r)},e.prototype.hydrate=function(e,t){var n;return t.value===Yo?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(Ie(e)):t.value===zo&&(t.value=Yo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value},e.prototype.injectableDefInScope=function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))},e}();function Xo(e){var t=me(e),n=null!==t?t.factory:kt(e);if(null!==n)return n;var i=be(e);if(null!==i)return i.factory;if(e instanceof Ye)throw new Error("Token "+Ie(e)+" is missing a ɵprov definition.");if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=ct(t,"?");throw new Error("Can't resolve all parameters for "+Ie(e)+": ("+n.join(", ")+").")}var i=function(e){var t=e&&(e[Ce]||e[Ee]||e[Te]&&e[Te]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'+n+'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "'+n+'" class.'),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Jo(e,t,n){var i,r=void 0;if(ts(e))return Xo(Pe(e));if(es(e))r=function(){return Pe(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,u(nt(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return et(Pe(e.useExisting))};else{var o=Pe(e&&(e.useClass||e.provide));if(o||function(e,t,n){var i="";throw e&&t&&(i=" - only instances of Provider and Type are allowed, got: ["+t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+Ie(e)+"'"+i)}(t,n,e),!function(e){return!!e.deps}(e))return Xo(o);r=function(){return new(o.bind.apply(o,u([void 0],nt(e.deps))))}}return r}function $o(e,t,n){return void 0===n&&(n=!1),{factory:e,value:t,multi:n?[]:void 0}}function es(e){return null!==e&&"object"==typeof e&&Ze in e}function ts(e){return"function"==typeof e}var ns=function(e,t,n){return Zo({name:n},t,e,n)},is=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?ns(e,t,""):ns(e.providers,e.parent,e.name||"")},e.THROW_IF_NOT_FOUND=Ke,e.NULL=new it,e.ɵprov=ye({token:e,providedIn:"any",factory:function(){return et(qe)}}),e.__NG_ELEMENT_ID__=-1,e}(),rs=new Map,os=new Set;function ss(e){return"string"==typeof e?e:e.text()}function as(e,t){for(var n=e.styles,i=e.classes,r=0,o=0;o<t.length;o++){var s=t[o];"number"==typeof s?r=s:1==r?i=Ae(i,s):2==r&&(n=Ae(n,s+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==i&&(e.classes=i)}var us=null;function cs(){if(!us){var e=Ve.Symbol;if(e&&e.iterator)us=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(us=i)}}return us}function ls(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var ps=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}();function hs(e){return!!fs(e)&&(Array.isArray(e)||!(e instanceof Map)&&cs()in e)}function fs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ds(e,t,n){return e[t]=n}function gs(e,t){return e[t]}function ys(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vs(e,t,n,i){var r=ys(e,t,n);return ys(e,t+1,i)||r}function ms(e,t,n,i){var r=Ft();return ys(r,Xt(),t)&&function(e,t,n,i,r,o){var s=Hi(e,i),a=i[11];if(null==n)_n(a)?a.removeAttribute(s,t,o):s.removeAttribute(t);else{var u=Yi(e,i),c=null==r?On(n):r(n,u.tagName||"",t);_n(a)?a.setAttribute(s,t,c,o):o?s.setAttributeNS(o,t,c):s.setAttribute(t,c)}}(un(),e,t,r,n,i),ms}function _s(e,t,n,i){return ys(e,Xt(),n)?t+On(n)+i:hr}function bs(e,t,n,i,r,o){var s=vs(e,Qt(),n,r);return Jt(2),s?t+On(n)+i+On(r)+o:hr}function Cs(e,t,n,i,r,o,s,a){var u=Ft(),c=u[1],l=e+19,p=c.firstCreatePass?function(e,t,n,i,r,o,s,a,u){var c=t.consts,l=Sr(t,n[6],e,0,s||null,Xi(c,a));jr(t,n,l,Xi(c,u)),ln(t,l);var p=l.tViews=Dr(2,-1,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),h=Rr(0,null,2,-1,null,null);return h.injectorIndex=l.injectorIndex,p.node=h,null!==t.queries&&(t.queries.template(t,l),p.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,i,r,o,s):c.data[l];zt(p,!1);var h=u[11].createComment("");Io(h,p,u),$i(h,u),eo(u,u[l]=Qr(h,u,h,p)),Dt(p)&&xr(c,u,p),null!=s&&Mr(u,p,a)}function ws(e,t){void 0===t&&(t=fe.Default);var n=Ft();return null==n?et(e,t):Bn(Ht(),n,Pe(e),t)}function Ts(e,t,n){var i=Ft();return ys(i,Xt(),t)&&Vr(i,un(),e,t,n),Ts}function Es(e,t,n,i){var r=e.inputs,o=i?"class":"style";co(t,r[o]||i&&r.className,o,n)}function Ss(e,t,n,i){var r=Ft(),o=r[1],s=19+e,a=r[11],u=r[s]=Tr(t,a,Vt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,i,r,o,s){var a=t.consts,u=Xi(a,o),c=Sr(t,n[6],e,3,r,u);return jr(t,n,c,Xi(a,s)),null!==c.mergedAttrs&&as(c,c.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,r,0,t,n,i):o.data[s];zt(c,!0);var l=c.mergedAttrs;null!==l&&Cn(a,u,l);var p=c.classes;null!==p&&Mo(a,u,p);var h=c.styles;null!==h&&xo(a,u,h),Io(u,c,r),0===Vt.lFrame.elementDepthCount&&$i(u,r),Vt.lFrame.elementDepthCount++,Dt(c)&&(xr(o,r,c),Pr(o,c,r)),null!==i&&Mr(r,c)}function Is(){var e=Ht();Yt()?qt():zt(e=e.parent,!1);var t=e,n=Ft(),i=n[1];Vt.lFrame.elementDepthCount--,i.firstCreatePass&&(ln(i,e),Mt(e)&&i.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&Es(t,n,t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&Es(t,n,t.styles,!1)}function As(e,t,n,i){Ss(e,t,n,i),Is()}function ks(e,t,n){var i=Ft(),r=i[1],o=e+19,s=r.firstCreatePass?function(e,t,n,i,r){var o=t.consts,s=Xi(o,i),a=Sr(t,n[6],e,4,"ng-container",s);return null!==s&&as(a,s),jr(t,n,a,Xi(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,r,i,t,n):r.data[o];zt(s,!0);var a=i[o]=i[11].createComment("");Io(a,s,i),$i(a,i),Dt(s)&&(xr(r,i,s),Pr(r,s,i)),null!=n&&Mr(i,s)}function Os(){var e=Ht(),t=Ft()[1];Yt()?qt():zt(e=e.parent,!1),t.firstCreatePass&&(ln(t,e),Mt(e)&&t.queries.elementEnd(e))}function Ps(){return Ft()}function xs(e){return!!e&&"function"==typeof e.then}function Ms(e,t,n,i){void 0===n&&(n=!1);var r=Ft(),o=Ht();return function(e,t,n,i,r,o,s){void 0===o&&(o=!1);var a=e[1],u=Dt(n),c=a.firstCreatePass&&(a.cleanup||(a.cleanup=[])),l=so(e),p=!0;if(3===n.type){var h=zi(n,e),f=s?s(h):yt,d=f.target||h,g=l.length,y=s?function(e){return s(Bi(e[n.index])).target}:n.index;if(_n(t)){var v=null;if(!s&&u&&(v=function(e,t,n){var i=e[1].cleanup;if(null!=i)for(var r=0;r<i.length-1;r+=2){var o=i[r];if(o===t&&i[r+1]===n){var s=e[7],a=i[r+2];return s.length>a?s[a]:null}"string"==typeof o&&(r+=2)}return null}(e,i,n.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=r,v.__ngLastListenerFn__=r,p=!1;else{r=Ds(n,e,r,!1);var m=t.listen(f.name||d,i,r);l.push(r,m),c&&c.push(i,y,g,g+1)}}else r=Ds(n,e,r,!0),d.addEventListener(i,r,o),l.push(r),c&&c.push(i,y,g,o)}var _,b=n.outputs;if(p&&null!==b&&(_=b[i])){var C=_.length;if(C)for(var w=0;w<C;w+=2){var T=e[_[w]][_[w+1]].subscribe(r),E=l.length;l.push(r,T),c&&c.push(i,n.index,E,-(E+1))}}}(r,r[11],o,e,t,n,i),Ms}function Ns(e,t,n){try{return!1!==t(n)}catch(i){return uo(e,i),!1}}function Ds(e,t,n,i){return function r(o){if(o===Function)return n;var s=2&e.flags?Ki(e.index,t):t;0==(32&t[2])&&to(s);for(var a=Ns(t,n,o),u=r.__ngNextListenerFn__;u;)a=Ns(t,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Rs(e){return void 0===e&&(e=1),function(e){return(Vt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Vt.lFrame.contextLView))[8]}(e)}function Ls(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var o=t[r];if("*"!==o){if(null===i?ur(e,o,!0):cr(i,o))return r}else n=r}return n}function Vs(e){var t=Ft()[16][6];if(!t.projection)for(var n=t.projection=ct(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var o=e?Ls(r,e):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function js(e,t,n){void 0===t&&(t=0);var i=Ft(),r=Sr(i[1],i[6],e,1,null,n||null);null===r.projection&&(r.projection=t),qt(),function(e,t){Po(e[11],0,e,t,bo(t,e),So(t.parent||e[6],e))}(i,r)}function Fs(e,t,n){return Us(e,"",t,"",n),Fs}function Us(e,t,n,i,r){var o=Ft(),s=_s(o,t,n,i);return s!==hr&&Vr(o,un(),e,s,r),Us}function Gs(e,t,n,i,r,o,s){var a=Ft(),u=bs(a,t,n,i,r,o);return u!==hr&&Vr(a,un(),e,u,s),Gs}var Bs=[],Hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zs(e){return e.substring(Hs.key,Hs.keyEnd)}function Ys(e){return Ws(e),qs(e,Zs(e,0,Hs.textEnd))}function qs(e,t){var n=Hs.textEnd;return n===t?-1:(t=Hs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Hs.key=t,n),Zs(e,t,n))}function Ks(e,t){var n=Hs.textEnd,i=Hs.key=Zs(e,t,n);return n===i?-1:(i=Hs.keyEnd=function(e,t,n){for(var i;t<n&&(45===(i=e.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90);)t++;return t}(e,i,n),i=Qs(e,i,n),i=Hs.value=Zs(e,i,n),i=Hs.valueEnd=function(e,t,n){for(var i=-1,r=-1,o=-1,s=t,a=s;s<n;){var u=e.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=Xs(e,u,s,n):t===s-4&&85===o&&82===r&&76===i&&40===u?a=s=Xs(e,41,s,n):u>32&&(a=s),o=r,r=i,i=-33&u}return a}(e,i,n),Qs(e,i,n))}function Ws(e){Hs.key=0,Hs.keyEnd=0,Hs.value=0,Hs.valueEnd=0,Hs.textEnd=e.length}function Zs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Qs(e,t,n,i){return(t=Zs(e,t,n))<n&&t++,t}function Xs(e,t,n,i){for(var r=-1,o=n;o<i;){var s=e.charCodeAt(o++);if(s==t&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function Js(e,t,n,i,r,o){for(var s=e[n+1],a=null===t,u=r?vr(s):_r(s),c=!1;0!==u&&(!1===c||a);){var l=e[u],p=e[u+1];null!==l&&null!=t&&l!==t||(c=!0,e[u+1]=r?Cr(p):mr(p)),u=r?vr(p):_r(p)}if(""!==i&&!c)if(a)c=!0;else if(null!=i)for(var h=o?Ys(i):(Ws(f=i),Ks(f,Zs(f,0,Hs.textEnd)));h>=0;h=o?qs(i,h):Ks(i,h))if(zs(i)===t){c=!0;break}var f;c&&(e[n+1]=r?mr(s):Cr(s))}function $s(e,t){return function(e,t,n,i){var r,o=Ft(),s=o[1],a=Jt(2);if(s.firstUpdatePass&&ia(s,e,a,!0),t!==hr&&ys(o,a,t)){var u=void 0;null==n&&(u=null===(r=Vt.lFrame)?null:r.currentSanitizer)&&(n=u),ra(s,s.data[un()+19],o,o[11],e,o[a+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=Ie(ai(e)))),e}(t,n),!0,a)}}(e,t,null),$s}function ea(e,t){for(var n=Ys(t);n>=0;n=qs(t,n))lt(e,zs(t),!0)}function ta(e,t,n,i){var r=Ft(),o=r[1],s=Jt(2);if(o.firstUpdatePass&&ia(o,null,s,i),n!==hr&&ys(r,s,n)){var a=o.data[un()+19];aa(a,i)&&!na(o,s)?("string"==typeof n&&(n=Ae(i?a.classes:a.styles,n)),Es(a,r,n,i)):function(e,t,n,i,r,o,s,a){r===hr&&(r=Bs);for(var u=0,c=0,l=0<r.length?r[0]:null,p=0<o.length?o[0]:null;null!==l||null!==p;){var h=u<r.length?r[u+1]:void 0,f=c<o.length?o[c+1]:void 0,d=null,g=void 0;l===p?(u+=2,c+=2,h!==f&&(d=p,g=f)):null===p||null!==l&&l<p?(u+=2,d=l):(c+=2,d=p,g=f),null!==d&&ra(e,t,n,i,d,g,s,a),l=u<r.length?r[u]:null,p=c<o.length?o[c]:null}}(o,a,r,r[11],r[s+1],r[s+1]=function(e,t,n){if(null==n||""===n)return Bs;var i=[];if(Array.isArray(n))for(var r=0;r<n.length;r++)e(i,n[r],!0);else if("object"==typeof n)if(n instanceof Map)n.forEach((function(t,n){return e(i,n,t)}));else if(n instanceof Set)n.forEach((function(t){return e(i,t,!0)}));else for(var o in n)n.hasOwnProperty(o)&&e(i,o,n[o]);else"string"==typeof n&&t(i,n);return i}(e,t,n),i,s)}}function na(e,t){return t>=e.expandoStartIndex}function ia(e,t,n,i){var r=e.data;if(null===r[n+1]){var o=r[un()+19],s=na(e,n);aa(o,i)&&null===t&&!s&&(t=!1),function(e,t,n,i,r,o){var s=o?t.classBindings:t.styleBindings,a=vr(s),u=_r(s);if(e[i]=n,r)if(0!==u){var c=vr(e[a+1]);e[i+1]=yr(c,a),0!==c&&(e[c+1]=br(e[c+1],i)),e[a+1]=262143&e[a+1]|i<<18}else e[i+1]=yr(a,0),0!==a&&(e[a+1]=br(e[a+1],i)),a=i;else e[i+1]=yr(u,0),0===a?a=i:e[u+1]=br(e[u+1],i),u=i;Js(e,n,i,(o?t.classes:t.styles)||"",!0,o),Js(e,n,i,"",!1,o),s=yr(a,u),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function ra(e,t,n,i,r,o,s,a){if(3===t.type){var u=e.data,c=u[a+1];sa(1==(1&c)?oa(u,null,n,r,_r(c),s):void 0)||(sa(o)||function(e){return 2==(2&e)}(c)&&(o=oa(u,t,n,r,vr(c),s)),function(e,t,n,i,r){var o=_n(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{var s=-1==i.indexOf("-")?void 0:2;null==r?o?e.removeStyle(n,i,s):n.style.removeProperty(i):o?e.setStyle(n,i,r,s):n.style.setProperty(i,r)}}(i,s,Hi(un(),n),r,o))}}function oa(e,t,n,i,r,o){for(var s=void 0;r>0;){var a=e[r],u=null===a?pt(n[r+1],i):a===i?n[r+1]:void 0;if(sa(u)&&(s=u,null!==t))return s;var c=e[r+1];r=null!==t?vr(c):_r(c)}if(null!==t){var l=o?t.classesMap:t.stylesMap;void 0===l&&(function(e){for(var t=null,n=null,i=e.mergedAttrs||Bs,r=-1,o=0;o<i.length;o++){var s=i[o];"number"==typeof s?r=s:1===r?lt(n=n||[],s,!0):2===r&&lt(t=t||[],s,i[++o])}e.classesMap=n,e.stylesMap=t}(t),l=o?t.classesMap:t.stylesMap),null!==l&&(s=pt(l,i))}return s}function sa(e){return void 0!==e}function aa(e,t){return 0!=(e.flags&(t?16:32))}function ua(e,t){void 0===t&&(t="");var n=Ft(),i=n[1],r=e+19,o=i.firstCreatePass?Sr(i,n[6],e,3,null,null):i.data[r];Io(n[r]=function(e,t){return _n(t)?t.createText(e):t.createTextNode(e)}(t,n[11]),o,n),zt(o,!1)}function ca(e){return la("",e,""),ca}function la(e,t,n){var i=Ft(),r=_s(i,e,t,n);return r!==hr&&function(e,t,n){var i=Hi(t,e),r=e[11];_n(r)?r.setValue(i,n):i.textContent=n}(i,un(),r),la}function pa(e,t,n){ta(lt,ea,_s(Ft(),e,t,n),!0)}function ha(e,t){var n=Wi(e)[1],i=n.data.length-1;ln(n,{directiveStart:i,directiveEnd:i+1})}function fa(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var r=void 0;if(Rt(e))r=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp)throw new Error("Directives cannot inherit Components");r=t.ɵdir}if(r){if(n){i.push(r);var o=e;o.inputs=da(e.inputs),o.declaredInputs=da(e.declaredInputs),o.outputs=da(e.outputs);var s=r.hostBindings;s&&va(e,s);var a=r.viewQuery,u=r.contentQueries;a&&ga(e,a),u&&ya(e,u),ge(e.inputs,r.inputs),ge(e.declaredInputs,r.declaredInputs),ge(e.outputs,r.outputs),o.afterContentChecked=o.afterContentChecked||r.afterContentChecked,o.afterContentInit=e.afterContentInit||r.afterContentInit,o.afterViewChecked=e.afterViewChecked||r.afterViewChecked,o.afterViewInit=e.afterViewInit||r.afterViewInit,o.doCheck=e.doCheck||r.doCheck,o.onDestroy=e.onDestroy||r.onDestroy,o.onInit=e.onInit||r.onInit}var c=r.features;if(c)for(var l=0;l<c.length;l++){var p=c[l];p&&p.ngInherit&&p(e),p===fa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Tn(r.hostAttrs,n=Tn(n,r.hostAttrs))}}(i)}function da(e){return e===yt?{}:e===vt?[]:e}function ga(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function ya(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function va(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}var ma=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function _a(){return ba.ngInherit=!0,ba}function ba(e){e.type.prototype.ngOnChanges&&(e.setInput=Ca,e.onChanges=function(){var e=wa(this),t=e&&e.current;if(t){var n=e.previous;if(n===yt)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}})}function Ca(e,t,n,i){var r=wa(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:yt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ma(u&&u.currentValue,t,s===yt),e[i]=t}function wa(e){return e.__ngSimpleChanges__||null}function Ta(e,t,n,i,r){if(e=Pe(e),Array.isArray(e))for(var o=0;o<e.length;o++)Ta(e[o],t,n,i,r);else{var s=Ft(),a=s[1],u=ts(e)?e:Pe(e.provide),c=Jo(e),l=Ht(),p=65535&l.providerIndexes,h=l.directiveStart,f=l.providerIndexes>>16;if(e.useClass||ts(e)){var d=(e.useClass||e).prototype.ngOnDestroy;d&&(a.destroyHooks||(a.destroyHooks=[])).push(t.length,d)}if(ts(e)||!e.multi){var g=new yn(c,r,ws),y=Sa(u,t,r?p:p+f,h);-1==y?(Gn(Vn(l,s),a,u),t.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=65536),n.push(g),s.push(g)):(n[y]=g,s[y]=g)}else{var v=Sa(u,t,p+f,h),m=Sa(u,t,p,p+f),_=m>=0&&n[m];r&&!_||!r&&!(v>=0&&n[v])?(Gn(Vn(l,s),a,u),g=function(e,t,n,i,r){var o=new yn(e,n,ws);return o.multi=[],o.index=t,o.componentProviders=0,Ea(o,r,i&&!n),o}(r?Aa:Ia,n.length,r,i,c),!r&&_&&(n[m].providerFactory=g),t.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=65536),n.push(g),s.push(g)):Ea(n[r?m:v],c,!r&&i),!r&&i&&_&&n[m].componentProviders++}}}function Ea(e,t,n){e.multi.push(t),n&&e.componentProviders++}function Sa(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function Ia(e,t,n,i){return ka(this.multi,[])}function Aa(e,t,n,i){var r,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=qn(n,n[1],this.providerFactory.index,i);ka(o,r=a.slice(0,s));for(var u=s;u<a.length;u++)r.push(a[u])}else ka(o,r=[]);return r}function ka(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Oa(e,t){return void 0===t&&(t=[]),function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=Ft()[1];if(i.firstCreatePass){var r=Rt(e);Ta(n,i.data,i.blueprint,r,!0),Ta(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}var Pa=function(){return function(){}}(),xa=function(){return function(){}}(),Ma=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw function(e){var t=Error("No component factory found for "+Ie(e)+". Did you add it to @NgModule.entryComponents?");return t.ngComponent=e,t}(e)},e}(),Na=function(){function e(){}return e.NULL=new Ma,e}(),Da=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return Ra(e)},e}(),Ra=function(e){return jo(e,Ht(),Ft())},La=function(){return function(){}}(),Va=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),ja=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Fa()},e}(),Fa=function(){var e=Ft(),t=Ki(Ht().index,e);return function(e){var t=e[11];if(_n(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Pt(t)?t:e)},Ua=function(){function e(){}return e.ɵprov=ye({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ga=new(function(){return function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}())("9.0.0-rc.11"),Ba=function(){function e(){}return e.prototype.supports=function(e){return hs(e)},e.prototype.create=function(e){return new za(e)},e}(),Ha=function(e,t){return t},za=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ha}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var o=!n||t&&t.currentIndex<Wa(n,i,r)?t:n,s=Wa(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);var u=s-i,c=a-i;if(u!=c){for(var l=0;l<u;l++){var p=l<r.length?r[l]:r[l]=0,h=p+l;c<=h&&h<u&&(r[l]=p+1)}r[o.previousIndex]=c-u}}s!==a&&e(o,s,a)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!hs(e))throw new Error("Error trying to diff '"+Ie(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=this._trackByFn(a,i=e[a]),null!==o&&ls(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),ls(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i=e[cs()](),r=void 0;!(r=i.next()).done;)t(r.value)}(e,(function(e){r=t._trackByFn(n,e),null!==o&&ls(o.trackById,r)?(s&&(o=t._verifyReinsertion(o,e,r,n)),ls(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(ls(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ls(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new Ya(t,n),r,i),e},e.prototype._verifyReinsertion=function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ka),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ka),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),Ya=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),qa=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&ls(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),Ka=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new qa,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function Wa(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var Za=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||fs(e)},e.prototype.create=function(){return new Qa},e}(),Qa=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||fs(e)))throw new Error("Error trying to diff '"+Ie(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new Xa(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){ls(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))},e}(),Xa=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Ja=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new he,new le]]}},e.prototype.find=function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ɵprov=ye({token:e,providedIn:"root",factory:function(){return new e([new Ba])}}),e}(),$a=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new he,new le]]}},e.prototype.find=function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e.ɵprov=ye({token:e,providedIn:"root",factory:function(){return new e([new Za])}}),e}(),eu=[new Za],tu=new Ja([new Ba]),nu=new $a(eu),iu=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return ru(e,Da)},e}(),ru=function(e,t){return Fo(e,t,Ht(),Ft())},ou=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return su(e,Da)},e}(),su=function(e,t){return Uo(e,t,Ht(),Ft())},au={},uu=function(e){function t(t){var n=e.call(this)||this;return n.ngModule=t,n}return r(t,e),t.prototype.resolveComponentFactory=function(e){var t=At(e);return new pu(t,this.ngModule)},t}(Na);function cu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var lu=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return xn}}),pu=function(e){function t(t,n){var i=e.call(this)||this;return i.componentDef=t,i.ngModule=n,i.componentType=t.type,i.selector=t.selectors.map(pr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!n,i}return r(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return cu(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return cu(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,i){var r,o,s=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var o=e.get(n,au,r);return o!==au||i===au?o:t.get(n,i,r)}}}(e,i.injector):e,a=s.get(La,bn),u=s.get(Ua,null),c=a.createRenderer(null,this.componentDef),l=n?function(e,t,n){if(_n(e))return e.selectRootElement(t,n===dt.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(c,n,this.componentDef.encapsulation):Tr(this.componentDef.selectors[0][0]||"div",a.createRenderer(null,this.componentDef),null),p=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:xn,clean:oo,playerHandler:null,flags:0},d=Dr(0,-1,null,1,0,null,null,null,null,null),g=Er(null,d,f,p,null,null,a,c,u,s),y=n&&l?Ga.full:null;rn(g,null);try{var v=function(e,t,n,i,r,o,s){var a=n[1];n[19]=e;var u=Sr(a,null,0,3,null,null),c=u.mergedAttrs=t.hostAttrs;null!==c&&(as(u,c),null!==e&&(Cn(r,e,c),null!==u.classes&&Mo(r,e,u.classes),null!==u.styles&&xo(r,e,u.styles)));var l=i.createRenderer(e,t);null!==e&&o&&(_n(r)?r.setAttribute(e,"ng-version",o):e.setAttribute("ng-version",o));var p=Er(n,Nr(t),null,t.onPush?64:16,n[19],u,i,l,null);return a.firstCreatePass&&(Gn(Vn(u,n),a,t.type),Hr(a,u),Yr(u,n.length,1)),eo(n,p),n[19]=p}(l,this.componentDef,g,a,c,y);o=Yi(0,g),t&&(o.projection=t.map((function(e){return Array.from(e)}))),r=function(e,t,n,i,r){var o=n[1],s=function(e,t,n){var i=Ht();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Br(e,i,1),qr(e,t,n));var r=qn(t,e,t.length-1,i);$i(r,t);var o=zi(i,t);return o&&$i(o,t),r}(o,n,t);i.components.push(s),e[8]=s,r&&r.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=Ht();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Ut(a.index-19);var u=n[1];Fr(u,t),Ur(u,n,t.hostVars),Gr(t,s,a)}return s}(v,this.componentDef,g,f,[ha]),Ir(g,d,null)}finally{an()}var m=new hu(this.componentType,r,jo(Da,o,g),g,o);return n&&!h||(m.hostView._tViewNode.child=o),m},t}(xa),hu=function(e){function t(t,n,i,r,o){var s,a,u,c=e.call(this)||this;return c.location=i,c._rootLView=r,c._tNode=o,c.destroyCbs=[],c.instance=n,c.hostView=c.changeDetectorRef=new Vo(r),c.hostView._tViewNode=(null,-1,a=r,null==(u=(s=r[1]).node)&&(s.node=u=Rr(0,null,2,-1,null,null)),a[6]=u),c.componentType=t,c}return r(t,e),Object.defineProperty(t.prototype,"injector",{get:function(){return new Zn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())},t.prototype.onDestroy=function(e){this.destroyCbs&&this.destroyCbs.push(e)},t}(Pa),fu=void 0,du=["en",[["a","p"],["AM","PM"],fu],[["AM","PM"],fu,fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fu,"{1} 'at' {0}",fu],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],gu={};function yu(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=vu(t);if(n)return n;var i=t.split("-")[0];if(n=vu(i))return n;if("en"===i)return du;throw new Error('Missing locale data for the locale "'+e+'".')}function vu(e){return e in gu||(gu[e]=Ve.ng&&Ve.ng.common&&Ve.ng.common.locales&&Ve.ng.common.locales[e]),gu[e]}var mu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.PluralCase=19]="PluralCase",e[e.ExtraData=20]="ExtraData",e}({});function _u(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+" [Expected=> null != "+t+" <=Actual]")}(n,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var bu=new Map,Cu={provide:Na,useClass:uu,deps:[rt]},wu=function(e){function t(t,n){var i=e.call(this)||this;i._parent=n,i._bootstrapComponents=[],i.injector=i,i.destroyCbs=[];var r=Ot(t),o=t[Be]||null;return o&&_u(o),i._bootstrapComponents=Nn(r.bootstrap),i._r3Injector=Zo(t,n,[{provide:rt,useValue:i},Cu],Ie(t)),i.instance=i.get(t),i}return r(t,e),t.prototype.get=function(e,t,n){return void 0===t&&(t=is.THROW_IF_NOT_FOUND),void 0===n&&(n=fe.Default),e===is||e===rt||e===qe?this:this._r3Injector.get(e,t,n)},Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Na)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(rt),Tu=function(e){function t(t){var n=e.call(this)||this;return n.moduleType=t,null!==Ot(t)&&function e(t){if(null!==t.ɵmod.id){var n=t.ɵmod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for "+e+" - "+Ie(t)+" vs "+Ie(t.name))})(n,bu.get(n),t),bu.set(n,t)}var i=t.ɵmod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(t){return e(t)}))}(t),n}return r(t,e),t.prototype.create=function(e){return new wu(this.moduleType,e)},t}(ot);function Eu(e,t,n){var i=Zt()+e,r=Ft();return r[i]===hr?ds(r,i,n?t.call(n):t()):gs(r,i)}function Su(e,t,n,i){return Au(Ft(),Zt(),e,t,n,i)}function Iu(e,t,n,i,r){return ku(Ft(),Zt(),e,t,n,i,r)}function Au(e,t,n,i,r,o){var s=t+n;return ys(e,s,r)?ds(e,s+1,o?i.call(o,r):i(r)):gs(e,s+1)}function ku(e,t,n,i,r,o,s){var a=t+n;return vs(e,a,r,o)?ds(e,a+2,s?i.call(s,r,o):i(r,o)):gs(e,a+2)}function Ou(e,t){var n,i=Ft()[1],r=e+19;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Error("The pipe '"+e+"' could not be found!")}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=(n.factory||(n.factory=kt(n.type)))();return function(e,t){var n=Ft(),i=n[1],r=e+19;r>=i.data.length&&(i.data[r]=null,i.blueprint[r]=null),n[r]=t}(e,o),o}function Pu(e,t,n){var i=Ft(),r=qi(i,e);return Nu(i,Mu(i,e)?Au(i,Zt(),t,r.transform,n,r):r.transform(n))}function xu(e,t,n,i){var r=Ft(),o=qi(r,e);return Nu(r,Mu(r,e)?ku(r,Zt(),t,o.transform,n,i,o):o.transform(n,i))}function Mu(e,t){return e[1].data[t+19].pure}function Nu(e,t){return ps.isWrapped(t)&&(t=ps.unwrap(t),e[Qt()]=hr),t}var Du=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return r(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,i){var r,o=function(e){return null},s=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},n&&(o=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),i&&(s=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var a=e.prototype.subscribe.call(this,r,o,s);return t instanceof f&&t.add(a),a},t}(P);function Ru(){return this._results[cs()]()}var Lu=function(){function e(){this.dirty=!0,this._results=[],this.changes=new Du,this.length=0;var t=cs(),n=e.prototype;n[t]||(n[t]=Ru)}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?(n===t&&(n=t.slice(0,i)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),Vu=function(){function e(e){this.queryList=e,this.matches=null}return e.prototype.clone=function(){return new e(this.queryList)},e.prototype.setDirty=function(){this.queryList.setDirty()},e}(),ju=function(){function e(e){void 0===e&&(e=[]),this.queries=e}return e.prototype.createEmbeddedView=function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new e(r)}return null},e.prototype.insertView=function(e){this.dirtyQueriesWithMatches(e)},e.prototype.detachView=function(e){this.dirtyQueriesWithMatches(e)},e.prototype.dirtyQueriesWithMatches=function(e){for(var t=0;t<this.queries.length;t++)null!==Zu(e,t).matches&&this.queries[t].setDirty()},e}(),Fu=function(){return function(e,t,n,i){void 0===i&&(i=null),this.predicate=e,this.descendants=t,this.isStatic=n,this.read=i}}(),Uu=function(){function e(e){void 0===e&&(e=[]),this.queries=e}return e.prototype.elementStart=function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)},e.prototype.elementEnd=function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)},e.prototype.embeddedTView=function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null},e.prototype.template=function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)},e.prototype.getByIndex=function(e){return this.queries[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.queries.length},enumerable:!0,configurable:!0}),e.prototype.track=function(e){this.queries.push(e)},e}(),Gu=function(){function e(e,t){void 0===t&&(t=-1),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}return e.prototype.elementStart=function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)},e.prototype.elementEnd=function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)},e.prototype.template=function(e,t){this.elementStart(e,t)},e.prototype.embeddedTView=function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null},e.prototype.isApplyingToNode=function(e){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(e.parent?e.parent.index:-1):this._appliesToNextNode},e.prototype.matchTNode=function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,i=0;i<n.length;i++)this.matchTNodeWithReadOption(e,t,Bu(t,n[i]));else{var r=this.metadata.predicate;r===iu?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yn(t,e,r,!1,!1))}},e.prototype.matchTNodeWithReadOption=function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===Da||i===ou||i===iu&&0===t.type)this.addMatch(t.index,-2);else{var r=Yn(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}},e.prototype.addMatch=function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)},e}();function Bu(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Hu(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?jo(Da,e,t):0===e.type?Fo(iu,Da,e,t):null}(t,e):-2===n?function(e,t,n){return n===Da?jo(Da,t,e):n===iu?Fo(iu,Da,t,e):n===ou?Uo(ou,Da,t,e):void 0}(e,t,i):qn(e,e[1],n,t)}function zu(e,t,n){var i=e[5].queries[n];if(null===i.matches){for(var r=e[1].data,o=t.matches,s=[],a=0;a<o.length;a+=2){var u=o[a];s.push(u<0?null:Hu(e,r[u],o[a+1],t.metadata.read))}i.matches=s}return i.matches}function Yu(e){var t=Ft(),n=$t();en(n+1);var i=Zu(t[1],n);if(e.dirty&&Zi(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var r=i.crossesNgTemplate?function e(t,n,i){var r=t[1].queries.getByIndex(n),o=r.matches;if(null!==o)for(var s=zu(t,r,n),a=0;a<o.length;a+=2){var u=o[a];if(u>0)i.push(s[a/2]);else{for(var c=o[a+1],l=t[-u],p=9;p<l.length;p++){var h=l[p];h[17]===h[3]&&e(h,c,i)}if(null!==l[5])for(var f=l[5],d=0;d<f.length;d++)e(f[d],c,i)}}return i}(t,n,[]):zu(t,i,n);e.reset(r),e.notifyOnChanges()}return!0}return!1}function qu(){return e=Ft(),t=$t(),e[5].queries[t].queryList;var e,t}function Ku(e){var t=new Lu;!function(e,t,n){var i=so(e);i.push(t),e[1].firstCreatePass&&ao(e).push(n,i.length-1)}(e,t,t.destroy),null===e[5]&&(e[5]=new ju),e[5].queries.push(new Vu(t))}function Wu(e,t,n){null===e.queries&&(e.queries=new Uu),e.queries.track(new Gu(t,n))}function Zu(e,t){return e.queries.getByIndex(t)}var Qu=new Ye("Application Initializer"),Xu=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();xs(r)&&t.push(r)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}},e.ɵfac=function(t){return new(t||e)(et(Qu,8))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Ju=new Ye("AppId"),$u={provide:Ju,useFactory:function(){return""+ec()+ec()+ec()},deps:[]};function ec(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var tc=new Ye("Platform Initializer"),nc=new Ye("Platform ID"),ic=new Ye("appBootstrapListener"),rc=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e.ɵfac=function(t){return new(t||e)},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),oc=new Ye("LocaleId"),sc=new Ye("DefaultCurrencyCode"),ac=function(e){return e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore",e}({}),uc=function(){return function(e,t){this.ngModuleFactory=e,this.componentFactories=t}}(),cc=function(e){return new Tu(e)},lc=cc,pc=function(e){return Promise.resolve(cc(e))},hc=function(e){var t=cc(e),n=Nn(Ot(e).declarations).reduce((function(e,t){var n=At(t);return n&&e.push(new pu(n)),e}),[]);return new uc(t,n)},fc=hc,dc=function(e){return Promise.resolve(hc(e))},gc=function(){function e(){this.compileModuleSync=lc,this.compileModuleAsync=pc,this.compileModuleAndAllComponentsSync=fc,this.compileModuleAndAllComponentsAsync=dc}return e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e.ɵfac=function(t){return new(t||e)},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),yc=new Ye("compilerOptions"),vc=function(){return function(){}}(),mc=function(){return Promise.resolve(0)}();function _c(e){"undefined"==typeof Zone?mc.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var bc=function(){function e(e){var t,n,i=e.enableLongStackTrace,r=void 0!==i&&i,o=e.shouldCoalesceEventChangeDetection,s=void 0!==o&&o;if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Du(!1),this.onMicrotaskEmpty=new Du(!1),this.onStable=new Du(!1),this.onError=new Du(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Ve.requestAnimationFrame,t=Ve.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,n=!!(t=this).shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ve,(function(){e.lastRequestAnimationFrameId=-1,Ec(e),Tc(e)})),Ec(e))}(t)},t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:n},onInvokeTask:function(e,i,r,o,s,a){try{return Sc(t),e.invokeTask(r,o,s,a)}finally{n&&"eventTask"===o.type&&n(),Ic(t)}},onInvoke:function(e,n,i,r,o,s,a){try{return Sc(t),e.invoke(i,r,o,s,a)}finally{Ic(t)}},onHasTask:function(e,n,i,r){e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Ec(t),Tc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,n,i,r){return e.handleError(i,r),t.runOutsideAngular((function(){return t.onError.emit(r)})),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,wc,Cc,Cc);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function Cc(){}var wc={};function Tc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Ec(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Sc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ic(e){e._nesting--,Tc(e)}var Ac,kc=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Du,this.onMicrotaskEmpty=new Du,this.onStable=new Du,this.onError=new Du}return e.prototype.run=function(e,t,n){return e.apply(t,n)},e.prototype.runGuarded=function(e,t,n){return e.apply(t,n)},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e,t,n,i){return e.apply(t,n)},e}(),Oc=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){bc.assertNotInAngularZone(),_c((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())_c((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]},e.prototype.addCallback=function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==r})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e.ɵfac=function(t){return new(t||e)(et(bc))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Pc=function(){function e(){this._applications=new Map,xc.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),xc.findTestabilityInTree(this,e,t)},e.ɵfac=function(t){return new(t||e)},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),xc=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),Mc=function(e,t,n){var i=new Tu(n);if(0===rs.size)return Promise.resolve(i);var r,o,s=(r=e.get(yc,[]).concat(t).map((function(e){return e.providers})),o=[],r.forEach((function(e){return e&&o.push.apply(o,u(e))})),o);if(0===s.length)return Promise.resolve(i);var a=function(){var e=Ve.ng;if(!e||!e.ɵcompilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.ɵcompilerFacade}(),c=is.create({providers:s}).get(a.ResourceLoader);return function(e){var t=[],n=new Map;function i(e){var t=n.get(e);if(!t){var i=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=i.then(ss))}return t}return rs.forEach((function(e,n){var r=[];e.templateUrl&&r.push(i(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((function(t,n){s.push(""),r.push(i(t).then((function(i){s[a+n]=i,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(r).then((function(){return function(e){os.delete(e)}(n)}));t.push(u)})),rs=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},Nc=new Ye("AllowMultipleToken");function Dc(e,t,n){void 0===n&&(n=[]);var i="Platform: "+t,r=new Ye(i);return function(t){void 0===t&&(t=[]);var o=Rc();if(!o||o.injector.get(Nc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var s=n.concat(t).concat({provide:r,useValue:!0},{provide:Ho,useValue:"platform"});!function(e){if(Ac&&!Ac.destroyed&&!Ac.injector.get(Nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ac=e.get(Lc);var t=e.get(tc,null);t&&t.forEach((function(e){return e()}))}(is.create({providers:s,name:i}))}return function(e){var t=Rc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Rc(){return Ac&&!Ac.destroyed?Ac:null}var Lc=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,i,r=this,o=(i=t&&t.ngZoneEventCoalescing||!1,"noop"===(n=t?t.ngZone:void 0)?new kc:("zone.js"===n?void 0:n)||new bc({enableLongStackTrace:hi(),shouldCoalesceEventChangeDetection:i})),s=[{provide:bc,useValue:o}];return o.run((function(){var t=is.create({providers:s,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(ei,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Fc(r._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var o=((s=n.injector.get(Xu)).runInitializers(),s.donePromise.then((function(){return _u(n.injector.get(oc,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return xs(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(i,o)}))},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var i=Vc({},t);return Mc(this.injector,i,e).then((function(e){return n.bootstrapModuleFactory(e,i)}))},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(jc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+Ie(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(et(is))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}();function Vc(e,t){return Array.isArray(t)?t.reduce(Vc,e):o(o({},e),t)}var jc=function(){function e(e,t,n,i,r,o){var s=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=hi(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var a=new S((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),u=new S((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){bc.assertNotInAngularZone(),_c((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){bc.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,r=e[e.length-1];return M(r)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof r&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof S?e[0]:X(n)(J(e,i))}(a,u.pipe(se()))}return e.prototype.bootstrap=function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof xa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(rt),o=n.create(is.NULL,[],t||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var s=o.injector.get(Oc,null);return s&&o.injector.get(Pc).registerApplication(o.location.nativeElement,s),this._loadComponent(o),hi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},e.prototype.tick=function(){var e,t,n,i,r=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;try{for(var o=s(this._views),a=o.next();!a.done;a=o.next())a.value.detectChanges()}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}if(this._enforceNoNewChanges)try{for(var u=s(this._views),c=u.next();!c.done;c=u.next())c.value.checkNoChanges()}catch(p){n={error:p}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}catch(h){this._zone.runOutsideAngular((function(){return r._exceptionHandler.handleError(h)}))}finally{this._runningTick=!1}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;Fc(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ic,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),Fc(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(e){return e.destroy()}))},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)(et(bc),et(rc),et(is),et(ei),et(Na),et(Xu))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}();function Fc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Uc,Gc=Dc(null,"core",[{provide:nc,useValue:"unknown"},{provide:Lc,deps:[is]},{provide:Pc,deps:[]},{provide:rc,deps:[]}]),Bc=[{provide:jc,useClass:jc,deps:[bc,rc,is,ei,Na,Xu]},{provide:lu,deps:[bc],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Xu,useClass:Xu,deps:[[new le,Qu]]},{provide:gc,useClass:gc,deps:[]},$u,{provide:Ja,useFactory:function(){return tu},deps:[]},{provide:$a,useFactory:function(){return nu},deps:[]},{provide:oc,useFactory:function(e){return _u(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ce(oc),new le,new he]]},{provide:sc,useValue:"USD"}],Hc=function(){function e(e){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)(et(jc))},providers:Bc}),e}(),zc=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});"undefined"!=typeof window&&window,"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,"undefined"!=typeof global&&global,(Uc={})[4]=4,Uc[1]=1,Uc[2]=2,Uc[0]=0,Uc[3]=3;var Yc=function(){function e(){}return e.prototype.get=function(e){return""},e}(),qc=function(){return function(e){var t,n,i,r=void 0===e?{}:e,o=r.defaultEncapsulation,s=r.useJit,a=void 0===s||s,u=r.jitDevMode,c=void 0!==u&&u,l=r.missingTranslation,p=void 0===l?null:l,h=r.preserveWhitespaces,f=r.strictInjectionParameters;this.defaultEncapsulation=void 0===o?zc.Emulated:o,this.useJit=!!a,this.jitDevMode=!!c,this.missingTranslation=p,this.preserveWhitespaces=(void 0===n&&(n=!1),null===(t=void 0===(i=h)?null:i)?n:t),this.strictInjectionParameters=!0===f}}(),Kc=function(){function e(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return Object.defineProperty(e.prototype,"klass",{set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(hs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Ie(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))},e.prototype._applyClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))},e.prototype._removeClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))},e.prototype._toggleClass=function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))},e.prototype.setClass=function(e){this.klass=e},e.prototype.setNgClass=function(e){this.ngClass=e},e.prototype.applyChanges=function(){this.ngDoCheck()},e.ɵfac=function(t){return new(t||e)(ws(Ja),ws($a),ws(Da),ws(ja))},e.ɵdir=St({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Wc=null;function Zc(){return Wc}var Qc=function(){return function(){}}(),Xc=new Ye("DocumentToken"),Jc=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),$c=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),el=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),tl=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),nl=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function il(e,t){return ul(yu(e)[mu.DateFormat],t)}function rl(e,t){return ul(yu(e)[mu.TimeFormat],t)}function ol(e,t){return ul(yu(e)[mu.DateTimeFormat],t)}function sl(e,t){var n=yu(e),i=n[mu.NumberSymbols][t];if(void 0===i){if(t===nl.CurrencyDecimal)return n[mu.NumberSymbols][nl.Decimal];if(t===nl.CurrencyGroup)return n[mu.NumberSymbols][nl.Group]}return i}function al(e){if(!e[mu.ExtraData])throw new Error('Missing extra locale data for the locale "'+e[mu.LocaleId]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function ul(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function cl(e){var t=a(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var ll=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pl={},hl=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,fl=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),dl=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),gl=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function yl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function vl(e,t,n,i,r){void 0===n&&(n="-");var o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=n));for(var s=String(e);s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),o+s}function ml(e,t,n,i,r){return void 0===n&&(n=0),void 0===i&&(i=!1),void 0===r&&(r=!1),function(o,s){var a,u=function(e,t){switch(e){case dl.FullYear:return t.getFullYear();case dl.Month:return t.getMonth();case dl.Date:return t.getDate();case dl.Hours:return t.getHours();case dl.Minutes:return t.getMinutes();case dl.Seconds:return t.getSeconds();case dl.FractionalSeconds:return t.getMilliseconds();case dl.Day:return t.getDay();default:throw new Error('Unknown DateType value "'+e+'".')}}(e,o);if((n>0||u>-n)&&(u+=n),e===dl.Hours)0===u&&-12===n&&(u=12);else if(e===dl.FractionalSeconds)return a=t,vl(u,3).substr(0,a);var c=sl(s,nl.MinusSign);return vl(u,t,c,i,r)}}function _l(e,t,n,i){return void 0===n&&(n=$c.Format),void 0===i&&(i=!1),function(r,o){return function(e,t,n,i,r,o){switch(n){case gl.Months:return function(e,t,n){var i=yu(e),r=ul([i[mu.MonthsFormat],i[mu.MonthsStandalone]],t);return ul(r,n)}(t,r,i)[e.getMonth()];case gl.Days:return function(e,t,n){var i=yu(e),r=ul([i[mu.DaysFormat],i[mu.DaysStandalone]],t);return ul(r,n)}(t,r,i)[e.getDay()];case gl.DayPeriods:var s=e.getHours(),a=e.getMinutes();if(o){var u,c=function(e){var t=yu(e);return al(t),(t[mu.ExtraData][2]||[]).map((function(e){return"string"==typeof e?cl(e):[cl(e[0]),cl(e[1])]}))}(t),l=function(e,t,n){var i=yu(e);al(i);var r=ul([i[mu.ExtraData][0],i[mu.ExtraData][1]],t)||[];return ul(r,n)||[]}(t,r,i);if(c.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],i=e[1],r=i.hours;s>=n.hours&&a>=n.minutes&&(s<r||s===r&&a<i.minutes)&&(u=l[t])}else e.hours===s&&e.minutes===a&&(u=l[t])})),u)return u}return function(e,t,n){var i=yu(e),r=ul([i[mu.DayPeriodsFormat],i[mu.DayPeriodsStandalone]],t);return ul(r,n)}(t,r,i)[s<12?0:1];case gl.Eras:return function(e,t){return ul(yu(e)[mu.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,o,e,t,n,i)}}function bl(e){return function(t,n,i){var r=-1*i,o=sl(n,nl.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case fl.Short:return(r>=0?"+":"")+vl(s,2,o)+vl(Math.abs(r%60),2,o);case fl.ShortGMT:return"GMT"+(r>=0?"+":"")+vl(s,1,o);case fl.Long:return"GMT"+(r>=0?"+":"")+vl(s,2,o)+":"+vl(Math.abs(r%60),2,o);case fl.Extended:return 0===i?"Z":(r>=0?"+":"")+vl(s,2,o)+":"+vl(Math.abs(r%60),2,o);default:throw new Error('Unknown zone width "'+e+'"')}}}function Cl(e,t){return void 0===t&&(t=!1),function(n,i){var r,o,s,a;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();r=1+Math.floor((c+u)/7)}else{var l=(s=n.getFullYear(),a=new Date(s,0,1).getDay(),new Date(s,0,1+(a<=4?4:11)-a)),p=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-l.getTime();r=1+Math.round(p/6048e5)}return vl(r,e,sl(i,nl.MinusSign))}}var wl={};function Tl(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function El(e){return e instanceof Date&&!isNaN(e.valueOf())}var Sl=function(){return function(){}}(),Il=function(e){function t(t){var n=e.call(this)||this;return n.locale=t,n}return r(t,e),t.prototype.getPluralCategory=function(e,t){switch(function(e){return yu(e)[mu.PluralCase]}(t||this.locale)(e)){case Jc.Zero:return"zero";case Jc.One:return"one";case Jc.Two:return"two";case Jc.Few:return"few";case Jc.Many:return"many";default:return"other"}},t.ɵfac=function(e){return new(e||t)(et(oc))},t.ɵprov=ye({token:t,factory:function(e){return t.ɵfac(e)}}),t}(Sl);function Al(e,t){var n,i;t=encodeURIComponent(t);try{for(var r=s(e.split(";")),o=r.next();!o.done;o=r.next()){var u=o.value,c=u.indexOf("="),l=a(-1==c?[u,""]:[u.slice(0,c),u.slice(c+1)],2),p=l[1];if(l[0].trim()===t)return decodeURIComponent(p)}}catch(h){n={error:h}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return null}var kl=function(){function e(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),Ol=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(e.prototype,"ngForOf",{set:function(e){this._ngForOf=e,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(e){hi()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachOperation((function(e,i,r){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new kl(null,t._ngForOf,-1,-1),null===r?void 0:r),s=new Pl(e,o);n.push(s)}else null==r?t._viewContainer.remove(null===i?void 0:i):null!==i&&(o=t._viewContainer.get(i),t._viewContainer.move(o,r),s=new Pl(e,o),n.push(s))}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);i=0;for(var r=this._viewContainer.length;i<r;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=r,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e.ngTemplateContextGuard=function(e,t){return!0},e.ɵfac=function(t){return new(t||e)(ws(ou),ws(iu),ws(Ja))},e.ɵdir=St({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),Pl=function(){return function(e,t){this.record=e,this.view=t}}(),xl=function(){function e(e,t){this._viewContainer=e,this._context=new Ml,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){Nl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){Nl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e.ngTemplateContextGuard=function(e,t){return!0},e.ɵfac=function(t){return new(t||e)(ws(ou),ws(iu))},e.ɵdir=St({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Ml=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Nl(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+" must be a TemplateRef, but received '"+Ie(t)+"'.")}var Dl,Rl=function(){function e(e){this.locale=e}var t;return t=e,e.prototype.transform=function(e,n,i,r){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;try{return function(e,t,n,i){var r=function(e){if(El(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=a(e.split("-").map((function(e){return+e})),3);return new Date(i[0],i[1]-1,i[2])}if(t=e.match(ll))return function(e){var t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,a=Number(e[5]||0)-i,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}(t)}var r=new Date(e);if(!El(r))throw new Error('Unable to convert "'+e+'" into a date');return r}(e);t=function e(t,n){var i=function(e){return yu(e)[mu.LocaleId]}(t);if(pl[i]=pl[i]||{},pl[i][n])return pl[i][n];var r="";switch(n){case"shortDate":r=il(t,tl.Short);break;case"mediumDate":r=il(t,tl.Medium);break;case"longDate":r=il(t,tl.Long);break;case"fullDate":r=il(t,tl.Full);break;case"shortTime":r=rl(t,tl.Short);break;case"mediumTime":r=rl(t,tl.Medium);break;case"longTime":r=rl(t,tl.Long);break;case"fullTime":r=rl(t,tl.Full);break;case"short":var o=e(t,"shortTime"),s=e(t,"shortDate");r=yl(ol(t,tl.Short),[o,s]);break;case"medium":var a=e(t,"mediumTime"),u=e(t,"mediumDate");r=yl(ol(t,tl.Medium),[a,u]);break;case"long":var c=e(t,"longTime"),l=e(t,"longDate");r=yl(ol(t,tl.Long),[c,l]);break;case"full":var p=e(t,"fullTime"),h=e(t,"fullDate");r=yl(ol(t,tl.Full),[p,h])}return r&&(pl[i][n]=r),r}(n,t)||t;for(var o,s=[];t;){if(!(o=hl.exec(t))){s.push(t);break}var u=(s=s.concat(o.slice(1))).pop();if(!u)break;t=u}var c=r.getTimezoneOffset();i&&(c=Tl(i,c),r=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Tl(t,i)-i))}(r,i));var l="";return s.forEach((function(e){var t=function(e){if(wl[e])return wl[e];var t;switch(e){case"G":case"GG":case"GGG":t=_l(gl.Eras,el.Abbreviated);break;case"GGGG":t=_l(gl.Eras,el.Wide);break;case"GGGGG":t=_l(gl.Eras,el.Narrow);break;case"y":t=ml(dl.FullYear,1,0,!1,!0);break;case"yy":t=ml(dl.FullYear,2,0,!0,!0);break;case"yyy":t=ml(dl.FullYear,3,0,!1,!0);break;case"yyyy":t=ml(dl.FullYear,4,0,!1,!0);break;case"M":case"L":t=ml(dl.Month,1,1);break;case"MM":case"LL":t=ml(dl.Month,2,1);break;case"MMM":t=_l(gl.Months,el.Abbreviated);break;case"MMMM":t=_l(gl.Months,el.Wide);break;case"MMMMM":t=_l(gl.Months,el.Narrow);break;case"LLL":t=_l(gl.Months,el.Abbreviated,$c.Standalone);break;case"LLLL":t=_l(gl.Months,el.Wide,$c.Standalone);break;case"LLLLL":t=_l(gl.Months,el.Narrow,$c.Standalone);break;case"w":t=Cl(1);break;case"ww":t=Cl(2);break;case"W":t=Cl(1,!0);break;case"d":t=ml(dl.Date,1);break;case"dd":t=ml(dl.Date,2);break;case"E":case"EE":case"EEE":t=_l(gl.Days,el.Abbreviated);break;case"EEEE":t=_l(gl.Days,el.Wide);break;case"EEEEE":t=_l(gl.Days,el.Narrow);break;case"EEEEEE":t=_l(gl.Days,el.Short);break;case"a":case"aa":case"aaa":t=_l(gl.DayPeriods,el.Abbreviated);break;case"aaaa":t=_l(gl.DayPeriods,el.Wide);break;case"aaaaa":t=_l(gl.DayPeriods,el.Narrow);break;case"b":case"bb":case"bbb":t=_l(gl.DayPeriods,el.Abbreviated,$c.Standalone,!0);break;case"bbbb":t=_l(gl.DayPeriods,el.Wide,$c.Standalone,!0);break;case"bbbbb":t=_l(gl.DayPeriods,el.Narrow,$c.Standalone,!0);break;case"B":case"BB":case"BBB":t=_l(gl.DayPeriods,el.Abbreviated,$c.Format,!0);break;case"BBBB":t=_l(gl.DayPeriods,el.Wide,$c.Format,!0);break;case"BBBBB":t=_l(gl.DayPeriods,el.Narrow,$c.Format,!0);break;case"h":t=ml(dl.Hours,1,-12);break;case"hh":t=ml(dl.Hours,2,-12);break;case"H":t=ml(dl.Hours,1);break;case"HH":t=ml(dl.Hours,2);break;case"m":t=ml(dl.Minutes,1);break;case"mm":t=ml(dl.Minutes,2);break;case"s":t=ml(dl.Seconds,1);break;case"ss":t=ml(dl.Seconds,2);break;case"S":t=ml(dl.FractionalSeconds,1);break;case"SS":t=ml(dl.FractionalSeconds,2);break;case"SSS":t=ml(dl.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=bl(fl.Short);break;case"ZZZZZ":t=bl(fl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=bl(fl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=bl(fl.Long);break;default:return null}return wl[e]=t,t}(e);l+=t?t(r,n,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(e,n,r||this.locale,i)}catch(o){throw function(e,t){return Error("InvalidPipeArgument: '"+t+"' for pipe '"+Ie(e)+"'")}(t,o.message)}},e.ɵfac=function(t){return new(t||e)(ws(oc))},e.ɵpipe=It({name:"date",type:e,pure:!0}),e}(),Ll=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[{provide:Sl,useClass:Il}]}),e}(),Vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.makeCurrent=function(){var e;e=new t,Wc||(Wc=e)},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.getValue=function(e){return e.value},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=jl||(jl=document.querySelector("base"))?jl.getAttribute("href"):null;return null==n?null:(t=n,Dl||(Dl=document.createElement("a")),Dl.setAttribute("href",t),"/"===Dl.pathname.charAt(0)?Dl.pathname:"/"+Dl.pathname)},t.prototype.resetBaseElement=function(){jl=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return Al(document.cookie,e)},t}(function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.supportsDOMEvents=function(){return!0},t}(Qc)),jl=null,Fl=new Ye("TRANSITION_ID"),Ul=[{provide:Qu,useFactory:function(e,t,n){return function(){n.get(Xu).donePromise.then((function(){var n=Zc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Fl,Xc,is],multi:!0}],Gl=function(){function e(){}return e.init=function(){var t;t=new e,xc=t},e.prototype.addToWindow=function(e){Ve.getAngularTestability=function(t,n){void 0===n&&(n=!0);var i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ve.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ve.getAllAngularRootElements=function(){return e.getAllRootElements()},Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push((function(e){var t=Ve.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(r)}))}))},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Zc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null},e}(),Bl=new Ye("EventManagerPlugins"),Hl=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach((function(e){return e.manager=n})),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event "+e)},e.ɵfac=function(t){return new(t||e)(et(Bl),et(bc))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),zl=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var i=Zc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target "+i+" for event "+t);return this.addEventListener(i,t,n)},e}(),Yl=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e.ɵfac=function(t){return new(t||e)},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),ql=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return r(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(e){return Zc().remove(e)}))},t.ɵfac=function(e){return new(e||t)(et(Xc))},t.ɵprov=ye({token:t,factory:function(e){return t.ɵfac(e)}}),t}(Yl),Kl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wl=/%COMP%/g;function Zl(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?Zl(e,r,n):(r=r.replace(Wl,e),n.push(r))}return n}function Ql(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Xl=function(){function e(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Jl(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case dt.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new $l(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case dt.Native:case dt.ShadowDom:return new ep(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=Zl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e.ɵfac=function(t){return new(t||e)(et(Hl),et(ql),et(Ju))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Jl=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(Kl[t]||t,e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'+e+'" did not match any elements');return t||(n.textContent=""),n},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,i){if(i){t=i+":"+t;var r=Kl[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var i=Kl[n];i?e.removeAttributeNS(i,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,i){i&Va.DashCase?e.style.setProperty(t,n,i&Va.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&Va.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ql(n)):this.eventManager.addEventListener(e,t,Ql(n))},e}(),$l=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;o.component=i;var s=Zl(r+"-"+i.id,i.styles,[]);return n.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(Wl,r+"-"+i.id),o.hostAttr=function(e){return"_nghost-%COMP%".replace(Wl,e)}(r+"-"+i.id),o}return r(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var i=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,i,this.contentAttr,""),i},t}(Jl),ep=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;o.sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=r.encapsulation===dt.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Zl(r.id,r.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return r(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,i){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,i)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Jl),tp=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}},t.prototype.removeEventListener=function(e,t,n){return e.removeEventListener(t,n)},t.ɵfac=function(e){return new(e||t)(et(Xc))},t.ɵprov=ye({token:t,factory:function(e){return t.ɵfac(e)}}),t}(zl),np=["alt","control","meta","shift"],ip={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},op={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},sp=function(e){function t(t){return e.call(this,t)||this}var n;return r(t,e),n=t,t.prototype.supports=function(e){return null!=n.parseEventName(e)},t.prototype.addEventListener=function(e,t,i){var r=n.parseEventName(t),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Zc().onAndCancel(e,r.domEventName,o)}))},t.parseEventName=function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),o="";if(np.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=r,0!=t.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s},t.getEventFullKey=function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&rp.hasOwnProperty(t)&&(t=rp[t]))}return ip[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),np.forEach((function(i){i!=n&&(0,op[i])(e)&&(t+=i+".")})),t+=n},t.eventCallback=function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded((function(){return t(r)}))}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t.ɵfac=function(e){return new(e||t)(et(Xc))},t.ɵprov=ye({token:t,factory:function(e){return t.ɵfac(e)}}),t}(zl),ap=function(){function e(){}return e.ɵprov=ye({factory:function(){return et(up)},token:e,providedIn:"root"}),e.ɵfac=function(t){return new(t||e)},e}(),up=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return r(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case Li.NONE:return t;case Li.HTML:return ui(t,"HTML")?ai(t):Di(this._doc,String(t));case Li.STYLE:return ui(t,"Style")?ai(t):function(e){if(!(e=String(e).trim()))return"";var t=e.match(ji);return t&&vi(t[1])===t[1]||e.match(Vi)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(hi()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t);case Li.SCRIPT:if(ui(t,"Script"))return ai(t);throw new Error("unsafe value used in a script context");case Li.URL:return ci(t),ui(t,"URL")?ai(t):vi(String(t));case Li.RESOURCE_URL:if(ui(t,"ResourceURL"))return ai(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.bypassSecurityTrustHtml=function(e){return new ni(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new ii(e)},t.prototype.bypassSecurityTrustScript=function(e){return new ri(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new oi(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new si(e)},t.ɵprov=ye({factory:function(){return e=et(qe),new up(e.get(Xc));var e},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(et(Xc))},t}(ap),cp=[{provide:nc,useValue:"browser"},{provide:tc,useValue:function(){Vl.makeCurrent(),Gl.init()},multi:!0},{provide:Xc,useFactory:function(){return function(e){vn=e}(document),document},deps:[]}],lp=[[],{provide:Ho,useValue:"root"},{provide:ei,useFactory:function(){return new ei},deps:[]},{provide:Bl,useClass:tp,multi:!0,deps:[Xc,bc,nc]},{provide:Bl,useClass:sp,multi:!0,deps:[Xc]},[],{provide:Xl,useClass:Xl,deps:[Hl,ql,Ju]},{provide:La,useExisting:Xl},{provide:Yl,useExisting:ql},{provide:ql,useClass:ql,deps:[Xc]},{provide:Oc,useClass:Oc,deps:[bc]},{provide:Hl,useClass:Hl,deps:[Bl,bc]},[]],pp=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Ju,useValue:e.appId},{provide:Fl,useExisting:Ju},Ul]}},e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(n){return new(n||e)(et(t,12))},providers:lp,imports:[Ll,Hc]}),e}();"undefined"!=typeof window&&window;var hp=[{provide:gc,useFactory:function(){return new gc}}];function fp(e){for(var t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}var dp=Dc(Dc(Gc,"coreDynamic",[{provide:yc,useValue:{},multi:!0},{provide:vc,useClass:function(){function e(e){this._defaultOptions=u([{useJit:!0,defaultEncapsulation:dt.Emulated,missingTranslation:ac.Warning}],e)}return e.prototype.createCompiler=function(e){void 0===e&&(e=[]);var t,n,i,r={useJit:fp((t=this._defaultOptions.concat(e)).map((function(e){return e.useJit}))),defaultEncapsulation:fp(t.map((function(e){return e.defaultEncapsulation}))),providers:(n=t.map((function(e){return e.providers})),i=[],n.forEach((function(e){return e&&i.push.apply(i,u(e))})),i),missingTranslation:fp(t.map((function(e){return e.missingTranslation}))),preserveWhitespaces:fp(t.map((function(e){return e.preserveWhitespaces})))};return is.create([hp,{provide:qc,useFactory:function(){return new qc({useJit:r.useJit,jitDevMode:hi(),defaultEncapsulation:r.defaultEncapsulation,missingTranslation:r.missingTranslation,preserveWhitespaces:r.preserveWhitespaces})},deps:[]},r.providers]).get(gc)},e}(),deps:[yc]}]),"browserDynamic",[cp,{provide:yc,useValue:{providers:[{provide:Yc,useClass:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),t.prototype.get=function(e){var t,n,i=new Promise((function(e,i){t=e,n=i})),r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="text",r.onload=function(){var i=r.response||r.responseText,o=1223===r.status?204:r.status;0===o&&(o=i?200:0),200<=o&&o<=300?t(i):n("Failed to load "+e)},r.onerror=function(){n("Failed to load "+e)},r.send(),i},t.ɵfac=function(e){return n(e||t)},t.ɵprov=ye({token:t,factory:function(e){return t.ɵfac(e)}});var n=Qn(t);return t}(Yc),deps:[]}]},multi:!0},{provide:nc,useValue:"browser"}]);function gp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return M(n)?(e.pop(),Y(e,n)):J(e)}function yp(e,t){return function(n){return n.lift(new vp(e,t))}}var vp=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new mp(e,this.predicate,this.thisArg))},e}(),mp=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return r(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(b),_p=function(){return function(){}}(),bp=function(){return function(){}}(),Cp=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){t.headers=new Map,e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>0){var i=e.slice(0,n),r=i.toLowerCase(),o=e.slice(n+1).trim();t.maybeSetNormalizedName(i,r),t.headers.has(r)?t.headers.get(r).push(o):t.headers.set(r,[o])}}))}:function(){t.headers=new Map,Object.keys(e).forEach((function(n){var i=e[n],r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(t.headers.set(r,i),t.maybeSetNormalizedName(n,r))}))}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:"d"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))},e.prototype.clone=function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,u(n)),this.headers.set(t,i);break;case"d":var r=e.value;if(r){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===r.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))},e}(),wp=function(){function e(){}return e.prototype.encodeKey=function(e){return Tp(e)},e.prototype.encodeValue=function(e){return Tp(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function Tp(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Ep=function(){function e(e){var t,n,i,r=this;if(void 0===e&&(e={}),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=e.fromString,n=this.encoder,i=new Map,t.length>0&&t.split("&").forEach((function(e){var t=e.indexOf("="),r=a(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=r[0],s=r[1],u=i.get(o)||[];u.push(s),i.set(o,u)})),i)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((function(t){var n=e.fromObject[t];r.map.set(t,Array.isArray(n)?n:[n])}))):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:"d"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).join("&")},e.prototype.clone=function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],r=i.indexOf(t.value);-1!==r&&i.splice(r,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)},e}();function Sp(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Ip(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ap(e){return"undefined"!=typeof FormData&&e instanceof FormData}var kp=function(){function e(e,t,n,i){var r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Cp),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{var s=t.indexOf("?");this.urlWithParams=t+(-1===s?"?":s<t.length-1?"&":"")+o}}else this.params=new Ep,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:Sp(this.body)||Ip(this.body)||Ap(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ep?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body?null:Ap(this.body)?null:Ip(this.body)?this.body.type||null:Sp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ep?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},e.prototype.clone=function(t){void 0===t&&(t={});var n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,i,o,{params:c,headers:u,reportProgress:a,responseType:r,withCredentials:s})},e}(),Op=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),Pp=function(){return function(e,t,n){void 0===t&&(t=200),void 0===n&&(n="OK"),this.headers=e.headers||new Cp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),xp=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=Op.ResponseHeader,n}return r(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(Pp),Mp=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=Op.Response,n.body=void 0!==t.body?t.body:null,n}return r(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(Pp),Np=function(e){function t(t){var n=e.call(this,t,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for "+(t.url||"(unknown url)")+": "+t.status+" "+t.statusText,n.error=t.error||null,n}return r(t,e),t}(Pp);function Dp(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Rp=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,n){var i,r=this;if(void 0===n&&(n={}),e instanceof kp)i=e;else{var o;o=n.headers instanceof Cp?n.headers:new Cp(n.headers);var s=void 0;n.params&&(s=n.params instanceof Ep?n.params:new Ep({fromObject:n.params})),i=new kp(e,t,void 0!==n.body?n.body:null,{headers:o,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var a=gp(i).pipe(K((function(e){return r.handler.handle(e)}),void 0,1));if(e instanceof kp||"events"===n.observe)return a;var u=a.pipe(yp((function(e){return e instanceof Mp})));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return u.pipe(B((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(B((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(B((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(B((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request("DELETE",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("GET",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request("HEAD",e,t)},e.prototype.jsonp=function(e,t){return this.request("JSONP",e,{params:(new Ep).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request("OPTIONS",e,t)},e.prototype.patch=function(e,t,n){return void 0===n&&(n={}),this.request("PATCH",e,Dp(n,t))},e.prototype.post=function(e,t,n){return void 0===n&&(n={}),this.request("POST",e,Dp(n,t))},e.prototype.put=function(e,t,n){return void 0===n&&(n={}),this.request("PUT",e,Dp(n,t))},e.ɵfac=function(t){return new(t||e)(et(_p))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Lp=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),Vp=new Ye("HTTP_INTERCEPTORS"),jp=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e.ɵfac=function(t){return new(t||e)},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Fp=/^\)\]\}',?\n/,Up=function(){return function(){}}(),Gp=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e.ɵfac=function(t){return new(t||e)},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Bp=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new S((function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((function(e,t){return i.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(e.responseType){var o=e.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,u=function(){if(null!==a)return a;var t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Cp(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return a=new xp({headers:r,status:t,statusText:n,url:o})},c=function(){var t=u(),r=t.headers,o=t.status,s=t.statusText,a=t.url,c=null;204!==o&&(c=void 0===i.response?i.responseText:i.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var p=c;c=c.replace(Fp,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=p,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new Mp({body:c,headers:r,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new Np({error:c,headers:r,status:o,statusText:s,url:a||void 0}))},l=function(e){var t=u().url,r=new Np({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(r)},p=!1,h=function(t){p||(n.next(u()),p=!0);var r={type:Op.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(e){var t={type:Op.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",c),i.addEventListener("error",l),e.reportProgress&&(i.addEventListener("progress",h),null!==s&&i.upload&&i.upload.addEventListener("progress",f)),i.send(s),n.next({type:Op.Sent}),function(){i.removeEventListener("error",l),i.removeEventListener("load",c),e.reportProgress&&(i.removeEventListener("progress",h),null!==s&&i.upload&&i.upload.removeEventListener("progress",f)),i.abort()}}))},e.ɵfac=function(t){return new(t||e)(et(Up))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Hp=new Ye("XSRF_COOKIE_NAME"),zp=new Ye("XSRF_HEADER_NAME"),Yp=function(){return function(){}}(),qp=function(){function e(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Al(e,this.cookieName),this.lastCookieString=e),this.lastToken},e.ɵfac=function(t){return new(t||e)(et(Xc),et(nc),et(Hp))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Kp=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)},e.ɵfac=function(t){return new(t||e)(et(Yp),et(zp))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Wp=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get(Vp,[]);this.chain=t.reduceRight((function(e,t){return new Lp(e,t)}),this.backend)}return this.chain.handle(e)},e.ɵfac=function(t){return new(t||e)(et(bp),et(is))},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Zp=function(){function e(){}var t;return t=e,e.disable=function(){return{ngModule:t,providers:[{provide:Kp,useClass:jp}]}},e.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:Hp,useValue:e.cookieName}:[],e.headerName?{provide:zp,useValue:e.headerName}:[]]}},e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Kp,{provide:Vp,useExisting:Kp,multi:!0},{provide:Yp,useClass:qp},{provide:Hp,useValue:"XSRF-TOKEN"},{provide:zp,useValue:"X-XSRF-TOKEN"}]}),e}(),Qp=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Rp,{provide:_p,useClass:Wp},Bp,{provide:bp,useExisting:Bp},Gp,{provide:Up,useExisting:Gp}],imports:[[Zp.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}(),Xp=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Jp(e,this.resultSelector))},e}(),Jp=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var r=e.call(this,t)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:null,r.values=i,r}return r(t,e),t.prototype._next=function(e){var t=this.iterators;c(e)?t.push(new eh(e)):t.push("function"==typeof e[L]?new $p(e[L]()):new th(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++)if("function"==typeof(s=e[i]).hasValue&&!s.hasValue())return;var r=!1,o=[];for(i=0;i<t;i++){var s,a=(s=e[i]).next();if(s.hasCompleted()&&(r=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),r&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(b),$p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),eh=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[L]=function(){return this},e.prototype.next=function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),th=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return r(t,e),t.prototype[L]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,r){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return U(this,this.observable,this,t)},t}(G);function nh(e){return function(t){return t.lift(new ih(e))}}var ih=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new rh(e,this.callback))},e}(),rh=function(e){function t(t,n){var i=e.call(this,t)||this;return i.add(new f(n)),i}return r(t,e),t}(b);function oh(e,t,n){return function(i){return i.lift(new sh(e,t,n))}}var sh=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new ah(e,this.nextOrObserver,this.error,this.complete))},e}(),ah=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o._tapNext=T,o._tapError=T,o._tapComplete=T,o._tapError=i||T,o._tapComplete=r||T,p(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||T,o._tapError=n.error||T,o._tapComplete=n.complete||T),o}return r(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(b),uh=function(e){return e.genesys="genesys",e.ircc="virtualAssistant",e}({}),ch=function(e){return e.InitGdpr="InitialisationConsentementRGPDIRCC",e.UpdateGdpr="ModificationConsentementRGPDIRCC",e.CloseIRCCByChevron="FermetureViaChevronIRCC",e.CloseAdvisorChatByChevron="FermetureViaChevronTchatConseiller",e.CloseIRCCByTopCross="FermetureViaCroixIRCC",e.CloseAdvisorChatByTopCross="FermetureViaCroixTchatConseiller",e.IRCCSettingsMenu="MenuParametresIRCC",e.AdvisorChatSettingsMenu="MenuParametresTchatConseiller",e.IRCCRequest="RequeteIRCC",e.OpenAdvisorChat="OuvertureTchatConseiller",e.AdvisorChatRequest="RequeteTchatConseiller",e.Intention="IntentionIRCC",e.Entity="EntiteIRCC",e.MaximizeIRCCWindow="AgrandirFenetreIRCC",e.MinimizeIRCCWindow="MinimiserFenetreIRCC",e.MaximizeAdvisorChatWindow="AgrandirFenetreTchatConseiller",e.MinimizeAdvisorChatWindow="MinimiserFenetreTchatConseiller",e.LeaveAdvisorChat="QuitterLeTchatConseiller",e.Desambiguisation="DesambiguisationIRCC",e.ClickOnResponse="ClicReponseIRCC",e.ReduceIRCCWindow="ReductionFenetreIRCC",e.ReduceAdvisorChatWindow="ReductionFenetreTchatConseiller",e.CloseAdvisorChatByPhoneButton="FermetureViaBoutonMobileTchatConseiller",e.InfoPlusDisplayMore="InfoPlusAfficherPlusIRCC",e.InfoPlusDisplayLess="InfoPlusAfficherMoinsIRCC",e.Suggestion="SuggestionIRCC",e}({}),lh=function(e){return e.Clic="Clic",e.Accept="Accepter",e.Reject="Refuser",e.GdprLink="ClicLienPolitiqueProtectionDonnees",e.SendRequest="RequeteSaisie",e}({}),ph=function(e){return e.Genesys="TchatConseiller",e.Assistant="RechercheAmelioree",e}({}),hh=function(e){return e.All="tous",e.Private="Particulier",e}({}),fh=function(e){return e.Ircc="IRCC",e.TchatConseiller="TchatConseiller",e}({}),dh=function(){function e(){}return e.openChat=function(t){null!=t&&(t===uh.ircc?e.maximizeWindow(t):e.pushGenesysAnalytics({action:ch.OpenAdvisorChat,label:lh.Clic}))},e.clickPanelChevron=function(t){e.pushDatalayer({event:t===uh.ircc?ph.Assistant:ph.Genesys,action:t===uh.ircc?ch.CloseIRCCByChevron:ch.CloseAdvisorChatByChevron,label:lh.Clic,application_name:t===uh.ircc?fh.Ircc:fh.TchatConseiller})},e.clickTopCross=function(t){e.pushDatalayer({event:t===uh.ircc?ph.Assistant:ph.Genesys,action:t===uh.ircc?ch.CloseIRCCByTopCross:ch.CloseAdvisorChatByTopCross,label:lh.Clic,application_name:t===uh.ircc?fh.Ircc:fh.TchatConseiller})},e.clickPhoneButtonToClose=function(){e.pushGenesysAnalytics({action:ch.CloseAdvisorChatByPhoneButton,label:lh.Clic})},e.clickSettings=function(t){e.pushDatalayer({event:t===uh.ircc?ph.Assistant:ph.Genesys,action:t===uh.ircc?ch.IRCCSettingsMenu:ch.AdvisorChatSettingsMenu,label:lh.Clic,application_name:t===uh.ircc?fh.Ircc:fh.TchatConseiller})},e.settingsLinkClicked=function(){e.pushAssistantAnalytics({action:ch.UpdateGdpr,label:lh.GdprLink})},e.updateGdprSettings=function(t){e.pushAssistantAnalytics({action:ch.UpdateGdpr,label:t?lh.Accept:lh.Reject})},e.consentLinkClicked=function(){e.pushAssistantAnalytics({action:ch.InitGdpr,label:lh.GdprLink})},e.answerConsent=function(t){e.pushAssistantAnalytics({action:ch.InitGdpr,label:t?lh.Accept:lh.Reject})},e.sendVirtualAssistantInput=function(){e.pushAssistantAnalytics({action:ch.IRCCRequest,label:lh.SendRequest})},e.sendMessage=function(){e.pushGenesysAnalytics({action:ch.AdvisorChatRequest,label:lh.SendRequest})},e.sendVirtualAssistantIntent=function(t){e.pushAssistantAnalytics({action:ch.Intention,label:t})},e.sendVirtualAssistantEntity=function(t){e.pushAssistantAnalytics({action:ch.Entity,label:t})},e.maximizeWindow=function(t){e.pushDatalayer({event:t===uh.ircc?ph.Assistant:ph.Genesys,action:t===uh.ircc?ch.MaximizeIRCCWindow:ch.MaximizeAdvisorChatWindow,label:lh.Clic,application_name:t===uh.ircc?fh.Ircc:fh.TchatConseiller})},e.endChat=function(){e.pushGenesysAnalytics({action:ch.LeaveAdvisorChat,label:lh.Clic})},e.disambiguateClicked=function(t){e.pushAssistantAnalytics({action:ch.Desambiguisation,label:t})},e.suggestionClicked=function(t){e.pushAssistantAnalytics({action:ch.Suggestion,label:t})},e.linkClicked=function(t){e.pushAssistantAnalytics({action:ch.ClickOnResponse,label:t})},e.reduceWindow=function(t){e.pushDatalayer({event:t===uh.ircc?ph.Assistant:ph.Genesys,action:t===uh.ircc?ch.ReduceIRCCWindow:ch.ReduceAdvisorChatWindow,label:lh.Clic,application_name:t===uh.ircc?fh.Ircc:fh.TchatConseiller})},e.infoPlusDisplayMoreLess=function(t){e.pushAssistantAnalytics({action:t?ch.InfoPlusDisplayMore:ch.InfoPlusDisplayLess,label:lh.Clic})},e.pushAssistantAnalytics=function(t){var n=t.searchSpace;n||(n=hh.All),e.pushDatalayer({action:t.action,label:t.label,event:ph.Assistant,espaceRecherche:n,application_name:fh.Ircc})},e.pushGenesysAnalytics=function(t){e.pushDatalayer({action:t.action,label:t.label,event:ph.Genesys,application_name:fh.TchatConseiller})},e.pushDatalayer=function(e){var t=e.action,n=e.label,i=e.event,r=e.espaceRecherche,o=e.application_name;try{if("undefined"!=typeof dataLayer){var s={event:i,eventAction:t,eventLabel:n,application_name:o};null!=r&&(s.espaceRecherche=r),dataLayer.push(s)}}catch(a){console.log("pushDatalayer error",a,{action:t,label:n,event:i,application_name:o})}},e}(),gh=function(e){return e.maximized="maximized",e.minimized="minimized",e.none="none",e}({}),yh=function(){function e(){}return e.msgsChat_find=function(e,t){var n=e||[];if(null==n)throw new TypeError('"that" is null or not defined');var i=Object(n),r=i.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var o=arguments[1],s=0;s<r;){var a=i[s];if(t.call(o,a,s,i))return a;s++}},e.msgsChat_findIndex=function(e,t){var n=e;if(null==n)throw new TypeError('"that" is null or not defined');var i=Object(n),r=i.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var o=arguments[1],s=0;s<r;){var a=i[s];if(t.call(o,a,s,i))return s;s++}return-1},e.msgsChat_includes=function(e,t,n){var i=e;if(null==i)throw new TypeError('"that" est nul ou non défini');var r=Object(i),o=r.length>>>0;if(0===o)return!1;for(var s,a,u=0|n,c=Math.max(u>=0?u:o-Math.abs(u),0);c<o;){if((s=r[c])===(a=t)||"number"==typeof s&&"number"==typeof a&&isNaN(s)&&isNaN(a))return!0;c++}return!1},e}(),vh=function(e){return e.message="message",e.agendaId="agendaId",e}({}),mh=function(e){return e.action="action",e.address="address",e.sinbadid="sinbadid",e.application="application",e.spidid="spid_id",e}({}),_h=function(e){return e.escalationCRC="escalationCRC",e.openPopUpAdvisorContact="openPopUpAdvisorContact",e.openPopUpAdvisorEmail="openPopUpAdvisorEmail",e.openPopUpAdvisorReclaim="openPopUpAdvisorReclaim",e.crcTchat="CRCTchat",e.crcTel="CRCTel",e.crcCallback="CRCCallback",e.advisorEmail="AdvisorEmail",e.advisorTel="AdvisorTel",e.advisorAppointment="AdvisorAppointment",e.unknown="Unknown",e}({}),bh=function(){function e(e){var t;this.isExpanded=!0,this.sizeCollapsed=80,null!=e&&(this.id=e.id,this.choices=e.choices||[],this.disable=e.disable,this.userId=e.userId,this.date=e.date,this.defaultResponse=e.defaultResponse,this.text=e.text,this.type=e.type,this.subtype=e.subtype,this.links=(null===(t=e.links)||void 0===t?void 0:t.filter((function(e){return e.type===mh.action||e.type===mh.address||e.type===mh.sinbadid})).filter((function(e){return null==e.subtype||e.subtype===_h.unknown||e.subtype===_h.escalationCRC||e.subtype===_h.openPopUpAdvisorContact||e.subtype===_h.openPopUpAdvisorEmail||e.subtype===_h.openPopUpAdvisorReclaim})))||[],this.user=e.user,this.error=e.error,this.isNameDisplayed=e.isNameDisplayed,this.isDateDisplayed=e.isDateDisplayed,this.useFeedback=e.useFeedback,this.feedbackStatus=e.feedbackStatus,this.popUpInformations=e.popUpInformations)}return e.deserialize=function(t){return new e(t)},e.prototype.setUser=function(e){var t=this;if(e){var n=yh.msgsChat_find(e,(function(e){return e.id===t.userId}));n&&(this.user=n)}},e.prototype.setFieldsVisibility=function(e,t){this.isNameDisplayed=this.getNameVisibility(t,e),this.isDateDisplayed=this.getDateVisibility(t),this.isIconDisplayed=this.isNameDisplayed},e.prototype.getNameVisibility=function(e,t){var n,i;return!(!this.user||""===this.user.username||(null===(n=t)||void 0===n?void 0:n.userId)===this.userId&&(null===(i=t)||void 0===i?void 0:i.date.substring(0,16))===(null==this?void 0:this.date.substring(0,16)))},e.prototype.getDateVisibility=function(e){var t,n;return!((null===(t=e)||void 0===t?void 0:t.userId)===this.userId&&(null===(n=e)||void 0===n?void 0:n.date.substring(0,16))===(null==this?void 0:this.date.substring(0,16)))},e.prototype.isInfoPlusMessage=function(){return this.text.indexOf("Info Plus")>=0},e.prototype.getTextWithoutHtml=function(){var e=new RegExp(/(<span.[^>]*>|<\/span>|<p>.[^>]*|<\/p>|<b.[^>]*>|<\/b>|<i.[^>]*>|<\/i>|<div.[^>]*>|<\/div>|<br >|<br>|<br \/>|<br\/>)/g);return this.text.replace(e,"")},e}(),Ch=function(e){return e.positive="positive",e.negative="negative",e.none="none",e}({}),wh=function(e){return e.advisor="advisor",e.client="client",e.technical="technical",e}({}),Th=function(e){return e.active="active",e.closed="closed",e.waitingUser="waitingUser",e}({}),Eh=function(){function e(e){var t;null!=e&&(this.id=e.id,this.platform=e.platform,this.responses=(null===(t=e.responses)||void 0===t?void 0:t.map(bh.deserialize))||[],this.status=e.status,this.users=e.users||[],this.type=e.type)}return e.deserialize=function(t){return new e(t)},e.prototype.advisorIsConnected=function(){return!(!this.users||this.users.length<1)&&null!=yh.msgsChat_find(this.users,(function(e){return e.type===wh.advisor}))},e.prototype.isDisabled=function(){return this.status!==Th.active},e}(),Sh=n("E2g8"),Ih=function(){function e(e){var t=e.jqueryRelativePath,n=e.customScrollbarPath;this._devbCdnPath=e.devbCdnPath,this._jqueryRelativePath=t,this._customScrollbarPath=n}return e.prototype.loadScripts=function(){var e=this;"function"!=typeof jQueryWlib?this._loadFile("script",""+this._devbCdnPath+this._jqueryRelativePath+"?loadedByChat=1").then((function(){e._loadScrollbarScript()})).catch((function(e){console.log(e)})):this._loadScrollbarScript()},e.prototype._loadScrollbarScript=function(){"function"!=typeof jQueryWlib.mCustomScrollbar&&this._loadFile("script",""+this._devbCdnPath+this._customScrollbarPath+"?loadedByChat=1").catch((function(e){console.log(e)}))},e.prototype._loadFile=function(e,t){return new Sh.Promise((function(n,i){try{var r=document.createElement(e),o="body",s="src";switch(r.onload=function(){n(t)},r.onerror=function(){i(t)},e){case"script":r.async=!0;break;case"link":r.type="text/css",r.rel="stylesheet",s="href",o="head"}r[s]=t,null!=document&&null!=document[o]&&null!=r&&document[o].appendChild(r)}catch(a){console.log(a)}}))},e}();function Ah(e){return function(t){var n=new kh(e),i=t.lift(n);return n.caught=i}}var kh=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Oh(e,this.selector,this.caught))},e}(),Oh=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.selector=n,r.caught=i,r}return r(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(o){return void e.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var i=new N(this,void 0,void 0);this.add(i);var r=U(this,n,void 0,void 0,i);r!==i&&this.add(r)}},t}(G),Ph=function(e){return e.web="web",e}({}),xh={fr:{"A-QUESTION":"Une question ?","COMMON.ACCEPT":"Accepter","COMMON.REJECT":"Refuser","COMMON.CONFIRM":"Valider","COMMON.NEXT":"Suivant","COMMON.START":"Commencer","COMMON.NO":"Non","COMMON.YES":"Oui","COMMON.CONTINUE":"Poursuivre","COMMON.PERSONAL-DATA-PROTECTION":"Protection des données personnelles","COMMON.ASK-YOUR-QUESTION":"Votre question","ERROR.GENERIC":"Une erreur est survenue, veuillez réessayer.","ERROR.CONNECTION-ERROR":"Une erreur est survenue pendant la connexion au service, veuillez réessayer.","GDPR.RESPONSIBLE":"Le responsable de traitement est","GDPR.RESPONSIBLE-CM":"le Crédit Mutuel","GDPR.RESPONSIBLE-CIC":"le CIC","GDPR.RESPONSIBLE-BT":"la Banque Transatlantique","GDPR.RESPONSIBLE-COF":"Cofidis","GDPR.RESPONSIBLE-BECM":"la BECM","GDPR.RESPONSIBLE-BCA":"Banque Casino","GDPR.RESPONSIBLE-MBQ":"Monabanq","GDPR.RESPONSIBLE-FLOA":"FLOA Bank","GDPR.RESPONSIBLE-DEFAULT":"...","GDPR.GENESYS.CONSENT.DISCLAIMER-TITLE":"Informations et consentement à l'usage de vos données personnelles","GDPR.GENESYS.CLOSE-DISCLAIMER":"Attention, valider le retrait de votre consentement mettra fin à la conversation en cours et vous en perdrez l'historique.","GDPR.IRCC.CONSENT.DISCLAIMER-TITLE":"Informations et consentement à l'usage de vos données personnelles à l'utilisation de l'Assistant virtuel&nbsp;:","GDPR.GENESYS.BODY-CONTENT-DEFAULT":'Les données personnelles seront recueillies à travers le tchat avec un conseiller de la banque.\n            <p class="ei-chat-vertical-margin">Le traitement a pour finalités d\'optimiser les réponses à apporter à nos internautes, d\'améliorer la qualité de la relation avec le conseiller, de proposer les produits et les services adaptés aux besoins des clients et de réaliser des études statistiques. Ce traitement est fondé sur votre consentement explicite.</p>\n            <p class="ei-chat-vertical-margin">Les données peuvent être communiquées en vue des mêmes finalités que celles précédemment indiquées aux prestataires de services et sous-traitant de la Banque et aux autorités administratives et judiciaires légalement habilitées. Sont également destinataires de ces données, le responsable de traitement, le personnel habilité du réseau commercial et de la direction commerciale de la Banque. Vous pouvez retirer votre consentement, en gérant vos paramètres de confidentialité, directement dans le tchat.</p>\n            <p class="ei-chat-vertical-margin">Vous disposez d\'un droit d\'accès, de rectification, de limitation, de portabilité, et d\'effacement sur les données qui vous concernent, que vous pouvez exercer en écrivant à : Monsieur le délégué à la protection des données, 63 chemin Antoine Pardon, 69814 Tassin CEDEX.</p>',"GDPR.GENESYS.BODY-CONTENT-MBQ":'Les données personnelles seront recueillies à travers le tchat avec nos conseillers.\n            <p class="ei-chat-vertical-margin">Le traitement a pour finalités d\'optimiser les réponses apportées à nos clients et d\'améliorer la qualité de la relation avec nos conseillers, de proposer les produits et les services adaptés aux besoins de nos clients et de réaliser des études statistiques. Ce traitement est fondé sur votre consentement explicite.</p>\n            <p class="ei-chat-vertical-margin">Les données peuvent être communiquées en vue des mêmes finalités que celles précédemment indiquées aux prestataires de services et sous-traitant de la Banque et aux autorités administratives et judiciaires légalement habilitées. Sont également destinataires de ces données, le responsable de traitement, le personnel habilité du réseau commercial et de la direction commerciale de la Banque.</p>\n            <p class="ei-chat-vertical-margin">Vous pouvez retirer votre consentement, en gérant vos paramètres de confidentialité, directement dans le tchat.</p>\n            <p class="ei-chat-vertical-margin">Vous disposez d\'un droit d\'accès, de rectification, de limitation, de portabilité, et d\'effacement sur les données qui vous concernent, que vous pouvez exercer en écrivant à un délégué à la protection des données joignable à l’adresse suivante dpomonabanq@monabanq.com.</p>',"GDPR.IRCC.BODY-CONTENT-DEFAULT":"Les données personnelles seront recueillies à travers&nbsp;:\n            <ul>\n            <li>-&nbsp;l'Assistant Virtuel qui fait l'objet d'un traitement informatisé enrichi par des collaborateurs de la Banque,</li>\n            <li>-&nbsp;le tchat avec un conseiller de la banque.</li>\n            </ul>\n\n            <p class=\"ei-chat-vertical-margin\">Le traitement a pour finalités d'optimiser les réponses à apporter à nos internautes, d'améliorer la qualité de la relation avec le conseiller, de proposer les produits et les services adaptés aux besoins des clients et de réaliser des études statistiques. Ce traitement est fondé sur votre consentement explicite.</p>\n            <p class=\"ei-chat-vertical-margin\">Les données peuvent être communiquées en vue des mêmes finalités que celles précédemment indiquées aux prestataires de services et sous-traitant de la Banque et aux autorités administratives et judiciaires légalement habilitées. Sont également destinataires de ces données, le responsable de traitement, le personnel habilité du réseau commercial et de la direction commerciale de la Banque.</p>\n            <p class=\"ei-chat-vertical-margin\">Vous pouvez retirer votre consentement, en gérant vos paramètres de confidentialité, directement dans l'Assistant Virtuel.</p>\n            <p class=\"ei-chat-vertical-margin\">Vous disposez d'un droit d'accès, de rectification, de limitation, de portabilité, et d'effacement sur les données qui vous concernent, que vous pouvez exercer en écrivant à&nbsp;: Monsieur le délégué à la protection des données, 63 chemin Antoine Pardon, 69814 Tassin CEDEX.</p>","GDPR.IRCC.BODY-CONTENT-MBQ":"Les données personnelles seront recueillies à travers&nbsp;:\n            <ul>\n            <li>-&nbsp;l'assistant virtuel qui fait l'objet d'un traitement informatisé enrichi par des collaborateurs de la Banque,</li>\n            <li>-&nbsp;le tchat avec nos conseillers.</li>\n            </ul>\n            <p class=\"ei-chat-vertical-margin\">Le traitement a pour finalités d'optimiser les réponses apportées à nos clients et d'améliorer la qualité de la relation avec nos conseillers, de proposer les produits et les services adaptés aux besoins de nos clients et de réaliser des études statistiques. Ce traitement est fondé sur votre consentement explicite.</p>\n            <p class=\"ei-chat-vertical-margin\">Les données peuvent être communiquées en vue des mêmes finalités que celles précédemment indiquées aux prestataires de services et sous-traitant de la Banque et aux autorités administratives et judiciaires légalement habilitées. Sont également destinataires de ces données, le responsable de traitement, le personnel habilité du réseau commercial et de la direction commerciale de la Banque.</p>\n            <p class=\"ei-chat-vertical-margin\">Vous pouvez retirer votre consentement, en gérant vos paramètres de confidentialité, directement dans l'assistant virtuel.</p>\n            <p class=\"ei-chat-vertical-margin\">Vous disposez d'un droit d'accès, de rectification, de limitation, de portabilité, et d'effacement sur les données qui vous concernent, que vous pouvez exercer en écrivant à un délégué à la protection des données joignable à l’adresse suivante dpomonabanq@monabanq.com.</p>","GDPR-LINK-PART1":"Consultez notre","GDPR-LINK-PART2":"Politique de protection des données","GDPR-LINK-PART3":"sur notre site internet.","VIRTUAL-ASSISTANT.ASK-HERE":"Posez votre question ici...","VIRTUAL-ASSISTANT.LOGO-ALT":"Logo Assistant","VIRTUAL-ASSISTANT.NEED-HELP":"Que cherchez-vous sur le site ?","VIRTUAL-ASSISTANT.SEARCH-HELP":"Votre question","VIRTUAL-ASSISTANT.YOUR-ASSISTANT":"Votre assistant virtuel","VIRTUAL-ASSISTANT.CLOSE-ASSISTANT-AUTH":"L'aide à la recherche ne sera plus disponible jusqu'à votre prochaine connexion","VIRTUAL-ASSISTANT.CLOSE-ASSISTANT-UNAUTH":"L'aide à la recherche sera désactivée pendant 10 minutes","VIRTUAL-ASSISTANT.YOUR-OPINION":"Votre avis sur cet assistant","VIRTUAL-ASSISTANT.ACCESSIBILITY.WAITING-GIF":"Réponse en cours","VIRTUAL-ASSISTANT.FEEDBACK.QUESTION":"Comment évalueriez-vous la qualité de notre échange ?","VIRTUAL-ASSISTANT.TUTORIAL.PART1.TITLE1":"Bonjour","VIRTUAL-ASSISTANT.TUTORIAL.PART1.TITLE2":"Je suis votre assistant virtuel","VIRTUAL-ASSISTANT.TUTORIAL.PART1.TEXT":"Je suis là pour vous aider à naviguer sur le site et répondre à vos questions 24h/24 et 7j/7.","VIRTUAL-ASSISTANT.TUTORIAL.PART2.TITLE1":"Une question ?","VIRTUAL-ASSISTANT.TUTORIAL.PART2.TITLE2":"J'y réponds sans attendre","VIRTUAL-ASSISTANT.TUTORIAL.PART2.TEXT":"Je peux vous renseigner sur nos offres et services. Je vous oriente sur le site et vous mets en relation avec le bon interlocuteur pour accomplir vos démarches.","VIRTUAL-ASSISTANT.TUTORIAL.PART3.TITLE1":"C'est facile !","VIRTUAL-ASSISTANT.TUTORIAL.PART3.TITLE2":"Saisissez simplement vos questions","VIRTUAL-ASSISTANT.TUTORIAL.PART3.TEXT":"Vous pouvez saisir vos questions dans le champ prévu à cet effet. N’hésitez pas à formuler une phrase plutôt qu’un seul mot. Cela me permettra d’être plus précis dans mes réponses.","VIRTUAL-ASSISTANT.LOADER.TITLE1":"Chargement en cours","VIRTUAL-ASSISTANT.LOADER.TITLE2":"Veuillez patienter","MYAPP.ADVISOR-AVAILABLE":"Un conseiller est disponible","MYAPP.GENESYS-ONLINE":"Tchat conseiller en ligne","MYAPP.CANCEL":"Annuler","MYAPP.CHAT-ADVISOR":"Tchat conseiller","MYAPP.LOGO":"Logo conseiller","MYAPP.ERROR.MESSAGES-POST":"Ce message n'a pas été envoyé. Cliquez pour réessayer.","MYAPP.EXIT":"Fermer le tchat ?","MYAPP.EXIT-CONFIRM":"En fermant la fenêtre de tchat, vous allez mettre fin à la conversation.","MYAPP.EXIT-CONFIRM-QUESTION":"Êtes-vous sûr de vouloir fermer le tchat ?","MYAPP.INPUT-BOX.SUBMIT":"Envoyer","MYAPP.LEAVE-CHAT":"Quitter le tchat","MYAPP.MAXIMIZE":"Agrandir","MYAPP.MINIMIZE":"Réduire","MYAPP.DISPLAY-MORE":"Afficher plus","MYAPP.DISPLAY-LESS":"Afficher moins","MYAPP.NOTIFICATION-BOX.AWAIT":"En attente de la connexion d'un conseiller.","MYAPP.NOTIFICATION-BOX.CLOSE":"La conversation est terminée","MYAPP.NOTIFICATION-BOX.TYPING":"Le conseiller est en train de rédiger un message...","MYAPP.TO-CHAT":"Tchatter","MYAPP.UNAUTHENTE-NICKNAME":"Anonyme","MYAPP.YOU-NICKNAME":"Vous","NEED-HELP":"Besoin d'aide ?","REDIRECT-CANCEL":"Annuler la redirection","REDIRECT-MESSAGE":"Vous allez être redirigé vers la page {0} dans {1} ...","SETTINGS.BANNER-TITLE":"Paramètres","SETTINGS.HEADER-TITLE":"Paramètres de confidentialité","SETTINGS.IRCC.GDPR-SETTING-DEFAULT":"J'accepte le traitement de mes données dans le cadre de l'Assistant Virtuel et du tchat avec un conseiller de la banque.","SETTINGS.GENESYS.GDPR-SETTING-DEFAULT":"J'accepte le traitement de mes données dans le cadre du tchat avec un conseiller de la banque.","SETTINGS.IRCC.GDPR-SETTING-MBQ":"J'accepte le traitement de mes données dans le cadre de l'Assistant Virtuel et du tchat avec nos conseillers.","SETTINGS.GENESYS.GDPR-SETTING-MBQ":"J'accepte le traitement de mes données dans le cadre du tchat avec nos conseillers.","SETTINGS.ERROR-GET":"Une erreur est survenue lors de la récupération des paramètres. Veuillez réessayer.","SETTINGS.ERROR-UPDATE":"Une erreur est survenue lors de la mise à jour des paramètres. Veuillez réessayer.","GDPR.GENESYS.CONSENT.DISCLAIMER-TITLE-COFBE":"Une question ? Vous êtes immédiatement accompagné par chat","GDPR.GENESYS.BODY-CONTENT-COFBE":"Afin de vous fournir la meilleure expérience possible, sachez que nous sauvegardons l'historique de nos échanges","GDPR-LINK-PART1-COFBE":"En cliquant sur « Poursuivre », vous acceptez l’enregistrement de vos données personnelles et l’utilisation des cookies.","GDPR-LINK-PART2-COFBE":"Plus d’infos"},nl:{"COMMON.ACCEPT":"Doorgaan","COMMON.REJECT":"Weigeren","COMMON.CONFIRM":"Bevestigen","COMMON.CONTINUE":"Doorgaan","COMMON.ASK-YOUR-QUESTION":"Stel alsjeblieft je vraag","ERROR.GENERIC":"Er is een fout opgetreden. Gelieve opnieuw te proberen.","ERROR.CONNECTION-ERROR":"Er is een fout opgetreden tijdens de verbinding. Gelieve opnieuw te proberen.","MYAPP.ADVISOR-AVAILABLE":"Er is een consulent beschikbaar","MYAPP.CANCEL":"Annuleren","MYAPP.CHAT-ADVISOR":"Chatconsulent","MYAPP.ERROR.MESSAGES-POST":"Dit bericht werd niet verzonden. Klik om opnieuw te proberen.","MYAPP.EXIT":"Chatfunctie sluiten?","MYAPP.EXIT-CONFIRM":"Door het chatvenster te sluiten, beëindigt u uw gesprek.","MYAPP.EXIT-CONFIRM-QUESTION":"Bent u zeker dat u de chatfunctie wil sluiten?","MYAPP.INPUT-BOX.SUBMIT":"Versturen","MYAPP.LEAVE-CHAT":"Chatfunctie verlaten","MYAPP.MAXIMIZE":"Vergroten","MYAPP.MINIMIZE":"Verkleinen","MYAPP.NOTIFICATION-BOX.AWAIT":"In afwachting van de verbinding met een consulent","MYAPP.NOTIFICATION-BOX.CLOSE":"De chatfunctie is niet beschikbaar","MYAPP.NOTIFICATION-BOX.TYPING":"De consulent is een bericht aan het typen...","MYAPP.TO-CHAT":"Chatten","MYAPP.UNAUTHENTE-NICKNAME":"Anoniem","MYAPP.YOU-NICKNAME":"U","GDPR.GENESYS.CONSENT.DISCLAIMER-TITLE-COFBE":"Een vraag? Via chat heb je meteen je antwoord!","GDPR.GENESYS.BODY-CONTENT-COFBE":"Om je zo goed mogelijk te kunnen helpen, worden alle gesprekken bewaard.","GDPR-LINK-PART1-COFBE":"Doop op 'Doorgaan' te klikken, ga je ermee akkord dat we cookies gebruiken en dat je gegevens bewaard worden.","GDPR-LINK-PART2-COFBE":"Meer info"},ca_ES:{"COMMON.NO":"No","COMMON.YES":"Si","COMMON.CONFIRM":"validar","ERROR.CONNECTION-ERROR":"S'ha produït un error en connectar-se al xat. Torneu-ho a provar.","MYAPP.CANCEL":"cancellar","MYAPP.ERROR.MESSAGES-POST":"No s'ha enviat el missatge. Feu clic en el missatge per tornar-ho a provar | ","MYAPP.EXIT":"Vols tancar el xat?","MYAPP.EXIT-CONFIRM":"Si tanques la finestra del xat, posaràs fi a la conversa.","MYAPP.EXIT-CONFIRM-QUESTION":"Estàs segur que vols tancar el xat?","MYAPP.INPUT-BOX.SUBMIT":"Enviar","MYAPP.LEAVE-CHAT":"Deixa el xat","MYAPP.NOTIFICATION-BOX.AWAIT":"Esperant que es connecti un gestor","MYAPP.NOTIFICATION-BOX.CLOSE":"S'ha tancat el xat","MYAPP.NOTIFICATION-BOX.TYPING":"El gestor està escrivint...","MYAPP.UNAUTHENTE-NICKNAME":"Anònim","MYAPP.YOU-NICKNAME":"Em"},es_ES:{"COMMON.NO":"No","COMMON.YES":"Sí","COMMON.CONFIRM":"Cerrar","ERROR.CONNECTION-ERROR":"Se ha producido un error durante la conexión al chat. Por favor, inténtalo de nuevo.","MYAPP.ADVISOR-AVAILABLE":"Tienes alguna duda?","MYAPP.CANCEL":"Volver","MYAPP.CHAT-ADVISOR":"Conversación en curso ...","MYAPP.ERROR.MESSAGES-POST":"Este mensaje no se ha enviado correctamente. Haz clic en él para enviarlo de nuevo.","MYAPP.EXIT":"¿Deseas cerrar el chat?","MYAPP.EXIT-CONFIRM":"Si cierras la ventana del chat pondrás fin a la conversación.","MYAPP.EXIT-CONFIRM-QUESTION":"","MYAPP.INPUT-BOX.SUBMIT":"Enviar","MYAPP.LEAVE-CHAT":"Cerrar chat","MYAPP.NOTIFICATION-BOX.AWAIT":"A la espera de que se conecte un asesor personal...","MYAPP.NOTIFICATION-BOX.CLOSE":"En estos momentos nuestros asesores personales están ocupados. Por favor, vuelve a escribirnos en unos minutos. Disculpa por las molestias.","MYAPP.NOTIFICATION-BOX.TYPING":"El asesor personal está escribiendo...","MYAPP.TO-CHAT":"Iniciar chat","MYAPP.UNAUTHENTE-NICKNAME":"Anónimo","MYAPP.YOU-NICKNAME":"Yo","GDPR.GENESYS.CONSENT.DISCLAIMER-TITLE-COFES":"Vas a iniciar una conversación por chat con uno de nuestos gestores","GDPR.GENESYS.BODY-CONTENT-COFES":"Para ofercerte la mejor experiencia posible, ten en cuenta que guardamos el historial de nustros intercambios.","GDPR-LINK-PART1-COFES":"Para más información, accede a","GDPR-LINK-PART2-COFES":"Términos y condiciones de uso y gestión de cookies","COMMON.ACCEPT":"Continuar","COMMON.REJECT":"Cerrar"},fr_BE:{"GDPR.GENESYS.BODY-CONTENT-DEFAULT":'Les données personnelles seront recueillies à travers le chat avec un conseiller de la banque.\n            <p class="ei-chat-vertical-margin">Le traitement a pour finalités d\'optimiser les réponses à apporter à nos internautes, d\'améliorer la qualité de la relation avec le conseiller, de proposer les produits et les services adaptés aux besoins des clients et de réaliser des études statistiques. Ce traitement est fondé sur votre consentement explicite.</p>\n            <p class="ei-chat-vertical-margin">Les données peuvent être communiquées en vue des mêmes finalités que celles précédemment indiquées aux prestataires de services et sous-traitant de la Banque et aux autorités administratives et judiciaires légalement habilitées. Sont également destinataires de ces données, le responsable de traitement, le personnel habilité du réseau commercial et de la direction commerciale de la Banque. Vous pouvez retirer votre consentement, en gérant vos paramètres de confidentialité, directement dans le chat.</p>\n            <p class="ei-chat-vertical-margin">Vous disposez d\'un droit d\'accès, de rectification, de limitation, de portabilité, et d\'effacement sur les données qui vous concernent, que vous pouvez exercer en écrivant à : Monsieur le délégué à la protection des données, 63 chemin Antoine Pardon, 69814 Tassin CEDEX.</p>',"MYAPP.CHAT-ADVISOR":"Parler avec un conseiller","MYAPP.ERROR.MESSAGES-POST":"Ce message n'a pas été envoyé. Cliquez pour réessayer.","MYAPP.EXIT":"Fermer le chat ?","MYAPP.EXIT-CONFIRM":"En fermant la fenêtre de chat, vous allez mettre fin à la conversation.","MYAPP.EXIT-CONFIRM-QUESTION":"Êtes-vous sûr de vouloir fermer le chat ?","MYAPP.INPUT-BOX.SUBMIT":"Envoyer","MYAPP.LEAVE-CHAT":"Quitter le chat","MYAPP.TO-CHAT":"Chatter","SETTINGS.GENESYS.GDPR-SETTING-DEFAULT":"J'accepte le traitement de mes données dans le cadre du chat avec un conseiller de la banque."}},Mh=function(){return function(e){this.isEnabled=!1,this.canBeInitiated=!1,this.defaultDisplay=null,null!=e&&(null!=e.isEnabled&&(this.isEnabled=e.isEnabled),null!=e.canBeInitiated&&(this.canBeInitiated=e.canBeInitiated),null!=e.defaultDisplay&&(this.defaultDisplay=e.defaultDisplay))}}(),Nh=function(){function e(){this._chatConfig=o({},window.msgsChatConfig)}return Object.defineProperty(e.prototype,"genesysConfig",{get:function(){return new Mh(this._chatConfig.genesysConfig)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualAssistantConfig",{get:function(){return new Mh(this._chatConfig.virtualAssistantConfig)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"publicPath",{get:function(){return this._chatConfig.publicPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"devbCdnPath",{get:function(){return this._chatConfig.devbCdnPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jqueryRelativePath",{get:function(){return this._chatConfig.jqueryRelativePath.includes("1.11.3_rollback")?this._chatConfig.jqueryRelativePath.replace("1.11.3_rollback","1.11.3"):this._chatConfig.jqueryRelativePath.replace("1.11.3","1.12.4.1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customScrollbarPath",{get:function(){return this._chatConfig.customScrollbarPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"apiBaseUrl",{get:function(){return this._chatConfig.apiBaseUrl||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aliasResolverBaseUrl",{get:function(){return this._chatConfig.aliasResolverBaseUrl||window.location.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._chatConfig.locale||"fr_FR"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionToken",{get:function(){return this._chatConfig.sessionToken||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAuthenticated",{get:function(){return null!=this._chatConfig.isUserAuthenticated?this._chatConfig.isUserAuthenticated:""!==this.sessionToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSubstituted",{get:function(){return null!=this._chatConfig.isUserSubstituted&&this._chatConfig.isUserSubstituted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pollingRate",{get:function(){return this._chatConfig.pollingRate||5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowedWaitingTime",{get:function(){return this._chatConfig.allowedWaitingTime||150},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"federation",{get:function(){return this._chatConfig.federation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldId",{get:function(){return this._chatConfig.worldId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueWorldId",{get:function(){return this._chatConfig.uniqueWorldId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userTypology",{get:function(){return this._chatConfig.userTypology||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"srchExaleadDsnFullString",{get:function(){return this._chatConfig.srchExaleadDsnFullString||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return this.isAuthenticated?this.genesysPlatformAuth:this.genesysPlatformUnauth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return document.title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientUrl",{get:function(){return document.URL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeBeforeSendPreview",{get:function(){return 500},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeBeforeUserNotTypingNotify",{get:function(){return 2500},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualAssistantId",{get:function(){return this._chatConfig.virtualAssistantId||"8"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"genesysPlatformAuth",{get:function(){return this._chatConfig.genesysPlatformAuth||"NO_PLATFORM_AUTH"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"genesysPlatformUnauth",{get:function(){return this._chatConfig.genesysPlatformUnauth||"NO_PLATFORM_UNAUTH"},enumerable:!0,configurable:!0}),e}(),Dh=function(){function e(e){this.chatConfig=e,this._translationsDic={};var t=this.chatConfig.locale;if(t)if(xh[t]){var n=t.substring(0,2),i={};xh[n]&&(i=xh[n]),this._translationsDic=o(o({},i),xh[t])}else{var r=xh[t.substring(0,2)];r&&(this._translationsDic=r)}}return e.prototype.instant=function(e){return e&&null!=this._translationsDic?this._translationsDic[e]||e:""},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Nh))}}),e}(),Rh=function(){function e(e,t){this.httpClient=e,this.chatConfig=t}return e.prototype.createAuthentication=function(e){return e.idSes?this._postAuthentication(e):this._postUnauthentication(e)},e.prototype.retrieveAuth=function(e){var t;return this.httpClient.post(this.chatConfig.apiBaseUrl+"/authent/",(null===(t=e)||void 0===t?void 0:t.length)>0?{idSes:e}:{})},e.prototype.addIdSesToAuth=function(e){return this._updateAuth({idSes:e})},e.prototype._postAuthentication=function(e){return this.httpClient.post(this.chatConfig.apiBaseUrl+"/auth-authenticated/",e)},e.prototype._postUnauthentication=function(e){return this.httpClient.post(this.chatConfig.apiBaseUrl+"/auth-unauthenticated/",e)},e.prototype._updateAuth=function(e){return this.httpClient.patch(this.chatConfig.apiBaseUrl+"/authent/",e)},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Rp),et(Nh))}}),e}(),Lh=function(){function e(){}return e.putCookie=function(e){var t=e.name,n=e.value,i=e.expiringDate,r="";i&&(r="; expires="+i.toUTCString()+"; secure"),document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+r+"; path=/"},e.getCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}return null},e.deleteCookie=function(e){this.putCookie({name:e,value:"",expiringDate:new Date(0)})},e}(),Vh=function(){function e(){}return e.extendSession=function(){try{if("object"!=typeof SessionUtils||"function"!=typeof SessionUtils.RefreshSession)return;this._refreshSession()}catch(e){console.log(e)}},e._refreshSession=function(){SessionUtils.RefreshSession()},e.prototype.isLogin=function(e){return!1===this._lastPageAuthentStatus()&&!0===e},e.prototype.detectLogoutAndUpdateCookies=function(e){this._isLogout(e)&&this._removeAllCookies(),this._updateAuthentStatusCookie(e)},e.prototype.tokenCookie=function(){return Lh.getCookie(e.CHAT_TOKEN_KEY)},e.prototype.updateTokenCookie=function(t){var n=new Date;n.setHours(n.getHours()+1),Lh.putCookie({name:e.CHAT_TOKEN_KEY,value:t,expiringDate:n})},e.prototype.deleteTokenCookie=function(){Lh.deleteCookie(e.CHAT_TOKEN_KEY)},e.prototype._isLogout=function(e){return!0===this._lastPageAuthentStatus()&&!1===e},e.prototype._lastPageAuthentStatus=function(){var t=Lh.getCookie(e.AUTHENT_COOKIE_KEY);return null!=t&&JSON.parse(t)},e.prototype._updateAuthentStatusCookie=function(t){var n=new Date;n.setHours(n.getHours()+1),Lh.putCookie({name:e.AUTHENT_COOKIE_KEY,value:JSON.stringify(t),expiringDate:n})},e.prototype._removeAllCookies=function(){Lh.deleteCookie(e.AUTHENT_COOKIE_KEY),this.deleteTokenCookie()},e.ASSISTANT_DISPLAY_KEY="msgs-chat-virtualAssistant-display",e.CHAT_TOKEN_KEY="msgs-chat-token",e.AUTHENT_COOKIE_KEY="msgs-authent-state",e.IRCC_DISABLED_SESSION_KEY="msgs-ircc-logo-disabled",e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)}}),e}(),jh=function(){function e(e,t,n,i){this.translate=e,this.chatConfig=t,this.authenticationStore=n,this.sessionService=i,this._authToken=""}return e.prototype.tokenIsValid=function(e){var t=this;return this.authenticationStore.retrieveAuth(e).pipe(K((function(e){return t._saveTokenLocally(t.sessionService.tokenCookie()),gp({isValid:!0,isAuthenticated:e.isAuthenticated})})),Ah((function(){return gp({isValid:!1})})))},e.prototype.authorize=function(e){var t=this,n=this.sessionService.tokenCookie();return n?this.authenticationStore.retrieveAuth(e).pipe(K((function(i){return t._saveTokenLocally(n),!0===i.isAuthenticated?gp(n):e?t.authenticationStore.addIdSesToAuth(e):gp(null)})),Ah((function(){return t.sessionService.deleteTokenCookie(),t._createAndSaveToken()}))):this._createAndSaveToken()},Object.defineProperty(e.prototype,"token",{get:function(){return this._authToken?this._authToken:this.sessionService.tokenCookie()||""},set:function(e){e&&(this._authToken=e)},enumerable:!0,configurable:!0}),e.prototype._createAndSaveToken=function(){var e=this,t={channel:Ph.web,exaleadDsn:this.chatConfig.srchExaleadDsnFullString,fede:this.chatConfig.federation,origin:this.chatConfig.origin,site:this.chatConfig.worldId,url:this.chatConfig.clientUrl,idSes:this.chatConfig.sessionToken,nickname:this.chatConfig.isAuthenticated?null:this.translate.instant("MYAPP.UNAUTHENTE-NICKNAME"),siteLocale:this.chatConfig.locale};return this.chatConfig.userTypology&&(t.userTypology=this.chatConfig.userTypology),this.authenticationStore.createAuthentication(t).pipe(oh((function(t){e._saveTokenLocally(t)})))},e.prototype._saveTokenLocally=function(e){e&&(this.token=e,this.sessionService.updateTokenCookie(e))},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Dh),et(Nh),et(Rh),et(Vh))}}),e}(),Fh=function(){function e(){this._openGenesysSubject=new P}return e.prototype.openGenesys=function(e){this._openGenesysSubject.next({platform:e.platform,intentionOrigin:e.intentionOrigin,mocaId:e.mocaId,conversationId:e.conversationId,escalation:e.escalation})},e.prototype.openGenesysObservable=function(){return this._openGenesys$?this._openGenesys$:this._openGenesys$=this._openGenesysSubject.asObservable()},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)}}),e}(),Uh=function(){function e(e,t){this.httpClient=e,this.chatConfig=t}return e.prototype.chatList=function(){return this.httpClient.get(this.chatConfig.apiBaseUrl+"/chats-v2/").pipe(B((function(e){return e.map((function(e){return Eh.deserialize(e)}))})))},e.prototype.getChat=function(e){return this.httpClient.get(this.chatConfig.apiBaseUrl+"/chats/"+e+"/").pipe(B(Eh.deserialize))},e.prototype.postChat=function(e){var t=e.platform,n=e.type,i=e.origin,r=e.url,o=e.intentionOrigin,s=e.mocaId,a=e.conversationId;return this.chatConfig.isAuthenticated&&Vh.extendSession(),this.httpClient.post(this.chatConfig.apiBaseUrl+"/chats/",{platform:t,type:n,origin:i,url:r,intentionOrigin:o,mocaId:s,conversationId:a}).pipe(B(Eh.deserialize))},e.prototype.patchChat=function(e,t){return this.httpClient.patch(this.chatConfig.apiBaseUrl+"/chats/"+e+"/?status="+t,{})},e.prototype.updatePlatform=function(e,t){return this.httpClient.patch(this.chatConfig.apiBaseUrl+"/chats/"+e+"/",{platform:t})},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Rp),et(Nh))}}),e}(),Gh={cm:{irccLogoFile:"cm.svg",advisorLogoFile:"cm.png",gdprResponsibleKey:"CM",gdprBodyKey:"DEFAULT",waitingGifFile:"ircc_cm_waiting_points.gif",genesysTitleKey:"MYAPP.CHAT-ADVISOR",genesysLogoKey:"MYAPP.GENESYS-ONLINE"},cmag:{irccLogoFile:"cm.svg",advisorLogoFile:"cm.png",gdprResponsibleKey:"CM",gdprBodyKey:"DEFAULT",waitingGifFile:"ircc_cm_waiting_points.gif",genesysTitleKey:"MYAPP.CHAT-ADVISOR",genesysLogoKey:"MYAPP.GENESYS-ONLINE"},cmo:{irccLogoFile:"cm.svg",advisorLogoFile:"cm.png",gdprResponsibleKey:"CM",gdprBodyKey:"DEFAULT",waitingGifFile:"ircc_cm_waiting_points.gif",genesysTitleKey:"MYAPP.CHAT-ADVISOR",genesysLogoKey:"MYAPP.GENESYS-ONLINE"},cmne:{irccLogoFile:"cm.svg",advisorLogoFile:"cm.png",gdprResponsibleKey:"CM",gdprBodyKey:"DEFAULT",waitingGifFile:"ircc_cm_waiting_points.gif",genesysTitleKey:"MYAPP.CHAT-ADVISOR",genesysLogoKey:"MYAPP.GENESYS-ONLINE"},cic:{irccLogoFile:"cic.svg",advisorLogoFile:"cm.png",gdprResponsibleKey:"CIC",gdprBodyKey:"DEFAULT",waitingGifFile:"ircc_cic_waiting_points.gif",genesysTitleKey:"MYAPP.CHAT-ADVISOR",genesysLogoKey:"MYAPP.GENESYS-ONLINE"},bt:{irccLogoFile:"cic.svg",gdprResponsibleKey:"BT",gdprBodyKey:"DEFAULT",waitingGifFile:"ircc_cm_waiting_points.gif"},mbq:{irccLogoFile:"mbq.png",gdprResponsibleKey:"MBQ",gdprBodyKey:"MBQ",irccTitleKey:"VIRTUAL-ASSISTANT.YOUR-ASSISTANT",irccLogoKey:"A-QUESTION"},becm:{irccLogoFile:"mbq.png",gdprResponsibleKey:"BECM",gdprBodyKey:"DEFAULT"},bca:{irccLogoFile:"mbq.png",gdprResponsibleKey:"BCA",gdprBodyKey:"DEFAULT"},floa:{irccLogoFile:"floa.svg",gdprResponsibleKey:"FLOA",gdprBodyKey:"DEFAULT"},cofes:{irccLogoFile:"mbq.png",gdprResponsibleKey:"COF",gdprBodyKey:"COFES"},cofbe:{irccLogoFile:"mbq.png",gdprResponsibleKey:"COF",gdprBodyKey:"COFBE"},mycofpro:{irccLogoFile:"mbq.png",gdprResponsibleKey:"COF",gdprBodyKey:"DEFAULT"},unknown:{irccLogoFile:"mbq.png",gdprResponsibleKey:"DEFAULT",gdprBodyKey:"DEFAULT"}},Bh=function(e){return e.CreditMutuel="cm",e.Cmag="cmag",e.Cmo="cmo",e.Cmne="cmne",e.Cic="cic",e.Bt="bt",e.Monabanq="mbq",e.Becm="becm",e.Bca="bca",e.Floa="floa",e.CofEs="cofes",e.CofBe="cofbe",e.MyCofPro="mycofpro",e.Unknown="unknown",e}({}),Hh=function(e){return e.Video="video",e.Image="img",e}({}),zh=function(){function e(e){this.chatConfig=e,this.currentEntity=Bh.Unknown,this._entitiesConfig=Gh,this.tutorialSettings=[{entity:Bh.CreditMutuel,type:Hh.Video},{entity:Bh.Cic,type:Hh.Video},{entity:Bh.Cmag,type:Hh.Video},{entity:Bh.Monabanq,type:Hh.Image}],this.currentEntity=e.uniqueWorldId,this.currentEntityConfig=this._entitiesConfig[this.currentEntity]||this._entitiesConfig[Bh.Unknown],this._gdprSuffixKeys={responsibleKey:"GDPR.RESPONSIBLE-"+this.currentEntityConfig.gdprResponsibleKey,gdprBodyIrccKey:"GDPR.IRCC.BODY-CONTENT-"+this.currentEntityConfig.gdprBodyKey,gdprBodyGenesysKey:"GDPR.GENESYS.BODY-CONTENT-"+this.currentEntityConfig.gdprBodyKey,settingsIrccKey:"SETTINGS.IRCC.GDPR-SETTING-"+this.currentEntityConfig.gdprBodyKey,settingsGenesysKey:"SETTINGS.GENESYS.GDPR-SETTING-"+this.currentEntityConfig.gdprBodyKey}}return e.prototype.isVideo=function(){var e,t=this;return(null===(e=this.tutorialSettings.find((function(e){return e.entity===t.currentEntity})))||void 0===e?void 0:e.type)===Hh.Video},e.prototype.getCurrentEntityConfig=function(){return this.currentEntityConfig},e.prototype.isCustomGDPR=function(){return this.currentEntity===Bh.CofBe||this.currentEntity===Bh.CofEs},e.prototype.isIrccTutorialEnabled=function(){return-1!==this.tutorialSettings.map((function(e){return e.entity})).indexOf(this.currentEntity)},e.prototype.isAutocompleteEnabled=function(){return this.currentEntity===Bh.CreditMutuel||this.currentEntity===Bh.Cic||this.currentEntity===Bh.Cmag},e.prototype.irccLogoUrl=function(){var e=this.currentEntityConfig.irccLogoFile;return e?this.chatConfig.publicPath+"assets/images/logos/RA-logo-"+e:null},e.prototype.advisorLogoUrl=function(){var e=this.currentEntityConfig.advisorLogoFile;return e?this.chatConfig.publicPath+"assets/images/logos/advisor-logo-"+e:null},e.prototype.irccMediaPath=function(){return this.isVideo()?this.chatConfig.publicPath+"assets/video/"+this.currentEntity:this.chatConfig.publicPath+"assets/images/"+this.currentEntity},e.prototype.gdprResponsibleKey=function(){return this._gdprSuffixKeys.responsibleKey},e.prototype.gdprIrccBodyKey=function(){return this._gdprSuffixKeys.gdprBodyIrccKey},e.prototype.gdprGenesysBodyKey=function(){return this._gdprSuffixKeys.gdprBodyGenesysKey},e.prototype.gdprIrccSettingsKey=function(){return this._gdprSuffixKeys.settingsIrccKey},e.prototype.gdprGenesysSettingsKey=function(){return this._gdprSuffixKeys.settingsGenesysKey},e.prototype.irccTitleKey=function(){return this.currentEntityConfig.irccTitleKey||"VIRTUAL-ASSISTANT.SEARCH-HELP"},e.prototype.irccLogoKey=function(){return this.currentEntityConfig.irccLogoKey||"NEED-HELP"},e.prototype.genesysTitleKey=function(){return this.currentEntityConfig.genesysTitleKey||"MYAPP.CHAT-ADVISOR"},e.prototype.genesysLogoKey=function(){return this.currentEntityConfig.genesysLogoKey||"MYAPP.GENESYS-ONLINE"},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Nh))}}),e}(),Yh=function(){function e(e){null!=e&&(this.available=e.available,this.currentReadyAgents=e.currentReadyAgents,this.expectedWaitTime=e.expectedWaitTime,this.platform=e.platform)}return e.deserialize=function(t){return new e(t)},e}(),qh=function(){return function(e){null!=e&&(this.hasAccepted=e.hasAccepted||!1,this.clientId=e.clientId,this.acceptedDate=e.acceptedDate,this.versionId=e.versionId,this.versionUrl=e.versionUrl)}}(),Kh=function(){function e(e,t){this.httpClient=e,this.chatConfig=t}return e.prototype.genesysAvailable=function(e,t,n){return this._getGenesysPlatform(e,t).pipe(B((function(e){return!0===e.available||e.expectedWaitTime<=n})),Ah((function(e){return console.log("Error when getting genesys availability : ",e),gp(!1)})))},e.prototype.virtualAssistantAvailable=function(e){return this._virtualAssistantStatus(e).pipe(B((function(e){return!0===e.available})),Ah((function(e){return console.log("Error when getting virtual assistant availability : ",e),gp(!1)})))},e.prototype.latestUserConsent=function(e,t){return e?this._latestUserConsentAuth(t):this._latestUserConsentUnauth()},e.prototype._latestUserConsentAuth=function(e){return this.httpClient.get(this.chatConfig.apiBaseUrl+"/platforms/"+e+"/clients/me/user-consents/").pipe(B((function(e){return e&&0===e.length?null:e[0]})))},e.prototype._latestUserConsentUnauth=function(){return gp(JSON.parse(Lh.getCookie(e.GDPR_COOKIE_NAME))||{versionId:"unauth-terms-id-1",hasAccepted:null})},e.prototype.acceptTerms=function(e,t,n){return e?this._updateUserConsent(t,n,!0):this._updateUserConsentUnauth(n,!0)},e.prototype.rejectTerms=function(e,t,n){return e?this._updateUserConsent(t,n,!1):this._updateUserConsentUnauth(n,!1)},e.prototype.retrieveGenesysGdpr=function(){var t=JSON.parse(Lh.getCookie(e.GDPR_COOKIE_NAME_GENESYS));return gp(new qh(t))},e.prototype.updateGenesysGdpr=function(t){var n=new Date;n.setMonth(n.getMonth()+6);var i=new qh({acceptedDate:(new Date).toISOString(),hasAccepted:t,versionId:"genesys-gdpr-1"});return Lh.putCookie({name:e.GDPR_COOKIE_NAME_GENESYS,value:JSON.stringify(i),expiringDate:n}),gp(i)},e.prototype._updateUserConsent=function(e,t,n){return this.httpClient.post(this.chatConfig.apiBaseUrl+"/platforms/"+e+"/clients/me/user-consents/",{versionId:t,hasAccepted:n})},e.prototype._updateUserConsentUnauth=function(t,n){var i=new Date;i.setMonth(i.getMonth()+6);var r={hasAccepted:n,versionId:t};if(n)r.acceptedDate=(new Date).toISOString();else{var o=JSON.parse(Lh.getCookie(e.GDPR_COOKIE_NAME));r.acceptedDate=o.acceptedDate||null}return Lh.putCookie({name:e.GDPR_COOKIE_NAME,value:JSON.stringify(r),expiringDate:i}),gp(r)},e.prototype._getGenesysPlatform=function(e,t){var n={idSes:this.chatConfig.sessionToken};return t&&(n.userTypology=t),this.httpClient.post(this.chatConfig.apiBaseUrl+"/platforms/"+e+"/",n).pipe(B(Yh.deserialize))},e.prototype._virtualAssistantStatus=function(e){return this.httpClient.get(this.chatConfig.apiBaseUrl+"/platforms/"+(e||"8")+"/").pipe(B(Yh.deserialize))},e.GDPR_COOKIE_NAME="msgs-chat-gdpr-consent",e.GDPR_COOKIE_NAME_GENESYS="msgs-chat-advisor-gdpr",e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Rp),et(Nh))}}),e}(),Wh=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(f)),Zh=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Qh=function(e){function t(n,i){void 0===i&&(i=Zh.now);var r=e.call(this,n,(function(){return t.delegate&&t.delegate!==r?t.delegate.now():i()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return r(t,e),t.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,r):e.prototype.schedule.call(this,n,i,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Zh),Xh=new Qh(Wh);function Jh(e,t){return void 0===t&&(t=Xh),function(n){return n.lift(new $h(e,t))}}var $h=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ef(e,this.dueTime,this.scheduler))},e}(),ef=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return r(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tf,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(b);function tf(e){e.debouncedNext()}var nf={keyboard:{enable:!0},mouseWheel:{preventDefault:!0},scrollbarPosition:"inside",theme:"ei-theme"},rf=function(){function e(){var e=this;this._scrollingSubject=new P,this._scrollingSub=this._scrollingSubject.asObservable().pipe(Jh(250)).subscribe((function(t){return e._handleScroll(t)}))}return e.prototype.initScrollbar=function(){var e;this._scrollbarLibExists()?null===(e=jQueryWlib(".ei_msgconv__scroll-content"))||void 0===e||e.mCustomScrollbar(nf):console.error("Missing jQueryWlib or mCustomScrollbar for initScrollbar")},e.prototype.scrollToBottom=function(e){void 0===e&&(e={}),this._scrollingSubject.next(o({scrollTo:"bottom"},e))},e.prototype._scrollbarLibExists=function(){var e;return"function"==typeof jQueryWlib&&"function"==typeof(null===(e=jQueryWlib())||void 0===e?void 0:e.mCustomScrollbar)},e.prototype._handleScroll=function(e){var t;this._scrollbarLibExists()?null===(t=window.jQueryWlib(".ei_msgconv__scroll-content"))||void 0===t||t.mCustomScrollbar("scrollTo",e.scrollTo,e.options):console.error("Missing jQueryWlib or mCustomScrollbar for _handleScroll")},e}(),of=function(){function e(e){void 0===e&&(e={}),this.displayConsent=!1,this.displaySettings=!1,this.displayTutorial=!1,this.comingFromEscalation=!1,this.chat=e.chat||null,this.display=e.display||gh.none}return e.prototype.exists=function(){var e;return null!=(null===(e=this.chat)||void 0===e?void 0:e.id)},e.prototype.minimize=function(e){var t,n=(null===(t=this.chat)||void 0===t?void 0:t.type)===uh.genesys?"conseiller":"ircc";jQueryWlib(".ircc").addClass("is-animated"),setTimeout((function(){jQueryWlib(".ircc__stickers-"+n).removeClass("small"),jQueryWlib(".ircc__stickers-"+n+" .ei_gly_chevron_droit").addClass("invisible"),jQueryWlib(".ircc__stickers-"+n+" .ircc__trigger_picto").removeClass("invisible"),jQueryWlib(".ircc").removeClass("is-animated"),null!==e&&e()}),500),this.display=gh.minimized},e.prototype.maximize=function(e){var t,n=(null===(t=this.chat)||void 0===t?void 0:t.type)===uh.genesys?"conseiller":"ircc";jQueryWlib(".ircc").addClass("is-animated"),setTimeout((function(){jQueryWlib(".ircc__stickers-"+n).addClass("small"),jQueryWlib(".ircc__stickers-"+n+" .ei_gly_chevron_droit").removeClass("invisible"),jQueryWlib(".ircc__stickers-"+n+" .ircc__trigger_picto").addClass("invisible"),jQueryWlib(".ircc").removeClass("is-animated"),null!==e&&e()}),500),this.display=gh.maximized},e.prototype.isMinimized=function(){return this.display===gh.minimized},e.prototype.isMaximized=function(){return this.display===gh.maximized},e.prototype.showConsent=function(){this.displayConsent=!0},e.prototype.hideConsent=function(){this.displayConsent=!1},e.prototype.showSettings=function(){this.displaySettings=!0},e.prototype.hideSettings=function(){this.displaySettings=!1},e.prototype.showTutorial=function(){this.displayTutorial=!0},e.prototype.hideTutorial=function(){this.displayTutorial=!1},e.prototype.setComingFromEscalation=function(e){this.comingFromEscalation=e},e.prototype.getComingFromEscalation=function(){return this.comingFromEscalation},e}(),sf=function(){function e(e){this.chatConfig=e,this.genesys=new of,this.virtualAssistant=new of,this._ESCALATION_KEY="msgs-genesys-source-escalation"}return e.prototype.setViewModels=function(e){var t=e.filter((function(e){return e.type===uh.genesys})),n=e.filter((function(e){return e.type===uh.ircc}));t.length>=2?console.error("Error : several genesys chats"):n.length>=2?console.error("Error : several virtual chats"):(this.genesys=new of(o(o({},this.genesys),{chat:t[0]})),this.virtualAssistant=new of(o(o({},this.virtualAssistant),{chat:n[0]})))},e.prototype.chatExists=function(e){var t;return null!=(null===(t=this[e].chat)||void 0===t?void 0:t.id)},e.prototype.minimize=function(e,t){void 0===t&&(t=null),this[e].minimize(t)},e.prototype.isMinimized=function(e){return this[e].isMinimized()},e.prototype.maximize=function(e,t){void 0===t&&(t=null),this[e].maximize(t)},e.prototype.isMaximized=function(e){return this[e].isMaximized()},e.prototype.isConsentDisplayed=function(e){return this[e].displayConsent},e.prototype.chat=function(e){return this[e].chat},e.prototype.setChat=function(e,t){this[e].chat=t},e.prototype.userConsent=function(e){return this[e].userConsent},e.prototype.setConsent=function(e,t){this[e].userConsent=t},e.prototype.showConsent=function(e){this[e].showConsent()},e.prototype.hideConsent=function(e){this[e].hideConsent()},e.prototype.isSettingsDisplayed=function(e){return this[e].displaySettings},e.prototype.showSettings=function(e){this[e].showSettings()},e.prototype.hideSettings=function(e){this[e].hideSettings()},e.prototype.isTutorialDisplayed=function(e){return this[e].displayTutorial},e.prototype.showTutorial=function(e){this[e].showTutorial()},e.prototype.hideTutorial=function(e){this[e].hideTutorial()},e.prototype.toggleSettings=function(e){this[e].displaySettings=!this[e].displaySettings},e.prototype.setDefaultDisplay=function(e){this[e].display=(e===uh.genesys?this.chatConfig.genesysConfig.defaultDisplay:this.chatConfig.virtualAssistantConfig.defaultDisplay)||gh.minimized},e.prototype.setComingFromEscalation=function(e,t){this[e].setComingFromEscalation(t),localStorage.setItem(this._ESCALATION_KEY,t?"1":"0")},e.prototype.getComingFromEscalation=function(e){return this[e].getComingFromEscalation()},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Nh))}}),e}(),af=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(Wh),uf=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Qh))(af),cf=new S((function(e){return e.complete()}));function lf(e){return e?function(e){return new S((function(t){return e.schedule((function(){return t.complete()}))}))}(e):cf}var pf=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e;switch(this.kind){case"N":return gp(this.value);case"E":return e=this.error,new S((function(t){return t.error(e)}));case"C":return lf()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),hf=function(e){function t(t,n,i){void 0===i&&(i=0);var r=e.call(this,t)||this;return r.scheduler=n,r.delay=i,r}return r(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new ff(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(pf.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(pf.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(pf.createComplete()),this.unsubscribe()},t}(b),ff=function(){return function(e,t){this.notification=e,this.destination=t}}(),df=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=t<1?1:t,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return r(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new gf(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new A;if(this.isStopped||this.hasError?t=f.EMPTY:(this.observers.push(e),t=new k(this,e)),r&&e.add(e=new hf(e,r)),n)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(s=0;s<o&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||uf).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i},t}(P),gf=function(){return function(e,t){this.time=e,this.value=t}}(),yf=function(){function e(){this._MESSAGE_LIST_KEY="msgs-ircc-message-list",this._messageList=[],this._messageListSubject=new df(1)}return e.prototype.messageList$=function(){var e;return null!=(e=this._messageList$)?e:this._messageList$=this._messageListSubject.asObservable().pipe()},e.prototype.notifyMessage=function(e){this._messageList.push(e),this._saveMessageList(),this._emitMessageList(this._messageList)},e.prototype.removeLastMessage=function(){this._messageList.pop(),this._saveMessageList(),this._emitMessageList(this._messageList)},e.prototype.retrieveMessageList=function(){var e=JSON.parse(localStorage.getItem(this._MESSAGE_LIST_KEY));null!==e&&(this._messageList=e.map(bh.deserialize),this._emitMessageList(this._messageList))},e.prototype._emitMessageList=function(e){this._messageListSubject.next(e)},e.prototype._saveMessageList=function(){localStorage.setItem(this._MESSAGE_LIST_KEY,JSON.stringify(this._messageList))},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)}}),e}();function vf(e,t){1&e&&(Ss(0,"div",1),Ss(1,"div",2),Ss(2,"div",3),As(3,"div",4),Is(),Is(),Is())}var mf=function(){function e(){}return e.prototype.ngOnInit=function(){},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=_t({type:e,selectors:[["ei-ircc-empty-view"]],inputs:{displayEmptyView:"displayEmptyView"},decls:1,vars:1,consts:[["class","c ei_msgconv",4,"ngIf"],[1,"c","ei_msgconv"],[2,"height","100%"],[1,"item","ei-chat-empty-block"],[1,"ei_msgconv"]],template:function(e,t){1&e&&Cs(0,vf,4,0,"div",0),2&e&&Ts("ngIf",t.displayEmptyView)},directives:[xl],styles:[""]}),e}(),_f=function(){function e(e){this.translateService=e}return e.prototype.transform=function(e){return e?this.translateService.instant(e):""},e.ɵfac=function(t){return new(t||e)(ws(Dh))},e.ɵpipe=It({name:"translateChat",type:e,pure:!0}),e}();function bf(e,t){if(1&e&&(Ss(0,"div",1),Ss(1,"div",2),Ss(2,"div",3),Ss(3,"div",4),Ss(4,"div",5),Ss(5,"div",6),Ss(6,"div",7),Ss(7,"div",8),As(8,"img",9),Ou(9,"translateChat"),Is(),Is(),Is(),Ss(10,"h2"),ua(11),Ou(12,"translateChat"),Is(),Ss(13,"h3"),ua(14),Ou(15,"translateChat"),Is(),Is(),Is(),Is(),Is(),Is()),2&e){var n=Rs();dr(8),Fs("src",n.waitingGifUrl,Ui),Fs("alt",Pu(9,4,"VIRTUAL-ASSISTANT.ACCESSIBILITY.WAITING-GIF")),dr(3),la(" ",Pu(12,6,"VIRTUAL-ASSISTANT.LOADER.TITLE1")," "),dr(3),la(" ",Pu(15,8,"VIRTUAL-ASSISTANT.LOADER.TITLE2")," ")}}var Cf=function(){function e(e,t){this.chatConfig=e,this.entityConfigService=t}return e.prototype.ngOnInit=function(){var e;e="ra-wait-3.gif";var t=this.entityConfigService.currentEntityConfig.waitingGifFile;t&&(e=t),this.waitingGifUrl=this.chatConfig.publicPath+"assets/images/wait/"+e},e.ɵfac=function(t){return new(t||e)(ws(Nh),ws(zh))},e.ɵcmp=_t({type:e,selectors:[["ei-ircc-loader-view"]],inputs:{displayLoaderView:"displayLoaderView"},decls:1,vars:1,consts:[["class","c ei_msgconv",4,"ngIf"],[1,"c","ei_msgconv"],[2,"height","100%"],[1,"item","ei-chat-loader-block"],[1,"ei_msgconv"],[1,"ei-chat-loader-content"],[1,"ei_msgconv_item","ei_msgconv_item--received"],[1,"ei_msgconv_item__main-content"],[1,"ei_msgconvitem_content"],[3,"src","alt"]],template:function(e,t){1&e&&Cs(0,bf,16,10,"div",0),2&e&&Ts("ngIf",t.displayLoaderView)},directives:[xl],pipes:[_f],styles:[""]}),e}(),wf=function(e){return e.choice="choice",e.dislike="dislike",e.like="like",e.text="text",e}({}),Tf=function(e){return e.incoming="incoming",e.outgoing="outgoing",e.technical="technical",e}({}),Ef=function(e){return e.choice="choice",e.response="response",e.suggestion="suggestion",e.text="text",e}({});function Sf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(c(n))return If(n,null);if(l(n)&&Object.getPrototypeOf(n)===Object.prototype){var i=Object.keys(n);return If(i.map((function(e){return n[e]})),i)}}if("function"==typeof e[e.length-1]){var r=e.pop();return If(e=1===e.length&&c(e[0])?e[0]:e,null).pipe(B((function(e){return r.apply(void 0,e)})))}return If(e,null)}function If(e,t){return new S((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,s=0,a=function(a){var u=q(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),r[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&c||(s===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},u=0;u<i;u++)a(u);else n.complete()}))}var Af=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function kf(e){return function(t){return 0===e?lf():t.lift(new Of(e))}}var Of=function(){function e(e){if(this.total=e,this.total<0)throw new Af}return e.prototype.call=function(e,t){return t.subscribe(new Pf(e,this.total))},e}(),Pf=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return r(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(b),xf=function(){function e(e,t){this.chatConfig=e,this.httpClient=t,this._storagePrefix="msgs-id-link-",this._cachedSubject={},this._cachedObservables={}}return e.prototype.resolveLink=function(e){var t=this,n="fr";if(!e)return gp(null);var i,r=sessionStorage.getItem(""+this._storagePrefix+e);if(null!=r)return gp(r);if(this._cachedObservables[e])return this._cachedObservables[e];this._cachedSubject[e]=new P,this._cachedObservables[e]=this._cachedSubject[e].asObservable().pipe((i={bufferSize:void 0,windowTime:void 0,refCount:!1,scheduler:void 0},function(e){return e.lift(function(e){var t,n,i=e.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=e.refCount,u=e.scheduler,c=0,l=!1,p=!1;return function(e){c++,t&&!l||(l=!1,t=new df(r,s,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){p=!0,n=void 0,t.complete()}}));var i=t.subscribe(this);this.add((function(){c--,i.unsubscribe(),n&&!p&&a&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(i))}));var o=e.replace(new RegExp("!","g"),"").replace("|","."),s=this.chatConfig.aliasResolverBaseUrl;return 0===window.location.pathname.indexOf("/cmag/")?s+="/cmag":0===window.location.pathname.indexOf("/cmo/")&&(s+="/cmo"),"nl_BE"==this.chatConfig.locale&&(n="nl"),this.httpClient.get(s+="/"+n+"/api/alias_resolver.cgi?alias="+o).pipe(B((function(n){var i,r=null===(i=n)||void 0===i?void 0:i.url;return r?(t._cachedSubject[e].next(r),sessionStorage.setItem(""+t._storagePrefix+e,r),r):(console.log("response.url empty : ",n),null)})),Ah((function(e){return console.log("Error when resolving link in alias resolver : ",e),gp(null)})))},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Nh),et(Rp))}}),e}(),Mf=function(){function e(e,t,n,i){this.httpClient=e,this.aliasResolverStore=t,this.chatConfig=n,this.translate=i}return e.messagesPath=function(e){return"/chats/"+e+"/messages/"},e.prototype.listChatMessage=function(t,n){var i=this,r=n||0;return this.httpClient.get(""+this.chatConfig.apiBaseUrl+e.messagesPath(t)+"?offset="+r).pipe(K((function(e){return i._resolveSinbadId(e.map(bh.deserialize))})))},e.prototype.postChatMessage=function(t){return this.chatConfig.isAuthenticated&&Vh.extendSession(),this.httpClient.post(""+this.chatConfig.apiBaseUrl+e.messagesPath(t.chatId)+"?preview=false",t.message)},e.prototype.postChatMessageWithResponses=function(e){var t=this;return this.postChatMessage(e).pipe(K((function(e){var n,i;return t._resolveSinbadId(null===(i=null===(n=e)||void 0===n?void 0:n.responses)||void 0===i?void 0:i.map(bh.deserialize))})),K((function(e){var n;return t._addFeedbackMessage(null===(n=e)||void 0===n?void 0:n.map(bh.deserialize))})))},e.prototype.postPreviewMessage=function(t,n){this.httpClient.post(""+this.chatConfig.apiBaseUrl+e.messagesPath(t)+"?preview=true",{text:n}).subscribe()},e.prototype._resolveSinbadId=function(e){var t=this;if(null==e||0===e.length)return gp([]);try{var n=e.map((function(e){return e.links.filter((function(e){return e.type===mh.sinbadid}))})).reduce((function(e,t){return e.concat(t)})),i=u(e);return null==n||0===n.length?gp(i):Sf(n.map((function(e){return t.aliasResolverStore.resolveLink(e.value).pipe(kf(1))}))).pipe(B((function(e){var t=[],r=[];return e.forEach((function(e,i){if(null===e)r.push(n[i].id);else{var o=n[i];t.push({id:o.id,type:mh.address,label:o.label,value:e})}})),i.forEach((function(e){if(e.links.length>0&&e.links.every((function(e){return yh.msgsChat_includes(r,e.id)})))e.text=e.defaultResponse.text,e.links=e.defaultResponse.links;else{var n=e.links.filter((function(e){return!yh.msgsChat_includes(r,e.id)})).map((function(e){return e.type===mh.sinbadid?yh.msgsChat_find(t,(function(t){return t.id===e.id})):e}));e.links=n}})),i})),Ah((function(t){return console.log("_resolveSinbadId forkJoin error",t),gp(e)})))}catch(r){return console.log("_resolveSinbadId error",r),gp(e)}},e.prototype._addFeedbackMessage=function(e){var t=this;if(null==e||0===e.length)return gp([]);try{var n,i=0,r=!1;return e.forEach((function(e){e.useFeedback&&(n=new bh({id:e.id,disable:!1,userId:e.userId,date:e.date,text:t.translate.instant("VIRTUAL-ASSISTANT.FEEDBACK.QUESTION"),type:Tf.incoming,user:e.user,isNameDisplayed:e.isNameDisplayed,isDateDisplayed:e.isDateDisplayed,useFeedback:!0}),e.useFeedback=!1,r=!0),r||i++})),r&&(e.length>i+1?e.splice(i+1,0,n):e.push(n)),gp(e)}catch(o){return console.log("_addFeedbackMessage error",o),gp(e)}},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Rp),et(xf),et(Nh),et(Dh))}}),e}(),Nf=function(e){return e.selected="selected",e.unselected="unselected",e}({}),Df=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e){return this.sanitized.bypassSecurityTrustHtml(e)},e.ɵfac=function(t){return new(t||e)(ws(ap))},e.ɵpipe=It({name:"safeHtml",type:e,pure:!0}),e}(),Rf=[{code:"&#x1F60A;",texts:[":)",":-)",":smile:"]},{code:"&#x1F601;",texts:[":D",":-D",":happy:"]},{code:"&#x1F609;",texts:[";)",";-)",":wink:"]},{code:"&#x1F610;",texts:[":|",":-|"]},{code:"&#x1F615;",texts:[":/",":-/",":$",":-$"]},{code:"&#x1F61B;",texts:[":p",":P",":P",":-P",":tongue:",":langue:"]},{code:"&#x1F621;",texts:[":(",":-(",":sad:",":triste:"]},{code:"&#x1F62E;",texts:[":o",":O",":-o",":-O",":surprise:",":surpris:"]}],Lf=function(){function e(e){null!=e&&(this.texts=e.texts||[],this.code=e.code)}return e.getRegex=function(e){for(var t=u(e),n=0;n<t.length;n++)t[n]=t[n].replace(/([()[{*+.$^\\/|?])/g,"\\$1");var i=t.join("|");return new RegExp("(^|\\B| )("+i+")($| )","gim")},e.getHtml=function(t){return' <span class="'+e.cssClass+'">'+t+"</span> "},e.cssClass="ei_emojis",e}(),Vf=function(){function e(){}return e.prototype.transform=function(e){var t,n;if(e){try{for(var i=s(Rf),r=i.next();!r.done;r=i.next()){var o=r.value;e=e.replace(Lf.getRegex(o.texts),Lf.getHtml(o.code))}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e}},e.ɵfac=function(t){return new(t||e)},e.ɵpipe=It({name:"emojis",type:e,pure:!0}),e}(),jf=function(){function e(){}return e.prototype.transform=function(e){return this.linky(e)},e.prototype.linky=function(e){var t=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;if(!0===t.test(e))return e.replace(t,'<a href="$1" target="_blank">$1</a>');var n=/(^|[^\/])(www\.[\S]+(\b|$))/gim;if(!0===n.test(e))return e.replace(n,'$1<a href="http://$2" target="_blank">$2</a>');var i=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_\-]+?(\.[a-zA-Z]{2,6})+)/gim;return!0===i.test(e)?e.replace(i,'<a href="mailto:$1">$1</a>'):e},e.ɵfac=function(t){return new(t||e)},e.ɵpipe=It({name:"linky",type:e,pure:!0}),e}();function Ff(e,t){1&e&&As(0,"div")}function Uf(e,t){1&e&&As(0,"div",14)}function Gf(e,t){if(1&e&&(Ss(0,"div",12),Cs(1,Uf,1,0,"div",13),Is()),2&e){var n=Rs();dr(1),Ts("ngIf",(null==n.message?null:n.message.type)===n.chatMessageTypeEnum.incoming)}}function Bf(e,t){if(1&e&&(Ss(0,"strong",15),ua(1),Is()),2&e){var n=Rs();dr(1),ca(null==n.message?null:null==n.message.user?null:n.message.user.username)}}function Hf(e,t){1&e&&(Ss(0,"strong",15),ua(1),Ou(2,"translateChat"),Is()),2&e&&(dr(1),ca(Pu(2,1,"MYAPP.YOU-NICKNAME")))}function zf(e,t){1&e&&(Ss(0,"span",16),ua(1),Ou(2,"translateChat"),Is()),2&e&&(dr(1),la(" ",Pu(2,1,"MYAPP.ERROR.MESSAGES-POST"),""))}function Yf(e,t){if(1&e&&(Ss(0,"span",17),ua(1),Ou(2,"date"),Is()),2&e){var n=Rs();dr(1),la(" ",xu(2,1,null==n.message?null:n.message.date,"H:mm"),"")}}var qf=function(e,t){return{"ei_msgconv_itemlink--yes":e,"ei_msgconv_itemlink--no":t}};function Kf(e,t){if(1&e&&(Ss(0,"div",18),As(1,"div",19),Is()),2&e){var n=Rs();Ts("ngClass",Iu(1,qf,(null==n.message?null:n.message.feedbackStatus)===n.feedbackStatusEnum.positive,(null==n.message?null:n.message.feedbackStatus)===n.feedbackStatusEnum.negative))}}var Wf=function(e,t){return{"ei_msgconvitem_content--block":e,"ei_msgconv_item__content--collapsed":t}};function Zf(e,t){if(1&e&&(As(0,"div",20),Ou(1,"safeHtml"),Ou(2,"emojis"),Ou(3,"linky")),2&e){var n=Rs();Ts("ngClass",Iu(8,Wf,n.hasFooter(),n.message.isInfoPlusMessage()&&n.message.isExpanded))("innerHTML",Pu(1,2,Pu(2,4,Pu(3,6,null==n.message?null:n.message.text))),Fi)}}function Qf(e,t){if(1&e&&(As(0,"div",20),Ou(1,"emojis"),Ou(2,"linky")),2&e){var n=Rs();Ts("ngClass",Iu(6,Wf,n.hasFooter(),n.message.isInfoPlusMessage()&&n.message.isExpanded))("innerHTML",Pu(1,2,Pu(2,4,null==n.message?null:n.message.text)),Fi)}}function Xf(e,t){if(1&e){var n=Ps();Ss(0,"div",21),Ss(1,"button",22),Ms("click",(function(e){return Bt(n),Rs().OnClickContentExpand()})),Ou(2,"translateChat"),Ss(3,"span",23),ua(4),Ou(5,"translateChat"),Is(),As(6,"span",24),Is(),Is()}if(2&e){var i=Rs();dr(1),Us("title","Infos plus : ",Pu(2,6,i.message.isExpanded?"MYAPP.DISPLAY-LESS":"MYAPP.DISPLAY-MORE"),""),ms("aria-expanded",i.message.isExpanded),dr(3),ca(Pu(5,8,i.message.isExpanded?"MYAPP.DISPLAY-LESS":"MYAPP.DISPLAY-MORE")),dr(2),pa("ei_msgconv_item__contentcollapser-img",i.message.isExpanded?"close":"open","")}}function Jf(e,t){if(1&e){var n=Ps();Ss(0,"a",32),Ms("click",(function(e){Bt(n);var t=Rs().$implicit,i=Rs(2);return i.sendMessageChoice(t,i.message.subtype)})),Ss(1,"span"),ua(2),Is(),Is()}if(2&e){var i=Rs().$implicit;dr(2),ca(i.name)}}var $f=function(e,t){return{"ei_msgconv_itemlink--sel":e,"ei_msgconv_itemlink--disable":t}};function ed(e,t){if(1&e&&(Ss(0,"li",30),Cs(1,Jf,3,1,"a",31),Is()),2&e){var n=t.$implicit,i=Rs(2);Ts("ngClass",Iu(2,$f,"selected"===(null==n?null:n.choiceStatus),!0===(null==i.message?null:i.message.disable))),dr(1),Ts("ngIf",n)}}function td(e,t){if(1&e){var n=Ps();Ss(0,"a",35),Ms("click",(function(e){Bt(n);var t=Rs().$implicit,i=Rs(2);return i.clickLink(t,null==i.message?null:i.message.popUpInformations)})),As(1,"span",24),Ss(2,"span"),ua(3),Is(),Is()}if(2&e){var i=Rs().$implicit,r=Rs(2);dr(1),ta(lt,ea,r.getEscalationClass(i),!0),dr(2),ca(i.label)}}function nd(e,t){if(1&e&&(Ss(0,"li",33),Cs(1,td,4,4,"a",34),Is()),2&e){var n=t.$implicit;dr(1),Ts("ngIf",n)}}function id(e,t){if(1&e){var n=Ps();Ss(0,"li",36),Ss(1,"a",35),Ms("click",(function(e){return Bt(n),Rs(2).like()})),Is(),Is()}if(2&e){var i=Rs(2);Ts("ngClass",Iu(1,$f,i.selectedFeedback===(null==i.feedbackStatusEnum?null:i.feedbackStatusEnum.positive),!0===(null==i.message?null:i.message.disable)))}}function rd(e,t){if(1&e){var n=Ps();Ss(0,"li",37),Ss(1,"a",35),Ms("click",(function(e){return Bt(n),Rs(2).dislike()})),Is(),Is()}if(2&e){var i=Rs(2);Ts("ngClass",Iu(1,$f,i.selectedFeedback===(null==i.feedbackStatusEnum?null:i.feedbackStatusEnum.negative),!0===(null==i.message?null:i.message.disable)))}}function od(e,t){if(1&e&&(Ss(0,"ul",25),Cs(1,ed,2,5,"li",26),Cs(2,nd,2,1,"li",27),Cs(3,id,2,4,"li",28),Cs(4,rd,2,4,"li",29),Is()),2&e){var n=Rs();dr(1),Ts("ngForOf",null==n.message?null:n.message.choices),dr(1),Ts("ngForOf",null==n.message?null:n.message.links),dr(1),Ts("ngIf",null==n.message?null:n.message.useFeedback),dr(1),Ts("ngIf",null==n.message?null:n.message.useFeedback)}}var sd=function(e,t){return{pointer:e,"ei_msgconv_item--headed":t}},ad=function(){function e(e,t,n){this.chatsOrchestrator=e,this.translate=t,this.scrollingService=n,this.sendMessage=new Du,this.chatTypeEnum=uh,this.chatMessageTypeEnum=Tf,this.feedbackStatusEnum=Ch,this.infoPlusDetected=!1}return e.prototype._linkWindowLocation=function(e){document.location=e},e.prototype.clickLink=function(e,t){e.type===mh.address?(dh.linkClicked(e.value),this._linkWindowLocation(e.value)):e.type===mh.action&&this._handleAction(e,t)},e.prototype._handleAction=function(e,t){dh.linkClicked(e.subtype);try{e.subtype===_h.openPopUpAdvisorEmail?this._openPopUpAdvisorEmail(e,t):e.subtype===_h.openPopUpAdvisorContact?this._openPopUpAdvisorContact(e,t):e.subtype===_h.openPopUpAdvisorReclaim?EspaceConseiller.OpenBlocConseiller({tab:"reclamation"}):e.subtype===_h.escalationCRC&&this.chatsOrchestrator.openGenesys({platform:e.value,intentionOrigin:e.intentionOrigin,mocaId:t&&parseInt(t.MocaId)||0,conversationId:t&&t.ConversationId||"",escalation:!0})}catch(n){console.log("EspaceConseiller has not been opened")}},e.prototype._openPopUpAdvisorEmail=function(e,t){if(e.params.length>0){var n=e.params.find((function(e){return e.Key===vh.message}));EspaceConseiller.OpenNewMessageForm({subject:t&&t.PopUpLabel||"",message:n&&n.Value&&n.Value.replace(/<br\/>|<br \/>|<Br\/>|<Br \/>|<BR\/>|<BR \/>/g,"\r\n"),irccConversationId:t&&t.ConversationId||""})}else EspaceConseiller.OpenBlocConseiller({tab:"postbox",context:"newmsg"})},e.prototype._openPopUpAdvisorContact=function(e,t){if(e.params.length>0){var n=e.params.find((function(e){return e.Key===vh.agendaId})),i=e.params.find((function(e){return e.Key===vh.message}));EspaceConseiller.OpenNewAppointmentForm({codemotif:n&&n.Value||"",idconv:t&&t.ConversationId||"",comment:i&&i.Value||""})}else EspaceConseiller.OpenBlocConseiller({tab:"prdv"})},e.prototype.like=function(){!0!==this.message.disable&&(this.message.disable=!0,this.selectedFeedback=Ch.positive,this.sendMessage.emit({text:this.translate.instant("COMMON.YES"),type:wf.like}))},e.prototype.dislike=function(){!0!==this.message.disable&&(this.message.disable=!0,this.selectedFeedback=Ch.negative,this.sendMessage.emit({text:this.translate.instant("COMMON.NO"),type:wf.dislike}))},e.prototype.resendMessage=function(){this.message.error&&this.sendMessage.emit({text:this.message.text,type:wf.text})},e.prototype.sendMessageChoice=function(e,t){!0!==this.message.disable&&(t===Ef.suggestion?dh.suggestionClicked(e.name):dh.disambiguateClicked(e.name),this.message.disable=!0,e.choiceStatus=Nf.selected,this.sendMessage.emit({text:e.name,type:t===Ef.suggestion?wf.text:wf.choice}))},e.prototype.getMessageClass=function(){if(this.message&&this.message.type)switch(this.message.type){case Tf.incoming:return"ei_msgconv_item--received";case Tf.outgoing:return"ei_msgconv_item--sent";case Tf.technical:return"ei_msgconv_item--technical";default:return""}},e.prototype.getInfoPlusClass=function(){if(!this.message||this.message.type!==Tf.incoming)return"";var e="";return this.message.isInfoPlusMessage()&&(e="ei_msgconv_item__content--infoplus",this.infoPlusDetected||(this.message.isExpanded=!1,this.infoPlusDetected=!0)),e},e.prototype.OnClickContentExpand=function(){dh.infoPlusDisplayMoreLess(!this.message.isExpanded),this.message.isExpanded=!this.message.isExpanded,this.scrollingService.scrollToBottom()},e.prototype.enableDisplayMoreButton=function(){return!1},e.prototype.getEscalationClass=function(e){if(e)switch(e.subtype){case _h.openPopUpAdvisorContact:case _h.advisorAppointment:return"ei_msgconv_itemlink_link--appointment";case _h.openPopUpAdvisorEmail:case _h.advisorEmail:return"ei_msgconv_itemlink_link--message";case _h.escalationCRC:case _h.crcTchat:return"ei_msgconv_itemlink_link--chat";case _h.advisorTel:case _h.crcTel:return"ei_msgconv_itemlink_link--phone";case _h.unknown:default:return"ei_msgconv_itemlink_link--default"}},e.prototype.hasFooter=function(){var e,t;if(null!=this.message)return(null===(e=this.message.links)||void 0===e?void 0:e.length)>0||(null===(t=this.message.choices)||void 0===t?void 0:t.length)>0||this.message.useFeedback},e.ɵfac=function(t){return new(t||e)(ws(Fh),ws(Dh),ws(rf))},e.ɵcmp=_t({type:e,selectors:[["ei-chat-message"]],inputs:{chat:"chat",message:"message"},outputs:{sendMessage:"sendMessage"},decls:15,vars:19,consts:[[3,"ngClass","click"],[4,"ngIf"],["class","ei_msgconv_item_decor ei_msgconv_item_decor--raw",4,"ngIf"],[1,"ei_msgconv_item__main-content"],[1,"ei_msgconv_item__header"],["class","ei_msgconv_item__from",4,"ngIf"],["class","ei_msgconv_item__error",4,"ngIf"],["class","ei_msgconv_item__datetime",4,"ngIf"],["class","ei_msgconvitem_content ei_msgconv_itemlink",3,"ngClass",4,"ngIf"],["class","ei_msgconvitem_content",3,"ngClass","innerHTML",4,"ngIf"],["class","ei_msgconv_item__contentcollapser",4,"ngIf"],["class","ei_msgconvitem__footer",4,"ngIf"],[1,"ei_msgconv_item_decor","ei_msgconv_item_decor--raw"],["class","ei_msgconv_item__decor-img",4,"ngIf"],[1,"ei_msgconv_item__decor-img"],[1,"ei_msgconv_item__from"],[1,"ei_msgconv_item__error"],[1,"ei_msgconv_item__datetime"],[1,"ei_msgconvitem_content","ei_msgconv_itemlink",3,"ngClass"],[1,"ei_msgconv_itemlink_link"],[1,"ei_msgconvitem_content",3,"ngClass","innerHTML"],[1,"ei_msgconv_item__contentcollapser"],["type","button",3,"title","click"],[1,"ei_sronly","ei_msgconv_item__btnactionlabel"],["aria-hidden","true"],[1,"ei_msgconvitem__footer"],["class","ei_msgconv_itemlink ei_msgconv_itemlink--act",3,"ngClass",4,"ngFor","ngForOf"],["class","ei_msgconv_itemlink ei_msgconv_itemlink--nav",4,"ngFor","ngForOf"],["class","ei_msgconv_itemlink ei_msgconv_itemlink--yes",3,"ngClass",4,"ngIf"],["class","ei_msgconv_itemlink ei_msgconv_itemlink--no",3,"ngClass",4,"ngIf"],[1,"ei_msgconv_itemlink","ei_msgconv_itemlink--act",3,"ngClass"],["role","button","class","ei_msgconv_itemlink_link",3,"click",4,"ngIf"],["role","button",1,"ei_msgconv_itemlink_link",3,"click"],[1,"ei_msgconv_itemlink","ei_msgconv_itemlink--nav"],["class","ei_msgconv_itemlink_link",3,"click",4,"ngIf"],[1,"ei_msgconv_itemlink_link",3,"click"],[1,"ei_msgconv_itemlink","ei_msgconv_itemlink--yes",3,"ngClass"],[1,"ei_msgconv_itemlink","ei_msgconv_itemlink--no",3,"ngClass"]],template:function(e,t){var n,i;1&e&&(Ss(0,"div",0),Ms("click",(function(e){return t.resendMessage()})),ks(1),Cs(2,Ff,1,0,"div",1),Cs(3,Gf,2,1,"div",2),Os(),Ss(4,"div",3),Ss(5,"div",4),Cs(6,Bf,2,1,"strong",5),Cs(7,Hf,3,3,"strong",5),Cs(8,zf,3,3,"span",6),Cs(9,Yf,3,4,"span",7),Is(),Cs(10,Kf,2,4,"div",8),Cs(11,Zf,4,11,"div",9),Cs(12,Qf,3,9,"div",9),Cs(13,Xf,7,10,"div",10),Cs(14,od,5,4,"ul",11),Is(),Is()),2&e&&("ei_msgconv_item ",n=t.getMessageClass()," ",i=t.getInfoPlusClass(),"",ta(lt,ea,bs(Ft(),"ei_msgconv_item ",n," ",i,""),!0),Ts("ngClass",Iu(16,sd,null==t.message?null:t.message.error,(null==t.message?null:t.message.isNameDisplayed)||(null==t.message?null:t.message.isDateDisplayed)||(null==t.message?null:t.message.error))),dr(2),Ts("ngIf",(null==t.chat?null:t.chat.type)===t.chatTypeEnum.ircc),dr(1),Ts("ngIf",(null==t.chat?null:t.chat.type)===t.chatTypeEnum.genesys&&(null==t.message?null:t.message.type)!=t.chatMessageTypeEnum.technical&&(null==t.message?null:t.message.isIconDisplayed)&&(null==t.message?null:t.message.type)===t.chatMessageTypeEnum.incoming),dr(3),Ts("ngIf",(null==t.message?null:t.message.isNameDisplayed)&&(null==t.message?null:t.message.type)===t.chatMessageTypeEnum.incoming),dr(1),Ts("ngIf",(null==t.message?null:t.message.isNameDisplayed)&&(null==t.message?null:t.message.type)===t.chatMessageTypeEnum.outgoing),dr(1),Ts("ngIf",null==t.message?null:t.message.error),dr(1),Ts("ngIf",null==t.message?null:t.message.isDateDisplayed),dr(1),Ts("ngIf",(null==t.message?null:t.message.type)===t.chatMessageTypeEnum.outgoing&&((null==t.message?null:t.message.feedbackStatus)===t.feedbackStatusEnum.positive||(null==t.message?null:t.message.feedbackStatus)===t.feedbackStatusEnum.negative)),dr(1),Ts("ngIf",(null==t.message?null:t.message.type)!==t.chatMessageTypeEnum.outgoing),dr(1),Ts("ngIf",(null==t.message?null:t.message.type)===t.chatMessageTypeEnum.outgoing&&(null==t.message?null:t.message.feedbackStatus)!==t.feedbackStatusEnum.positive&&(null==t.message?null:t.message.feedbackStatus)!==t.feedbackStatusEnum.negative),dr(1),Ts("ngIf",t.enableDisplayMoreButton()),dr(1),Ts("ngIf",t.hasFooter()))},directives:[Kc,xl,Ol],pipes:[_f,Rl,Df,Vf,jf],encapsulation:2}),e}();function ud(e,t){if(1&e){var n=Ps();Ss(0,"div"),Ss(1,"ei-chat-message",2),Ms("sendMessage",(function(e){return Bt(n),Rs().sendMessageClick(e)})),Is(),Is()}if(2&e){var i=t.$implicit,r=Rs();dr(1),Ts("chat",r.chat)("message",i)}}var cd=function(){function e(e){this.scrollingService=e,this.sendMessage=new Du,this.scrollInitialized=!1}return e.prototype.ngOnChanges=function(e){var t,n,i,r,o=null===(n=null===(t=e.chatMessageList)||void 0===t?void 0:t.currentValue)||void 0===n?void 0:n.length,s=null===(r=null===(i=e.chatMessageList)||void 0===i?void 0:i.previousValue)||void 0===r?void 0:r.length;null!=o&&0!==o&&s!==o&&(this.scrollInitialized?this.scrollingService.scrollToBottom():(this.scrollingService.initScrollbar(),this.scrollingService.scrollToBottom({options:{scrollInertia:0}}),this.scrollInitialized=!0))},e.prototype.sendMessageClick=function(e){this.sendMessage.emit({text:e.text,type:e.type})},e.ɵfac=function(t){return new(t||e)(ws(rf))},e.ɵcmp=_t({type:e,selectors:[["ei-chat-message-list"]],inputs:{chat:"chat",chatMessageList:"chatMessageList"},outputs:{sendMessage:"sendMessage"},features:[_a()],decls:2,vars:1,consts:[["id","chat-message-list","role","list",1,"ei_msgconv__messages"],[4,"ngFor","ngForOf"],[3,"chat","message","sendMessage"]],template:function(e,t){1&e&&(Ss(0,"div",0),Cs(1,ud,2,2,"div",1),Is()),2&e&&(dr(1),Ts("ngForOf",t.chatMessageList))},directives:[Ol,ad],encapsulation:2}),e}(),ld=function(){function e(e,t){this.chatConfig=e,this.entityConfigService=t}return e.prototype.ngOnInit=function(){var e;e="ra-wait-3.gif";var t=this.entityConfigService.currentEntityConfig.waitingGifFile;t&&(e=t),this.waitingGifUrl=this.chatConfig.publicPath+"assets/images/wait/"+e},e.ɵfac=function(t){return new(t||e)(ws(Nh),ws(zh))},e.ɵcmp=_t({type:e,selectors:[["ei-message-loader"]],decls:6,vars:4,consts:[[1,"ei_msgconv_item","ei_msgconv_item--received"],[1,"ei_msgconv_item_decor"],[1,"ei_msgconv_item__main-content"],[1,"ei_msgconvitem_content"],[3,"src","alt"]],template:function(e,t){1&e&&(Ss(0,"div",0),As(1,"div",1),Ss(2,"div",2),Ss(3,"div",3),As(4,"img",4),Ou(5,"translateChat"),Is(),Is(),Is()),2&e&&(dr(4),Fs("src",t.waitingGifUrl,Ui),Fs("alt",Pu(5,2,"VIRTUAL-ASSISTANT.ACCESSIBILITY.WAITING-GIF")))},pipes:[_f],encapsulation:2}),e}(),pd=function(e){return e.Up="Up",e.ArrowUp="ArrowUp",e.Down="Down",e.ArrowDown="ArrowDown",e.Tab="Tab",e.Escape="Escape",e.Esc="Esc",e.Enter="Enter",e.Delete="Delete",e.Backspace="Backspace",e}({}),hd=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new fd(e,this.compare,this.keySelector))},e}(),fd=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return r(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))},t}(b),dd=function(){function e(){this._inputText$=new P}return e.prototype.notifyNewText=function(e){this._inputText$.next(e)},e.prototype.getInputTextObservable=function(){return this._inputTextObservable?this._inputTextObservable:this._inputTextObservable=this._inputText$.asObservable().pipe((function(e){return e.lift(new hd(void 0,void 0))}),se())},e}(),gd=new Ye("NgValueAccessor"),yd={provide:gd,useExisting:Oe((function(){return vd})),multi:!0},vd=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.ɵfac=function(t){return new(t||e)(ws(ja),ws(Da))},e.ɵdir=St({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t,n){1&e&&Ms("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(e){return t.onTouched()}))},features:[Oa([yd])]}),e}(),md={provide:gd,useExisting:Oe((function(){return bd})),multi:!0},_d=new Ye("CompositionEventMode"),bd=function(){function e(e,t,n){var i;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Zc()?Zc().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},e.ɵfac=function(t){return new(t||e)(ws(ja),ws(Da),ws(_d,8))},e.ɵdir=St({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t,n){1&e&&Ms("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(e){return t.onTouched()}))("compositionstart",(function(e){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Oa([md])]}),e}(),Cd=function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e.ɵfac=function(t){return new(t||e)},e.ɵdir=St({type:e}),e}(),wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.ɵfac=function(e){return n(e||t)},t.ɵdir=St({type:t,features:[fa]});var n=Qn(t);return t}(Cd);function Td(){throw new Error("unimplemented")}var Ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return r(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return Td()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Td()},enumerable:!0,configurable:!0}),t}(Cd),Sd=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.ɵfac=function(e){return new(e||t)(ws(Ed,2))},t.ɵdir=St({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t,n){2&e&&$s("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[fa]}),t}(function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}());function Id(e){return null==e||0===e.length}var Ad=new Ye("NgValidators"),kd=new Ye("NgAsyncValidators"),Od=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pd=function(){function e(){}return e.min=function(e){return function(t){if(Id(t.value)||Id(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(Id(t.value)||Id(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return Id(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return Id(e.value)?null:Od.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(Id(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(Id(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(xd);return 0==t.length?null:function(e){return Nd(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(xd);return 0==t.length?null:function(e){return Sf(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(Md)).pipe(B(Nd))}},e}();function xd(e){return null!=e}function Md(e){var t,n=xs(e)?q(e):e;if(!(t=n)||"function"!=typeof t.subscribe)throw new Error("Expected validator to return Promise or Observable.");return n}function Nd(e){var t=e.reduce((function(e,t){return null!=t?o(o({},e),t):e}),{});return 0===Object.keys(t).length?null:t}function Dd(e){return e.validate?function(t){return e.validate(t)}:e}function Rd(e){return e.validate?function(t){return e.validate(t)}:e}var Ld={provide:gd,useExisting:Oe((function(){return Vd})),multi:!0},Vd=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.ɵfac=function(t){return new(t||e)(ws(ja),ws(Da))},e.ɵdir=St({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t,n){1&e&&Ms("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(e){return t.onTouched()}))},features:[Oa([Ld])]}),e}(),jd={provide:gd,useExisting:Oe((function(){return Ud})),multi:!0},Fd=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name},e.ɵfac=function(t){return new(t||e)},e.ɵprov=ye({token:e,factory:function(t){return e.ɵfac(t)}}),e}(),Ud=function(){function e(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(Ed),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e.ɵfac=function(t){return new(t||e)(ws(ja),ws(Da),ws(Fd),ws(is))},e.ɵdir=St({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t,n){1&e&&Ms("change",(function(e){return t.onChange()}))("blur",(function(e){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Oa([jd])]}),e}(),Gd={provide:gd,useExisting:Oe((function(){return Bd})),multi:!0},Bd=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.ɵfac=function(t){return new(t||e)(ws(ja),ws(Da))},e.ɵdir=St({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t,n){1&e&&Ms("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(e){return t.onTouched()}))},features:[Oa([Gd])]}),e}(),Hd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',zd='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Yd={provide:gd,useExisting:Oe((function(){return qd})),multi:!0},qd=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=ls}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){var t,n;try{for(var i=s(Array.from(this._optionMap.keys())),r=i.next();!r.done;r=i.next()){var o=r.value;if(this._compareWith(this._optionMap.get(o),e))return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e.ɵfac=function(t){return new(t||e)(ws(ja),ws(Da))},e.ɵdir=St({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t,n){1&e&&Ms("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(e){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Oa([Yd])]}),e}(),Kd={provide:gd,useExisting:Oe((function(){return Wd})),multi:!0},Wd=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=ls}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=t._getOptionValue(s.value);i.push(a)}else for(r=n.options,o=0;o<r.length;o++)(s=r.item(o)).selected&&(a=t._getOptionValue(s.value),i.push(a));t.value=i,e(i)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){var t,n;try{for(var i=s(Array.from(this._optionMap.keys())),r=i.next();!r.done;r=i.next()){var o=r.value;if(this._compareWith(this._optionMap.get(o)._value,e))return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e.ɵfac=function(t){return new(t||e)(ws(ja),ws(Da))},e.ɵdir=St({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t,n){1&e&&Ms("change",(function(e){return t.onChange(e.target)}))("blur",(function(e){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Oa([Kd])]}),e}();function Zd(e,t){return u(t.path,[e])}function Qd(e,t){e||Jd(t,"Cannot find control with"),t.valueAccessor||Jd(t,"No value accessor for form control with"),e.validator=Pd.compose([e.validator,t.validator]),e.asyncValidator=Pd.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Xd(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Xd(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Xd(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Jd(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+n)}function $d(e){return null!=e?Pd.compose(e.map(Dd)):null}function eg(e){return null!=e?Pd.composeAsync(e.map(Rd)):null}var tg=[vd,Bd,Vd,qd,Wd,Ud];function ng(e){var t=rg(e)?e.validators:e;return Array.isArray(t)?$d(t):t||null}function ig(e,t){var n=rg(t)?t.asyncValidators:e;return Array.isArray(n)?eg(n):n||null}function rg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var og=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=ng(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=ig(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={});var t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(o(o({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(o(o({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))},e.prototype.enable=function(e){void 0===e&&(e={});var t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(o(o({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(o(o({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))},e.prototype._updateAncestors=function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Md(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return function(e,t,n){return null==t?null:(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length?null:t.reduce((function(e,t){return e instanceof ag?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof ug&&e.at(t)||null}),e))}(this,e)},e.prototype.getError=function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this.valueChanges=new Du,this.statusChanges=new Du},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls((function(t){return t.status===e}))},e.prototype._anyControlsDirty=function(){return this._anyControls((function(e){return e.dirty}))},e.prototype._anyControlsTouched=function(){return this._anyControls((function(e){return e.touched}))},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e.prototype._setUpdateStrategy=function(e){rg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)},e.prototype._parentMarkedDirty=function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},e}(),sg=function(e){function t(t,n,i){void 0===t&&(t=null);var r=e.call(this,ng(n),ig(i,n))||this;return r._onChange=[],r._applyFormState(t),r._setUpdateStrategy(n),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return r(t,e),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach((function(e){return e(n.value,!1!==t.emitViewToModelChange)})),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(og),ag=function(e){function t(t,n,i){var r=e.call(this,ng(n),ig(i,n))||this;return r.controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return r(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){n._throwIfControlMissing(i),n.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),Object.keys(e).forEach((function(i){n.controls[i]&&n.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof sg?t.value:t.getRawValue(),e}))},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))},t.prototype._setUpControls=function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild((function(i,r){n=n||t.contains(r)&&e(i)})),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=s(Object.keys(this.controls)),i=n.next();!i.done;i=n.next())if(this.controls[i.value].enabled)return!1}catch(r){e={error:r}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")}))},t}(og),ug=function(e){function t(t,n,i){var r=e.call(this,ng(n),ig(i,n))||this;return r.controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return r(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach((function(e,i){n._throwIfControlMissing(i),n.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),e.forEach((function(e,i){n.at(i)&&n.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)},t.prototype.getRawValue=function(){return this.controls.map((function(e){return e instanceof sg?e.value:e.getRawValue()}))},t.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},t.prototype._syncPendingControls=function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach((function(t,n){e(t,n)}))},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))},t.prototype._anyControls=function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))},t.prototype._setUpControls=function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))},t.prototype._checkAllValuesPresent=function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: "+n+".")}))},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=s(this.controls),i=n.next();!i.done;i=n.next())if(i.value.enabled)return!1}catch(r){e={error:r}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(og),cg={provide:wd,useExisting:Oe((function(){return pg}))},lg=function(){return Promise.resolve(null)}(),pg=function(e){function t(t,n){var i=e.call(this)||this;return i.submitted=!1,i._directives=[],i.ngSubmit=new Du,i.form=new ag({},$d(t),eg(n)),i}return r(t,e),t.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;lg.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Qd(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;lg.then((function(){var n,i,r=t._findContainer(e.path);r&&r.removeControl(e.name),(i=(n=t._directives).indexOf(e))>-1&&n.splice(i,1)}))},t.prototype.addFormGroup=function(e){var t=this;lg.then((function(){var n=t._findContainer(e.path),i=new ag({});(function(e,t){null==e&&Jd(t,"Cannot find control with"),e.validator=Pd.compose([e.validator,t.validator]),e.asyncValidator=Pd.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))},t.prototype.removeFormGroup=function(e){var t=this;lg.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var n=this;lg.then((function(){n.form.get(e.path).setValue(t)}))},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t.ɵfac=function(e){return new(e||t)(ws(Ad,10),ws(kd,10))},t.ɵdir=St({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t,n){1&e&&Ms("submit",(function(e){return t.onSubmit(e)}))("reset",(function(e){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oa([cg]),fa]}),t}(wd),hg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return Zd(null==this.name?this.name:this.name.toString(),this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return $d(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return eg(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t.ɵfac=function(e){return n(e||t)},t.ɵdir=St({type:t,features:[fa]});var n=Qn(t);return t}(wd),fg=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Hd+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+zd)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Hd+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+zd)},e}(),dg={provide:wd,useExisting:Oe((function(){return gg}))},gg=function(e){function t(t,n,i){var r=e.call(this)||this;return r._parent=t,r._validators=n,r._asyncValidators=i,r}var n;return r(t,e),n=t,t.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof pg||fg.modelGroupParentException()},t.ɵfac=function(e){return new(e||t)(ws(wd,5),ws(Ad,10),ws(kd,10))},t.ɵdir=St({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Oa([dg]),fa]}),t}(hg),yg={provide:Ed,useExisting:Oe((function(){return mg}))},vg=function(){return Promise.resolve(null)}(),mg=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.control=new sg,o._registered=!1,o.update=new Du,o._parent=t,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Jd(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return t.forEach((function(t){var o;t.constructor===bd?n=t:(o=t,tg.some((function(e){return o.constructor===e}))?(i&&Jd(e,"More than one built-in value accessor matches form control with"),i=t):(r&&Jd(e,"More than one custom value accessor matches form control with"),r=t))})),r||i||n||(Jd(e,"No valid value accessor for form control with"),null)}(o,r),o}return r(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!ls(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?Zd(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return $d(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return eg(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){Qd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof gg)&&this._parent instanceof hg?fg.formGroupNameException():this._parent instanceof gg||this._parent instanceof pg||fg.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||fg.missingNameException()},t.prototype._updateValue=function(e){var t=this;vg.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))},t.prototype._updateDisabled=function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;vg.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))},t.ɵfac=function(e){return new(e||t)(ws(wd,9),ws(Ad,10),ws(kd,10),ws(gd,10))},t.ɵdir=St({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oa([yg]),fa,_a()]}),t}(Ed),_g=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)}}),e}(),bg=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Fd],imports:[_g]}),e}(),Cg=function(){function e(e,t,n){this.httpClient=e,this.chatConfig=t,this.entityConfigService=n,this.numberOfResults=3}return e.prototype.retrieveSuggestions=function(e){return e&&this.entityConfigService.isAutocompleteEnabled()?(e=e.toLowerCase(),e=encodeURI(e),this.httpClient.get(this.chatConfig.apiBaseUrl+"/auto-completion/?platform="+this.chatConfig.virtualAssistantId+"&text="+e+"&maxResults="+this.numberOfResults).pipe(Ah((function(t){return console.log("Forbidden character in auto-completion request. Value is "+e),console.log("Error is "+t.message),gp({results:[]})}))).pipe(B((function(e){return e.results.reverse()})))):gp([])},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Rp),et(Nh),et(zh))}}),e}(),wg=function(){function e(){}return e.prototype.transform=function(e,t){var n,i;if(t&&e)return t.toLowerCase().trim().split(" ").forEach((function(t){t.length>2&&(n=e.toLowerCase(),(i=n.indexOf(t))>=0&&(e=e.substring(0,i)+"<b>"+e.substring(i,i+t.length)+"</b>"+e.substring(i+t.length,e.length)))})),e},e.ɵfac=function(t){return new(t||e)},e.ɵpipe=It({name:"suggestionFormat",type:e,pure:!0}),e}(),Tg=function(e,t){return{dw_ac_list_focus:e,last_suggestion:t}};function Eg(e,t){if(1&e){var n=Ps();Ss(0,"li",6),Ms("mousedown",(function(e){Bt(n);var i=t.$implicit;return Rs(2).chooseSuggestion(i)}))("focus",(function(e){return Bt(n),Rs(2).onFocus()}))("blur",(function(e){return Bt(n),Rs(2).onBlur()})),Ou(1,"suggestionFormat"),Is()}if(2&e){var i=t.$implicit,r=t.index,o=Rs(2);Ts("innerHTML",xu(1,2,i,o.text),Fi)("ngClass",Iu(5,Tg,r==o.activeSuggestion,r==o.suggestions.length-1))}}function Sg(e,t){if(1&e){var n=Ps();Ss(0,"div",1),Ms("keydown",(function(e){return Bt(n),Rs().onKeyDown(e)})),Ss(1,"span",2),Ss(2,"div",3),Ss(3,"ul",4),Cs(4,Eg,2,8,"li",5),Is(),Is(),Is(),Is()}if(2&e){var i=Rs();dr(4),Ts("ngForOf",i.suggestions)}}var Ig=function(){function e(e,t){this.cd=e,this.autoCompleteService=t,this.chosenSuggestion=new Du,this.loseFocus=new Du,this.suggestions=[],this.displaySuggestions=!1,this.activeSuggestion=0,this.inputSubject=new P,this.focusedSuggestionClass=".dw_ac_list_focus",this.focused=!1,this.currentFocusOnSuggestion=!1}return e.prototype.ngOnInit=function(){var e=this;this.inputSubject.asObservable().pipe(Jh(250),K((function(t){return t?e.autoCompleteService.retrieveSuggestions(t):gp([])}))).subscribe((function(t){t!=e.suggestions&&(e.suggestions=t,e.activeSuggestion=t.length,e.displaySuggestions=t.length>0,e.cd.detectChanges())}))},e.prototype.ngOnChanges=function(e){var t=e.text&&e.text.currentValue,n=e.key&&e.key.currentValue;(t||e.text&&e.text.previousValue)&&this.inputSubject.next(t),this.key=n,this.key!==pd.Esc&&this.key!==pd.Escape||(this.displaySuggestions=!1,this.returnInOrigin()),e.submitted&&!0===e.submitted.currentValue&&(this.displaySuggestions=!1,this.submitted=!1),this.cd.detectChanges()},e.prototype.onKeyDown=function(e){e.preventDefault(),e.key===pd.Enter?this.displaySuggestions&&this.chooseSuggestion(this.suggestions[this.activeSuggestion]):this.navigateThroughSuggestions(e.key),this.cd.detectChanges()},e.prototype.onFocus=function(){this.focused||(this.activeSuggestion=this.suggestions.length-1,this.focused=!0)},e.prototype.onBlur=function(){this.currentFocusOnSuggestion||(this.displaySuggestions=!1,this.returnInOrigin()),this.currentFocusOnSuggestion=!1},e.prototype.navigateThroughSuggestions=function(e){this.displaySuggestions&&(this.currentFocusOnSuggestion=!0,e===pd.Down||e===pd.ArrowDown?(this.activeSuggestion++,this.activeSuggestion>this.suggestions.length-1?this.returnInOrigin():(this.cd.detectChanges(),window.jQueryWlib(this.focusedSuggestionClass).focus())):e!==pd.Up&&e!==pd.ArrowUp||(this.activeSuggestion--,this.activeSuggestion<0?this.returnInOrigin():(this.cd.detectChanges(),window.jQueryWlib(this.focusedSuggestionClass).focus())),e!==pd.Escape&&e!==pd.Esc&&e!==pd.Tab||(this.displaySuggestions=!1,this.returnInOrigin()))},e.prototype.returnInOrigin=function(){this.focused=!1,this.activeSuggestion=this.suggestions.length,this.loseFocus.emit()},e.prototype.chooseSuggestion=function(e){this.chosenSuggestion.emit(e),this.suggestions=[],this.displaySuggestions=!1,this.cd.detectChanges(),this.returnInOrigin()},e.ɵfac=function(t){return new(t||e)(ws(Go),ws(Cg))},e.ɵcmp=_t({type:e,selectors:[["ei-suggestion-list"]],inputs:{text:"text",key:"key",submitted:"submitted"},outputs:{chosenSuggestion:"chosenSuggestion",loseFocus:"loseFocus"},features:[_a()],decls:1,vars:1,consts:[["class","dw_acroot dw_ac_dynrelativepos","id","racine",3,"keydown",4,"ngIf"],["id","racine",1,"dw_acroot","dw_ac_dynrelativepos",3,"keydown"],[1,"dw_ac"],["tabindex","-1","id","proplist",1,"ei_razinherits","dw_ac_list","ei_dynabsolutepos"],["role","listbox"],["tabindex","0","role","option",3,"innerHTML","ngClass","mousedown","focus","blur",4,"ngFor","ngForOf"],["tabindex","0","role","option",3,"innerHTML","ngClass","mousedown","focus","blur"]],template:function(e,t){1&e&&Cs(0,Sg,5,1,"div",0),2&e&&Ts("ngIf",(null==t.suggestions?null:t.suggestions.length)>0&&t.text&&t.displaySuggestions)},directives:[xl,Ol,Kc],pipes:[wg],encapsulation:2,changeDetection:0}),e}();function Ag(e,t){if(1&e){var n=Ps();Ss(0,"li"),Ss(1,"span",8),Ms("click",(function(e){Bt(n);var i=t.$implicit;return Rs(2).selectEmojiClick(i)})),Is(),Is()}if(2&e){var i=t.$implicit;dr(1),Ts("innerHtml",i.code,Fi)}}function kg(e,t){if(1&e){var n=Ps();Ss(0,"div",4),Ss(1,"div",5),Ss(2,"a",6),Ms("click",(function(e){return Bt(n),Rs().hidePicker()})),Is(),Is(),Ss(3,"ul"),Cs(4,Ag,2,1,"li",7),Is(),Is()}if(2&e){var i=Rs();dr(4),Ts("ngForOf",i.emojisList)}}var Og=function(){function e(e){this.cd=e,this.selectEmoji=new Du,this.emojisList=Rf}return e.prototype.clickPicker=function(){this.displayPicker=!this.displayPicker,this.cd.detectChanges()},e.prototype.hidePicker=function(){this.displayPicker=!1,this.cd.detectChanges()},e.prototype.selectEmojiClick=function(e){this.hidePicker(),this.selectEmoji.emit(e.texts[0])},e.ɵfac=function(t){return new(t||e)(ws(Go))},e.ɵcmp=_t({type:e,selectors:[["ei-emoji-picker"]],outputs:{selectEmoji:"selectEmoji"},decls:4,vars:1,consts:[[1,"ei-emoji-picker"],["role","button","id","ei-emoji-picker-icon-button",3,"click"],[1,"ei_gly_ic_sentiment_satisfied","ei_ico_medium"],["class","ei-emoji-picker-popup",4,"ngIf"],[1,"ei-emoji-picker-popup"],["id","ei-emoji-picker-popup-close-button-container"],["role","button","href","#","id","ei-emoji-picker-popup-close-button",1,"ei_gly_small_cross",3,"click"],[4,"ngFor","ngForOf"],[1,"ei_emojis",3,"innerHtml","click"]],template:function(e,t){1&e&&(Ss(0,"div",0),Ss(1,"a",1),Ms("click",(function(e){return t.clickPicker()})),As(2,"span",2),Is(),Is(),Cs(3,kg,5,1,"div",3)),2&e&&(dr(3),Ts("ngIf",!0===t.displayPicker))},directives:[xl,Ol],encapsulation:2,changeDetection:0}),e}();function Pg(e,t){if(1&e){var n=Ps();Ss(0,"ei-suggestion-list",8),Ms("chosenSuggestion",(function(e){return Bt(n),Rs().completeInput(e)}))("loseFocus",(function(e){return Bt(n),Rs().loseFocus()})),Is()}if(2&e){var i=Rs();Ts("text",i.inputField)("key",i.key)("submitted",i.submitted)}}function xg(e,t){if(1&e){var n=Ps();Ss(0,"div",9),Ss(1,"button",10),Ms("click",(function(e){return Bt(n),Rs().onClickCloseButton()})),Ou(2,"translateChat"),Ss(3,"span"),ua(4,"Fermer"),Is(),Is(),Is()}2&e&&(dr(1),ms("aria-label",Pu(2,1,"MYAPP.LEAVE-CHAT")))}function Mg(e,t){if(1&e){var n=Ps();Ss(0,"ei-emoji-picker",11),Ms("selectEmoji",(function(e){return Bt(n),Rs().onEmojiSelect(e)})),Is()}}var Ng=function(){function e(e,t){this.cd=e,this.inputTextWatcherService=t,this.submitMessage=new Du,this.close=new Du,this.inputField="",this.inputBoxId="#ei-input-box-input",this.submitted=!1,this.chatTypeEnum=uh}return e.prototype.ngOnInit=function(){this.chat&&this.refreshTextAreaAfterInput(this.chat.type)},e.prototype.onKeyDown=function(e){var t;e.key===pd.Enter&&(e.preventDefault(),this.key=e.key,this.handleMessageSubmission()),e.key===pd.Up||e.key===pd.ArrowUp||e.key===pd.Esc||e.key===pd.Escape?(e.preventDefault(),this.key=e.key,window.jQueryWlib(".ircc__app .last_suggestion").focus()):this.refreshTextAreaAfterInput(null===(t=this.chat)||void 0===t?void 0:t.type)},e.prototype.refreshTextAreaAfterInput=function(e){var t=e===uh.ircc?"ircc":"genesys",n=window.jQueryWlib("ei-msgs-chat ei-"+t+"-view textarea").parent()[0],i=window.jQueryWlib("ei-msgs-chat ei-"+t+"-view textarea")[0];setTimeout((function(){i.style.cssText="height:0px";var e=Math.min(80,i.scrollHeight>40?i.scrollHeight:40);n.style.cssText="height:"+e+"px",i.style.cssText="height:"+e+"px"}),0)},e.prototype.completeInput=function(e){this.inputField=e,this.handleMessageSubmission(),this.cd.detectChanges()},e.prototype.loseFocus=function(){window.jQueryWlib(this.inputBoxId).focus()},e.prototype.handleMessageSubmission=function(){var e,t;""!==(null===(e=this.inputField)||void 0===e?void 0:e.trim())&&(this.submitMessage.emit({text:this.inputField,type:wf.text}),this.submitted=!0,this.resetField(),this.refreshTextAreaAfterInput(null===(t=this.chat)||void 0===t?void 0:t.type)),this.cd.detectChanges()},e.prototype.notifyNewText=function(){this.inputTextWatcherService.notifyNewText(this.inputField)},e.prototype.onEmojiSelect=function(e){this.inputField||(this.inputField=""),this.inputField+=" "+e+" ";var t=document.getElementById("ei-input-box-input");t&&t.focus(),this.cd.detectChanges()},e.prototype.resetField=function(){this.inputField="",this.cd.detectChanges()},e.prototype.onClickCloseButton=function(){dh.clickPhoneButtonToClose(),this.close.emit()},e.ɵfac=function(t){return new(t||e)(ws(Go),ws(dd))},e.ɵcmp=_t({type:e,selectors:[["ei-input-box"]],inputs:{chat:"chat",disabled:"disabled",showEmojis:"showEmojis",showHangUpButton:"showHangUpButton"},outputs:{submitMessage:"submitMessage",close:"close"},decls:12,vars:11,consts:[[3,"text","key","submitted","chosenSuggestion","loseFocus",4,"ngIf"],[1,"ei_msgconv__write"],["id","ei_msgconv_write__textarea_container"],["class","ei-input-box-div-close",4,"ngIf"],["id","ei-input-box-input",3,"disabled","ngModel","placeholder","ngModelChange","keydown"],[3,"selectEmoji",4,"ngIf"],[1,"ei-input-box-div-submit"],["id","ei-input-box-button-submit","type","submit",1,"ei_btn","ei_btn_typ_validate",3,"click"],[3,"text","key","submitted","chosenSuggestion","loseFocus"],[1,"ei-input-box-div-close"],["id","ei-input-box-button-close","type","button",1,"ei_btn","ei_btn_typ_close",3,"click"],[3,"selectEmoji"]],template:function(e,t){1&e&&(Cs(0,Pg,1,3,"ei-suggestion-list",0),Ss(1,"div",1),Ss(2,"div",2),Cs(3,xg,5,3,"div",3),Ss(4,"textarea",4),Ms("ngModelChange",(function(e){return t.inputField=e}))("keydown",(function(e){return t.onKeyDown(e)}))("ngModelChange",(function(e){return t.notifyNewText()})),Ou(5,"translateChat"),Is(),Cs(6,Mg,1,0,"ei-emoji-picker",5),Ss(7,"div",6),Ss(8,"button",7),Ms("click",(function(e){return t.handleMessageSubmission()})),Ss(9,"span"),ua(10),Ou(11,"translateChat"),Is(),Is(),Is(),Is(),Is()),2&e&&(Ts("ngIf",(null==t.chat?null:t.chat.type)&&t.chat.type===t.chatTypeEnum.ircc),dr(3),Ts("ngIf",t.showHangUpButton),dr(1),Fs("placeholder",Pu(5,7,"COMMON.ASK-YOUR-QUESTION")),Ts("disabled",t.disabled)("ngModel",t.inputField),dr(2),Ts("ngIf",t.showEmojis),dr(4),ca(Pu(11,9,"MYAPP.INPUT-BOX.SUBMIT")))},directives:[xl,bd,Sd,mg,Ig,Og],pipes:[_f],encapsulation:2,changeDetection:0}),e}();function Dg(e,t){1&e&&(As(0,"img",10),Ou(1,"translateChat")),2&e&&(Fs("src",Rs().logoUrl,Ui),Fs("alt",Pu(1,2,"VIRTUAL-ASSISTANT.LOGO-ALT")))}var Rg=function(){function e(e,t,n,i,r,o){this.cd=e,this.chatConfig=t,this.chatMessageStore=n,this.entityConfigService=i,this.irccMessageService=r,this.scrollingService=o,this.errorMessageId=-1e4,this.isLoading=!1,this.messageList=[],this.scrollbarInitialized=!1,this.sentMessageId=-1}return e.prototype.ngOnInit=function(){var e=this;this.logoUrl=this.entityConfigService.irccLogoUrl(),this.cd.detectChanges(),this.irccMessageService.messageList$().subscribe({next:function(t){e.messageList=u(t),e.cd.detectChanges()}})},e.prototype.ngOnChanges=function(e){var t,n,i,r=null===(i=null===(n=null===(t=e)||void 0===t?void 0:t.chat)||void 0===n?void 0:n.currentValue)||void 0===i?void 0:i.users;r&&(this.assistantName=this._assistantName(r))},e.prototype.onSubmitMessage=function(e){var t=this;null!=this.redirectionInfos&&(this.redirectionInfos=null),e&&(this._startLoading(),this._disableFeedbackButtons(),this._disableDisambiguisation(),e.type!==wf.like&&e.type!==wf.dislike&&dh.sendVirtualAssistantInput(),this.irccMessageService.notifyMessage(new bh({id:this.sentMessageId--,date:(new Date).toJSON(),type:Tf.outgoing,feedbackStatus:e.type===wf.like?Ch.positive:e.type===wf.dislike?Ch.negative:Ch.none,text:e.type===wf.like||e.type===wf.dislike?"":e.text,isNameDisplayed:!0,isDateDisplayed:!0})),this.chatMessageStore.postChatMessageWithResponses({chatId:this.chat.id,message:e}).pipe(nh((function(){t._endLoading()}))).subscribe({next:function(e){e.forEach((function(e){t.irccMessageService.notifyMessage(e)})),e=t._setUserAndFieldsVisibilityToMessages(e)},error:function(n){t.irccMessageService.removeLastMessage(),t.irccMessageService.notifyMessage(new bh({date:(new Date).toJSON(),error:!0,id:t.errorMessageId--,text:e.text,type:Tf.outgoing})),console.log(n)}}))},e.prototype._assistantName=function(e){var t,n;return(null===(n=null===(t=e)||void 0===t?void 0:t.find((function(e){return e.type===wh.advisor})))||void 0===n?void 0:n.username)||""},e.prototype._startLoading=function(){this.isLoading=!0,this.cd.detectChanges(),this.scrollingService.scrollToBottom()},e.prototype._endLoading=function(){this.isLoading=!1,this.cd.detectChanges()},e.prototype._disableFeedbackButtons=function(){this.messageList.filter((function(e){return!0===e.useFeedback})).map((function(e){return e.disable=!0}))},e.prototype._disableDisambiguisation=function(){this.messageList.filter((function(e){return e.subtype===Ef.choice})).map((function(e){return e.disable=!0}))},e.prototype._setUserAndFieldsVisibilityToMessages=function(e){if(null==e||0===e.length)return[];for(var t=u(e),n=0;n<t.length;n++)t[n].setUser(this.chat.users),t[n].setFieldsVisibility(e[n-1]||null,e[n-1]||null);return t},e.ɵfac=function(t){return new(t||e)(ws(Go),ws(Nh),ws(Mf),ws(zh),ws(yf),ws(rf))},e.ɵcmp=_t({type:e,selectors:[["ei-ircc-view"]],inputs:{chat:"chat"},features:[_a()],decls:11,vars:9,consts:[[1,"ei_msgconv"],[1,"ei_msgconv__scroll-content"],[1,"ei_msgconv_item--assistant"],[1,"ei_msgconv_item--assistant-logo"],[3,"src","alt",4,"ngIf"],[1,"ei_msgconv_item__from"],[3,"chat","chatMessageList","sendMessage"],[3,"hidden"],[1,"ei_msgconv__bottom"],[3,"disabled","chat","showHangUpButton","submitMessage"],[3,"src","alt"]],template:function(e,t){1&e&&(Ss(0,"div",0),Ss(1,"div",1),Ss(2,"div",2),Ss(3,"figure",3),Cs(4,Dg,2,4,"img",4),Ss(5,"figcaption",5),ua(6),Is(),Is(),Is(),Ss(7,"ei-chat-message-list",6),Ms("sendMessage",(function(e){return t.onSubmitMessage(e)})),Is(),As(8,"ei-message-loader",7),Is(),Ss(9,"div",8),Ss(10,"ei-input-box",9),Ms("submitMessage",(function(e){return t.onSubmitMessage(e)})),Is(),Is(),Is()),2&e&&(dr(4),Ts("ngIf",t.logoUrl),dr(2),ca(t.assistantName),dr(1),Ts("chat",t.chat)("chatMessageList",t.messageList),dr(1),Ts("hidden",!0!==t.isLoading),ms("aria-hidden",!0!==t.isLoading),dr(2),Ts("disabled",t.isLoading)("chat",t.chat)("showHangUpButton",!1))},directives:[xl,cd,ld,Ng],pipes:[_f],encapsulation:2,changeDetection:0}),e}(),Lg=["*"],Vg=function(){function e(){this.active=!1}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=_t({type:e,selectors:[["ei-carousel-item"]],inputs:{active:"active"},ngContentSelectors:Lg,decls:2,vars:4,consts:[[1,"ei_carousel__item"]],template:function(e,t){1&e&&(Vs(),Ss(0,"li",0),js(1),Is()),2&e&&$s("ei_carousel__item--active",t.active)("ei_carousel__item-active",t.active)},encapsulation:2}),e}(),jg=function(e){return e.Slow="Slow",e.Medium="Medium",e.Fast="Fast",e}({}),Fg=function(e){return e.Fade="Fade",e.Slide="Slide",e}({});function Ug(e,t){if(1&e){var n=Ps();Ss(0,"a",6),Ms("click",(function(e){return Bt(n),Rs().navToPreviousPage()})),Is()}2&e&&$s("ei_carousel__navigation-disable",Rs().disablePrevButton)}function Gg(e,t){if(1&e){var n=Ps();Ss(0,"a",7),Ms("click",(function(e){return Bt(n),Rs().navToNextPage()})),Is()}2&e&&$s("ei_carousel__navigation-disable",Rs().disableNextButton)}function Bg(e,t){if(1&e){var n=Ps();Ss(0,"li",14),Ms("click",(function(e){Bt(n);var i=t.index,r=Rs(3);return!r.disablePaging&&r.navigateTo(i)})),Is()}2&e&&$s("ei_carousel__paging-active",t.$implicit===Rs(3)._currentPageIndex)}function Hg(e,t){if(1&e&&(Ss(0,"ol",12),Cs(1,Bg,1,2,"li",13),Is()),2&e){var n=Rs(2);$s("ei_carousel__paging-disable",n.disablePaging),dr(1),Ts("ngForOf",n.arrayPages)}}function zg(e,t){if(1&e){var n=Ps();Ss(0,"a",15),Ms("click",(function(e){return Bt(n),Rs(2).pause()})),Is()}}function Yg(e,t){if(1&e){var n=Ps();Ss(0,"a",16),Ms("click",(function(e){return Bt(n),Rs(2).play()})),Is()}}function qg(e,t){if(1&e&&(Ss(0,"div",8),Cs(1,Hg,2,3,"ol",9),Cs(2,zg,1,0,"a",10),Cs(3,Yg,1,0,"a",11),Is()),2&e){var n=Rs();dr(1),Ts("ngIf",n.paging),dr(1),Ts("ngIf",n.autoplay&&n.isPlaying),dr(1),Ts("ngIf",n.autoplay&&!n.isPlaying)}}var Kg=["*"],Wg=function(){function e(e){this.el=e,this.autoplay=!1,this.autoplaySpeed=jg.Medium,this.cycling=!0,this.slidesToShow=1,this.navigationButtons=!0,this.paging=!0,this.disablePaging=!1,this.animation=Fg.Slide,this.padding=!1,this.isFixedSlidesToShow=!1,this.slideChange=new Du(!1),this._currentPageIndex=0,this.autoplayTimer=0,this.currentSlidesToShow=0,this.isPlaying=!1,this.speed=0,this.disablePrevButton=!1,this.disableNextButton=!1}return Object.defineProperty(e.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(e){this._currentPageIndex=e,this.setActiveSlide(this._currentPageIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return Math.ceil(this.slides.length/this.currentSlidesToShow)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrayPages",{get:function(){return Array.from(Array(this.pageCount).keys())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slides",{get:function(){return this._slides.toArray()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.currentSlidesToShow=this.slidesToShow,this.isFixedSlidesToShow||setTimeout((function(){e.checkResponsive(),function e(t,n,i,r){return p(i)&&(r=i,i=void 0),r?e(t,n,i).pipe(B((function(e){return c(e)?r.apply(void 0,e):r(e)}))):new S((function(e){!function e(t,n,i,r,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,i,o),s=function(){return a.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,i),s=function(){return u.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,i),s=function(){return c.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,p=t.length;l<p;l++)e(t[l],n,i,r,o)}r.add(s)}(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,i)}))}(window,"resize").pipe(Jh(200)).subscribe((function(t){e.checkResponsive()}))}))},e.prototype.ngAfterContentInit=function(){this.navigateTo(0),this.autoplay&&(this.setSpeed(),this.play())},e.prototype.navToPreviousPage=function(){this.currentPageIndex>0?this.navigateTo(this.currentPageIndex-1):this.cycling&&this.navigateTo(this.pageCount-1)},e.prototype.navToNextPage=function(){this.currentPageIndex<this.pageCount-1?this.navigateTo(this.currentPageIndex+1):this.cycling&&this.navigateTo(0)},e.prototype.navigateTo=function(e){this.currentPageIndex=e,this.navigationButtons&&!this.cycling&&(this.disablePrevButton=!1,this.disableNextButton=!1,0===this.currentPageIndex&&(this.disablePrevButton=!0),this.currentPageIndex===this.pageCount-1&&(this.disableNextButton=!0)),this.slideChange.emit(this.currentPageIndex)},e.prototype.play=function(){var e=this;this.autoplay&&(!event||event&&"mouseleave"===event.type&&this.isPlaying||event&&("click"===event.type||"keyup"===event.type))&&(clearInterval(this.autoplayTimer),this.autoplayTimer=setInterval((function(){e.navToNextPage()}),this.speed),this.isPlaying=!0)},e.prototype.pause=function(){this.autoplay&&(clearInterval(this.autoplayTimer),!event||"click"!==event.type&&"keyup"!==event.type||(this.isPlaying=!1))},e.prototype.keyboardControl=function(e){39===e.keyCode&&this.navToNextPage(),37===e.keyCode&&this.navToPreviousPage(),32===e.keyCode&&this.autoplay&&(this.isPlaying?this.pause():this.play())},e.prototype.checkResponsive=function(){var e=this.el.nativeElement.children[0];if(e){var t=window.getComputedStyle(e,":before").content;if(e&&"none"!==e){var n=parseInt(t.replace(/\"/g,""),10);isNaN(n)||n===this.currentSlidesToShow||(this.currentSlidesToShow=n,this.currentPageIndex>this.pageCount-1&&(this.currentPageIndex=this.pageCount-1),this.navigateTo(this.currentPageIndex))}}},e.prototype.setSpeed=function(){switch(this.autoplaySpeed){case jg.Slow:this.speed=9e3;break;case jg.Fast:this.speed=4e3;break;case jg.Medium:default:this.speed=6e3}},e.prototype.setActiveSlide=function(e){this.slides.map((function(e){return e.active=!1}));var t=e*this.currentSlidesToShow;this.slides.slice(t,t+this.currentSlidesToShow).forEach((function(e){e.active=!0}))},e.ɵfac=function(t){return new(t||e)(ws(Da))},e.ɵcmp=_t({type:e,selectors:[["ei-carousel"]],contentQueries:function(e,t,n){var i,r,o,s,a;1&e&&(r=n,o=Vg,s=!1,function(e,t,n,i,r,o,s){var a=e[1];a.firstCreatePass&&(Wu(a,new Fu(t,n,!1,i),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,s)),Ku(e)}(Ft(),o,s,a,0,Ht(),r)),2&e&&Yu(i=qu())&&(t._slides=i)},hostBindings:function(e,t,n){1&e&&Ms("mouseleave",(function(e){return t.play(e)}))("mouseenter",(function(e){return t.pause(e)}))("keyup",(function(e){return t.keyboardControl(e)}),!1,Mn)},inputs:{autoplay:"autoplay",autoplaySpeed:"autoplaySpeed",cycling:"cycling",slidesToShow:"slidesToShow",navigationButtons:"navigationButtons",paging:"paging",disablePaging:"disablePaging",animation:"animation",padding:"padding",isFixedSlidesToShow:"isFixedSlidesToShow"},outputs:{slideChange:"slideChange"},ngContentSelectors:Kg,decls:8,vars:6,consts:[[1,"ei_carousel__upperzone"],["class","ei_carousel__navigation ei_carousel__navigation-prev","aria-hidden","true",3,"ei_carousel__navigation-disable","click",4,"ngIf"],[1,"ei_carousel__content"],[1,"ei_carousel__list"],["class","ei_carousel__navigation ei_carousel__navigation-next","aria-hidden","true",3,"ei_carousel__navigation-disable","click",4,"ngIf"],["class","ei_carousel__navzone","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"ei_carousel__navigation","ei_carousel__navigation-prev",3,"click"],["aria-hidden","true",1,"ei_carousel__navigation","ei_carousel__navigation-next",3,"click"],["aria-hidden","true",1,"ei_carousel__navzone"],["class","ei_carousel__paging",3,"ei_carousel__paging-disable",4,"ngIf"],["class","ei_carousel__control ei_carousel__control-pause",3,"click",4,"ngIf"],["class","ei_carousel__control ei_carousel__control-play",3,"click",4,"ngIf"],[1,"ei_carousel__paging"],[3,"ei_carousel__paging-active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"ei_carousel__control","ei_carousel__control-pause",3,"click"],[1,"ei_carousel__control","ei_carousel__control-play",3,"click"]],template:function(e,t){1&e&&(Vs(),Ss(0,"div"),Ss(1,"div",0),Cs(2,Ug,1,2,"a",1),Ss(3,"div",2),Ss(4,"ul",3),js(5),Is(),Is(),Cs(6,Gg,1,2,"a",4),Is(),Cs(7,qg,4,3,"div",5),Is()),2&e&&(pa("ei_carousel ei_carousel-",t.slidesToShow,"item"),dr(2),Ts("ngIf",t.navigationButtons),dr(4),Ts("ngIf",t.navigationButtons),dr(1),Ts("ngIf",t.paging||t.autoplay))},directives:[xl,Ol],encapsulation:2}),e}(),Zg=["carousel"];function Qg(e,t){if(1&e&&(Ss(0,"div"),Ss(1,"video",11),As(2,"source",12),Is(),Is()),2&e){var n=Rs().$implicit,i=Rs(2);dr(1),Us("id","ei-chat-vid-",n,""),dr(1),Gs("src","",i.irccMediaPath,"/tuto_",n,".mp4",Ui)}}function Xg(e,t){if(1&e&&(Ss(0,"div",13),As(1,"img",14),Is()),2&e){var n=Rs().$implicit,i=Rs(2);dr(1),Gs("src","",i.irccMediaPath,"/",n,".gif",Ui)}}function Jg(e,t){if(1&e&&(Ss(0,"ei-carousel-item"),Ss(1,"div",8),Cs(2,Qg,3,3,"div",9),Cs(3,Xg,2,2,"div",10),Ss(4,"h2"),ua(5),Ou(6,"translateChat"),Is(),Ss(7,"h3"),ua(8),Ou(9,"translateChat"),Is(),Ss(10,"p"),ua(11),Ou(12,"translateChat"),Is(),Is(),Is()),2&e){var n=t.$implicit,i=Rs(2);dr(2),Ts("ngIf",i.isVideo),dr(1),Ts("ngIf",!i.isVideo),dr(2),la(" ",Pu(6,5,"VIRTUAL-ASSISTANT.TUTORIAL.PART"+n+".TITLE1")," "),dr(3),la(" ",Pu(9,7,"VIRTUAL-ASSISTANT.TUTORIAL.PART"+n+".TITLE2")," "),dr(3),la(" ",Pu(12,9,"VIRTUAL-ASSISTANT.TUTORIAL.PART"+n+".TEXT")," ")}}var $g=function(){return[1,2,3]};function ey(e,t){if(1&e){var n=Ps();Ss(0,"div",1),Ss(1,"div",2),Ss(2,"ei-carousel",3,4),Ms("slideChange",(function(e){return Bt(n),Rs().onSlideChange(e)})),Cs(4,Jg,13,11,"ei-carousel-item",5),Is(),Ss(5,"a",6),Ms("click",(function(e){return Bt(n),Rs().goNext()})),Ss(6,"span",7),ua(7),Ou(8,"translateChat"),Ou(9,"translateChat"),Is(),Is(),Is(),Is()}if(2&e){var i=Rs();dr(2),Ts("cycling",!1)("navigationButtons",!1),dr(2),Ts("ngForOf",Eu(8,$g)),dr(3),ca(2===i.currentPage?Pu(8,4,"COMMON.START"):Pu(9,6,"COMMON.NEXT"))}}var ty=function(){function e(e,t,n,i,r){this.cd=e,this.state=t,this.entityConfigService=n,this.platformStore=i,this.chatConfig=r,this.acceptTermsSuccess=new Du,this.finishTutorial=new Du,this.previousPage=0,this.currentPage=0,this.lastPage=2,this.isVideoAvailable=!1}return e.prototype.ngOnInit=function(){this.irccMediaPath=this.entityConfigService.irccMediaPath(),this.isVideo=this.entityConfigService.isVideo()},e.prototype.ngOnChanges=function(e){this.isVideo&&(this.startTutorial?this.playVideo(this.currentPage):this.currentPage!==this.previousPage&&this.stopVideo(this.currentPage))},e.prototype.stopVideo=function(e){var t=document.querySelector("#ei-chat-vid-"+(e+1));isNaN(t.duration)||void 0===this.playPromise||this.playPromise.then((function(e){t.pause(),t.currentTime=0}))},e.prototype.playVideo=function(e){var t=document.querySelector("#ei-chat-vid-"+(e+1));isNaN(t.duration)||(this.playPromise=t.play())},e.prototype.goNext=function(){this.currentPage===this.lastPage?(this.resetTutorial(),this.startTutorial=!1,this.finishTutorial.emit()):(this.carousel.navToNextPage(),this.currentPage=this.carousel.currentPageIndex),this.cd.detectChanges()},e.prototype.onSlideChange=function(e){this.isVideoAvailable?(this.previousPage=this.currentPage,this.currentPage=e,this.cd.detectChanges(),this.isVideo&&(this.stopVideo(this.previousPage),this.playVideo(this.currentPage))):this.isVideoAvailable=!0},e.prototype.resetTutorial=function(){this.carousel.navigateTo(0),this.isVideo&&this.stopVideo(this.currentPage)},e.ɵfac=function(t){return new(t||e)(ws(Go),ws(sf),ws(zh),ws(Kh),ws(Nh))},e.ɵcmp=_t({type:e,selectors:[["ei-ircc-tutorial-view"]],viewQuery:function(e,t){var n,i,r,o;1&e&&(i=Zg,r=!0,function(e,t,n,i,r){var o=e[1];o.firstCreatePass&&Wu(o,new Fu(t,n,!1,i),-1),Ku(e)}(Ft(),i,r,o)),2&e&&Yu(n=qu())&&(t.carousel=n.first)},inputs:{isTutorialEnabled:"isTutorialEnabled",termsVersionId:"termsVersionId",startTutorial:"startTutorial"},outputs:{acceptTermsSuccess:"acceptTermsSuccess",finishTutorial:"finishTutorial"},features:[_a()],decls:1,vars:1,consts:[["class","c ei_msgconv",4,"ngIf"],[1,"c","ei_msgconv"],[2,"overflow-y","auto"],[3,"cycling","navigationButtons","slideChange"],["carousel",""],[4,"ngFor","ngForOf"],["role","button",1,"ei_btn","ei-chat-disclaimer-button",3,"click"],[1,"ei_btn_body"],[1,"item","ei-chat-tuto-block"],[4,"ngIf"],["class","mediaImg",4,"ngIf"],["preload","","muted","muted",3,"id"],["type","video/mp4",3,"src"],[1,"mediaImg"],[3,"src"]],template:function(e,t){1&e&&Cs(0,ey,10,9,"div",0),2&e&&Ts("ngIf",t.isTutorialEnabled)},directives:[xl,Wg,Ol,Vg],pipes:[_f],encapsulation:2}),e}();function ny(e,t){if(1&e){var n=Ps();Ss(0,"div",12),Ss(1,"span"),ua(2),Ou(3,"translateChat"),Is(),ua(4," "),Ss(5,"a",13),Ms("click",(function(e){return Bt(n),Rs(2).gdprLinkClicked()})),ua(6),Ou(7,"translateChat"),Is(),ua(8," "),Ss(9,"span"),ua(10),Ou(11,"translateChat"),Is(),Is()}if(2&e){var i=Rs(2);dr(2),ca(Pu(3,4,"GDPR-LINK-PART1")),dr(3),Fs("href",i.dataProtectionUrl,Ui),dr(1),la("",Pu(7,6,"GDPR-LINK-PART2")," "),dr(4),ca(Pu(11,8,"GDPR-LINK-PART3"))}}function iy(e,t){if(1&e&&(Ss(0,"div",14),Ss(1,"p"),ua(2),Ou(3,"translateChat"),Is(),Is()),2&e){var n=Rs(2);dr(2),ca(Pu(3,1,n.errorMessageKey))}}function ry(e,t){if(1&e){var n=Ps();Ss(0,"div",1),Ss(1,"div",2),As(2,"b",3),Ou(3,"translateChat"),Is(),Ss(4,"div",4),As(5,"div",5),Is(),Cs(6,ny,12,10,"div",6),Ss(7,"div",7),Ss(8,"a",8),Ms("click",(function(e){Bt(n);var t=Rs();return t.chatConfig.isSubstituted?null:t.accept()})),Ss(9,"span",9),ua(10),Ou(11,"translateChat"),Is(),Is(),Ss(12,"a",10),Ms("click",(function(e){Bt(n);var t=Rs();return t.chatConfig.isSubstituted?null:t.reject()})),Ss(13,"span",9),ua(14),Ou(15,"translateChat"),Is(),Is(),Is(),Cs(16,iy,4,3,"div",11),Is()}if(2&e){var i=Rs();dr(2),Ts("innerHTML",Pu(3,11,"GDPR.IRCC.CONSENT.DISCLAIMER-TITLE"),Fi),dr(2),pa("ei_padmid  is",i.currentContext,""),dr(1),Ts("innerHTML",i.disclaimerBody,Fi),dr(1),Ts("ngIf",i.dataProtectionUrl),dr(2),Ts("ngClass",i.chatConfig.isSubstituted?"ei_btn_disabled":null),dr(2),ca(Pu(11,13,"COMMON.ACCEPT")),dr(2),Ts("ngClass",i.chatConfig.isSubstituted?"ei_btn_disabled":null),dr(2),ca(Pu(15,15,"COMMON.REJECT")),dr(2),Ts("ngIf",i.errorMessageKey)}}var oy=function(){function e(e,t,n,i,r,o){this.cd=e,this.aliasResolverStore=t,this.chatConfig=n,this.entityConfigService=i,this.platformStore=r,this.translate=o,this.acceptTermsSuccess=new Du,this.rejectTerms=new Du}return e.prototype.ngOnChanges=function(){var e=this;this.isConsentEnabled&&(this.currentContext=this.chatConfig.uniqueWorldId,this.disclaimerBody=this.translate.instant("GDPR.RESPONSIBLE")+" "+this.translate.instant(this.entityConfigService.gdprResponsibleKey())+". "+this.translate.instant(this.entityConfigService.gdprIrccBodyKey()),this.cd.detectChanges(),this.aliasResolverStore.resolveLink("PROTECTION-DES-DONNEES").subscribe((function(t){t&&(e.dataProtectionUrl=t,e.cd.detectChanges())})))},e.prototype.gdprLinkClicked=function(){dh.consentLinkClicked()},e.prototype.accept=function(){var e=this;dh.answerConsent(!0),this.errorMessageKey=null,this.cd.detectChanges(),this.platformStore.acceptTerms(this.chatConfig.isAuthenticated,this.chatConfig.virtualAssistantId,this.termsVersionId).subscribe((function(t){e.acceptTermsSuccess.emit(t)}),(function(){e.errorMessageKey="ERROR.GENERIC",e.cd.detectChanges()}))},e.prototype.reject=function(){dh.answerConsent(!1),this.errorMessageKey=null,this.cd.detectChanges(),this.rejectTerms.emit()},e.ɵfac=function(t){return new(t||e)(ws(Go),ws(xf),ws(Nh),ws(zh),ws(Kh),ws(Dh))},e.ɵcmp=_t({type:e,selectors:[["ei-ircc-consent-view"]],inputs:{termsVersionId:"termsVersionId",isConsentEnabled:"isConsentEnabled",displayButtons:"displayButtons"},outputs:{acceptTermsSuccess:"acceptTermsSuccess",rejectTerms:"rejectTerms"},features:[_a()],decls:1,vars:1,consts:[["id","ei-consent-view-content",4,"ngIf"],["id","ei-consent-view-content"],["id","ei-chat-disclaimer-title",1,"ei_padmid","j"],[3,"innerHTML"],["id","ei-chat-disclaimer-body-container"],["id","ei-chat-disclaimer-body",1,"j",3,"innerHTML"],["id","ei-chat-disclaimer-link-container","class","ei_padmid j",4,"ngIf"],["id","ei-chat-disclaimer-button-container",1,"ei_flex","ei_flex_justcenter","ei_padmid"],["role","button","id","ei-chat-disclaimer-accept",1,"ei_btn","ei-chat-disclaimer-button",3,"ngClass","click"],[1,"ei_btn_body"],["role","button","id","ei-chat-disclaimer-reject",1,"ei_btn","ei-chat-disclaimer-button",3,"ngClass","click"],["id","ei-chat-disclaimer-error","class","err",4,"ngIf"],["id","ei-chat-disclaimer-link-container",1,"ei_padmid","j"],["target","_blank","id","ei-chat-disclaimer-gdpr-link",3,"href","click"],["id","ei-chat-disclaimer-error",1,"err"]],template:function(e,t){1&e&&Cs(0,ry,17,17,"div",0),2&e&&Ts("ngIf",t.isConsentEnabled)},directives:[xl,Kc],pipes:[_f],encapsulation:2,changeDetection:0}),e}();function sy(e,t){if(1&e&&(Ss(0,"div",6),Ss(1,"div",12),Ss(2,"p"),ua(3),Ou(4,"translateChat"),Is(),Is(),Is()),2&e){var n=Rs();dr(3),ca(Pu(4,1,n.errorMessage))}}function ay(e,t){1&e&&(Ss(0,"span",6),ua(1),Ou(2,"translateChat"),Is()),2&e&&(dr(1),ca(Pu(2,1,"GDPR.GENESYS.CLOSE-DISCLAIMER")))}function uy(e,t){if(1&e){var n=Ps();Ss(0,"div",13),Ss(1,"span"),ua(2),Ou(3,"translateChat"),Is(),ua(4," "),Ss(5,"a",14),Ms("click",(function(e){return Bt(n),Rs().gdprLinkClicked()})),ua(6),Ou(7,"translateChat"),Is(),ua(8," "),Ss(9,"span"),ua(10),Ou(11,"translateChat"),Is(),Is()}if(2&e){var i=Rs();dr(2),ca(Pu(3,4,"GDPR-LINK-PART1")),dr(3),Fs("href",i.dataProtectionUrl,Ui),dr(1),ca(Pu(7,6,"GDPR-LINK-PART2")),dr(4),ca(Pu(11,8,"GDPR-LINK-PART3"))}}var cy=function(){function e(e,t,n,i,r){this.aliasResolverStore=e,this.cd=t,this.platformStore=n,this.chatConfig=i,this.entityConfigService=r,this.gdprAccepted=new Du,this.gdprRejected=new Du,this.chatTypeEnum=uh,this.errorMessage=null}return e.prototype.ngOnInit=function(){var e=this;this.aliasSub=this.aliasResolverStore.resolveLink("PROTECTION-DES-DONNEES").subscribe((function(t){t&&(e.dataProtectionUrl=t,e.cd.markForCheck())})),this.bodyKey=this.chatType===uh.ircc?this.entityConfigService.gdprIrccSettingsKey():this.entityConfigService.gdprGenesysSettingsKey(),this.cd.markForCheck()},e.prototype.ngOnChanges=function(e){e.userConsent&&this.userConsent&&(this.acceptedGdprInitial=this.userConsent.hasAccepted,this.acceptedGdpr=this.userConsent.hasAccepted)},e.prototype.ngOnDestroy=function(){null!=this.updateSub&&this.updateSub.unsubscribe(),null!=this.aliasSub&&this.aliasSub.unsubscribe()},e.prototype.gdprLinkClicked=function(){dh.settingsLinkClicked()},e.prototype.confirm=function(){this.acceptedGdprInitial!==this.acceptedGdpr?(this.errorMessage=null,this.chatType===uh.ircc?this._updateConsentIrcc():this._updateConsentGenesys()):this._handleConfirm(this.userConsent)},e.prototype._updateConsentIrcc=function(){var e=this;this.updateSub=(!0===this.acceptedGdpr?this.platformStore.acceptTerms(this.chatConfig.isAuthenticated,this.chatConfig.virtualAssistantId,this.userConsent.versionId):this.platformStore.rejectTerms(this.chatConfig.isAuthenticated,this.chatConfig.virtualAssistantId,this.userConsent.versionId)).subscribe((function(t){dh.updateGdprSettings(t.hasAccepted),e.acceptedGdprInitial=t.hasAccepted,e.cd.detectChanges(),e._handleConfirm(t)}),(function(t){console.log("Error while updating gdpr settings",t),e.errorMessage="SETTINGS.ERROR-UPDATE",e.cd.detectChanges()}))},e.prototype._updateConsentGenesys=function(){var e=this;this.platformStore.updateGenesysGdpr(this.acceptedGdpr).subscribe({next:function(t){e.acceptedGdprInitial=e.acceptedGdpr,e.cd.markForCheck(),e._handleConfirm(t)}})},e.prototype._handleConfirm=function(e){if(null==e)return this.errorMessage="SETTINGS.ERROR-UPDATE",void this.cd.detectChanges();!0===e.hasAccepted?this.gdprAccepted.emit(e):this.gdprRejected.emit(e)},e.ɵfac=function(t){return new(t||e)(ws(xf),ws(Go),ws(Kh),ws(Nh),ws(zh))},e.ɵcmp=_t({type:e,selectors:[["ei-settings"]],inputs:{userConsent:"userConsent",chatType:"chatType"},outputs:{gdprAccepted:"gdprAccepted",gdprRejected:"gdprRejected"},features:[_a()],decls:19,vars:15,consts:[[1,"ei-chat-settings-content","ei_padmid"],["id","ei-chat-settings-header"],["id","ei-chat-settings-header-title"],["class","ei_padmid",4,"ngIf"],[1,"ei-chat-settings-container","ei_padmid","ei_flex","ei_flex_nowrap","ei_flex_alcenter"],["id","ei-chat-settings-gdpr-checkbox","type","checkbox",1,"ei-chat-settings-checkbox",3,"ngModel","ngModelChange"],[1,"ei_padmid"],["id","ei-chat-settings-footer-link","class","ei_padhigh",4,"ngIf"],["id","ei-chat-settings-button-container",1,"ei_flex","ei_flex_justcenter","ei_padhigh"],["role","button","id","ei-chat-settings-confirm-button",1,"ei_btn",3,"ngClass","click"],[1,"ei_btn_body"],[1,"ei_btn_label"],["id","ei-chat-settings-error",1,"err"],["id","ei-chat-settings-footer-link",1,"ei_padhigh"],["target","_blank","id","ei-chat-settings-gdpr-link",3,"href","click"]],template:function(e,t){1&e&&(Ss(0,"div",0),Ss(1,"div",1),Ss(2,"h2",2),ua(3),Ou(4,"translateChat"),Is(),Is(),Cs(5,sy,5,3,"div",3),Ss(6,"div",4),Ss(7,"input",5),Ms("ngModelChange",(function(e){return t.acceptedGdpr=e})),Is(),Ss(8,"span",6),ua(9),Ou(10,"translateChat"),Is(),Is(),Cs(11,ay,3,3,"span",3),Cs(12,uy,12,10,"div",7),Ss(13,"div",8),Ss(14,"a",9),Ms("click",(function(e){return t.chatConfig.isSubstituted?null:t.confirm()})),Ss(15,"span",10),Ss(16,"span",11),ua(17),Ou(18,"translateChat"),Is(),Is(),Is(),Is(),Is()),2&e&&(dr(3),ca(Pu(4,9,"SETTINGS.HEADER-TITLE")),dr(2),Ts("ngIf",t.errorMessage),dr(2),Ts("ngModel",t.acceptedGdpr),ms("disabled",!!t.chatConfig.isSubstituted||null),dr(2),ca(Pu(10,11,t.bodyKey)),dr(2),Ts("ngIf",!t.acceptedGdpr&&t.chatType===t.chatTypeEnum.genesys),dr(1),Ts("ngIf",t.dataProtectionUrl),dr(2),Ts("ngClass",t.chatConfig.isSubstituted?"ei_btn_disabled":null),dr(3),ca(Pu(18,13,"COMMON.CONFIRM")))},directives:[xl,vd,Sd,mg,Kc],pipes:[_f],encapsulation:2,changeDetection:0}),e}();function ly(e){return!c(e)&&e-parseFloat(e)+1>=0}function py(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}function hy(e,t,n){void 0===e&&(e=0);var i=-1;return ly(t)?i=Number(t)<1?1:Number(t):M(t)&&(n=t),M(n)||(n=Xh),new S((function(t){var r=ly(e)?e:+e-n.now();return n.schedule(fy,r,{index:0,period:i,subscriber:t})}))}function fy(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function dy(e){return function(t){return t.lift(new gy(e))}}var gy=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new yy(e,this.durationSelector))},e}(),yy=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i.durationSubscription=null,i}return r(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=U(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,i,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(G),vy=function(e){return e.typing="typing",e.notTyping="notTyping",e}({}),my=function(e){return e.await="await",e.close="close",e.empty="empty",e.typing="typing",e}({}),_y=function(){function e(e,t){this.httpClient=e,this.chatConfig=t}return e.prototype.patchUser=function(e,t,n){return this.httpClient.patch(this.chatConfig.apiBaseUrl+"/chats/"+e+"/users/"+t+"/?typingStatus="+n,{})},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(Rp),et(Nh))}}),e}();function by(e,t){if(1&e&&(Ss(0,"div",3),Ss(1,"div",4),As(2,"div",5),Is(),Ss(3,"div",6),Ss(4,"div",7),ua(5),Ou(6,"translateChat"),Is(),Is(),Is()),2&e){var n=Rs();dr(5),la(" ",Pu(6,1,n.translationKeys[n.notificationMessage])," ")}}function Cy(e,t){if(1&e&&(Ss(0,"div",8),Ss(1,"div",4),As(2,"div",9),Is(),Ss(3,"div",6),Ss(4,"div",7),ua(5),Ou(6,"translateChat"),Is(),Is(),Is()),2&e){var n=Rs();dr(5),la(" ",Pu(6,1,n.errorMessage)," ")}}var wy=function(){function e(){this.translationKeys={await:"MYAPP.NOTIFICATION-BOX.AWAIT",close:"MYAPP.NOTIFICATION-BOX.CLOSE",empty:"",typing:"MYAPP.NOTIFICATION-BOX.TYPING"},this.notificationMessageEnum=my}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=_t({type:e,selectors:[["ei-notification-box"]],inputs:{notificationMessage:"notificationMessage",errorMessage:"errorMessage"},decls:3,vars:2,consts:[[1,"ei_msgconv__wait"],["class","ei_msgconv_item__content--info ei_msgconv_item ei_msgconv_item--technical",4,"ngIf"],["class","ei_msgconv_item__content--err ei_msgconv_item ei_msgconv_item--technical",4,"ngIf"],[1,"ei_msgconv_item__content--info","ei_msgconv_item","ei_msgconv_item--technical"],[1,"ei_msgconv_item_decor"],[1,"ei_gly_info"],[1,"ei_msgconv_item__main-content"],[1,"ei_msgconv_item__content--collapsed","ei_msgconvitem_content"],[1,"ei_msgconv_item__content--err","ei_msgconv_item","ei_msgconv_item--technical"],[1,"ei_gly_error"]],template:function(e,t){1&e&&(Ss(0,"div",0),Cs(1,by,7,3,"div",1),Cs(2,Cy,7,3,"div",2),Is()),2&e&&(dr(1),Ts("ngIf",null!=t.notificationMessage&&t.notificationMessage!==t.notificationMessageEnum.empty),dr(1),Ts("ngIf",(null==t.errorMessage?null:t.errorMessage.length)>0))},directives:[xl],pipes:[_f],encapsulation:2}),e}();function Ty(e,t){1&e&&(As(0,"img",10),Ou(1,"translateChat")),2&e&&(Fs("src",Rs().logoUrl,Ui),Fs("alt",Pu(1,2,"MYAPP.LOGO")))}function Ey(e,t){if(1&e&&(Ss(0,"figcaption",11),ua(1),Is()),2&e){var n=Rs();dr(1),ca(n.advisorName)}}function Sy(e,t){if(1&e){var n=Ps();Ss(0,"ei-input-box",12),Ms("submitMessage",(function(e){return Bt(n),Rs().submitMessageFromInputBox(e)}))("close",(function(e){return Bt(n),Rs().onClickCloseButton()})),Is()}2&e&&Ts("chat",Rs().chat)("showEmojis",!0)("showHangUpButton",!0)}var Iy=function(e){return{"ei_msgconv--live":e}},Ay=function(){function e(e,t,n,i,r,o,s,a){this.cd=e,this.chatConfig=t,this.chatStore=n,this.chatMessageStore=i,this.chatUserStore=r,this.entityConfigService=o,this.inputTextWatcherService=s,this.scrollingService=a,this.close=new Du,this.chatMessageList=[],this.idMessageError=0,this.lockRefresh=!1,this.offset=0}return e.prototype.ngOnInit=function(){var e,t,n=this;this.logoUrl=this.entityConfigService.advisorLogoUrl(),this.scrollingService.initScrollbar(),this._setNotificationMessage(),this._intervalSub=(e=1e3*this.chatConfig.pollingRate,void 0===e&&(e=0),void 0===t&&(t=Xh),(!ly(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Xh),new S((function(n){return n.add(t.schedule(py,e,{subscriber:n,counter:0,period:e})),n}))).subscribe((function(){n._refreshChat()}))},e.prototype.onClickCloseButton=function(){this.close.emit()},e.prototype.ngOnChanges=function(e){var t,n=this;(null===(t=e.chat)||void 0===t?void 0:t.currentValue)&&(this._refreshChat(),this._inputTextSub=this.inputTextWatcherService.getInputTextObservable().pipe(dy((function(){return hy(n.chatConfig.timeBeforeSendPreview)})),yp((function(){var e;return null!=(null===(e=n.chat)||void 0===e?void 0:e.id)}))).subscribe((function(e){n.chatMessageStore.postPreviewMessage(n.chat.id,e)})),this._notTypingSub=this.inputTextWatcherService.getInputTextObservable().pipe(dy((function(){return hy(n.chatConfig.timeBeforeUserNotTypingNotify)})),K((function(){return n.onUserTyping(vy.notTyping)}))).subscribe())},e.prototype.ngOnDestroy=function(){null!=this._inputTextSub&&this._inputTextSub.unsubscribe(),null!=this._notTypingSub&&this._notTypingSub.unsubscribe(),null!=this._intervalSub&&this._intervalSub.unsubscribe()},e.prototype.submitMessageFromInputBox=function(e){dh.sendMessage(),this.onSubmitMessage(e)},e.prototype.onSubmitMessage=function(e){var t,n=this;(null===(t=this.chat)||void 0===t?void 0:t.status)===Th.active&&this.chatMessageStore.postChatMessage({chatId:this.chat.id,message:e}).pipe(nh((function(){n.cd.detectChanges()}))).subscribe((function(){n._refreshChat()}),(function(){n.idMessageError--;var t=new bh({date:(new Date).toJSON(),error:!0,id:n.idMessageError,isDateDisplayed:!0,text:e.text,type:Tf.outgoing});n.chatMessageList.push(t)}))},e.prototype.onUserTyping=function(e){if(!(this.chat&&this.chat.users&&this.chat.id&&e))return gp(null);var t=yh.msgsChat_find(this.chat.users,(function(e){return e.type===wh.client}));return t&&t.id?this.chatUserStore.patchUser(this.chat.id,t.id,e):gp(null)},e.prototype._refreshChat=function(){var e=this;this.chat&&this.chat.id&&!this.lockRefresh&&this.chat.status!==Th.closed&&(this.errorMessage="",this.lockRefresh=!0,this.chatStore.getChat(this.chat.id).pipe(oh((function(t){e.chat=t})),K((function(t){return e.chatMessageStore.listChatMessage(e.chat.id,e.offset)})),kf(1),nh((function(){e._setNotificationMessage(),e.lockRefresh=!1,e.cd.detectChanges()}))).subscribe((function(t){var n;if(!(t.length<=0)){var i=t;e.chatMessageList.length>0&&(i=u(e._processMessageList(t))),i=e._setUserAndFieldsVisibilityToMessages(i),e.chatMessageList=u(i),e.offset=e._getOffset(e.chatMessageList),e.advisorName=null===(n=yh.msgsChat_find(e.chat.users,(function(e){return e.type===wh.advisor})))||void 0===n?void 0:n.username}}),(function(e){console.log(e)})))},e.prototype._getOffset=function(e){var t,n=0;return(null===(t=e)||void 0===t?void 0:t.length)>0&&(n+=e.length),n},e.prototype._setUserAndFieldsVisibilityToMessages=function(e){if(null==e||0===e.length)return[];for(var t=u(e),n=0;n<t.length;n++)t[n].setUser(this.chat.users),t[n].setFieldsVisibility(e[n-1]||null,e[n-1]||null);return t},e.prototype._processMessageList=function(e){var t=u(this.chatMessageList);return u(e).forEach((function(e){var n=yh.msgsChat_findIndex(t,(function(t){return t.id===e.id}));-1!==n?t[n]=e:t.push(e)})),t},e.prototype._setNotificationMessage=function(){var e;if(this.chat){var t;switch(this.chat.status){case Th.active:t=my.empty,(null===(e=yh.msgsChat_find(this.chat.users,(function(e){return e.type===wh.advisor})))||void 0===e?void 0:e.typingStatus)===vy.typing&&(t=my.typing);break;case Th.waitingUser:this.chat.type===uh.genesys&&(t=my.await);break;case Th.closed:t=my.close;break;default:t=my.empty}this.notificationMessage=t,this.cd.markForCheck()}else this.notificationMessage=my.empty},e.ɵfac=function(t){return new(t||e)(ws(Go),ws(Nh),ws(Uh),ws(Mf),ws(_y),ws(zh),ws(dd),ws(rf))},e.ɵcmp=_t({type:e,selectors:[["ei-genesys-view"]],inputs:{chat:"chat"},outputs:{close:"close"},features:[_a()],decls:10,vars:10,consts:[[1,"ei_msgconv",3,"ngClass"],[1,"ei_msgconv__scroll-content"],[1,"ei_msgconv_item--conseiller"],[1,"ei_msgconv_item--conseiller-logo"],[3,"src","alt",4,"ngIf"],["class","ei_msgconv_item__from",4,"ngIf"],[3,"chat","chatMessageList","sendMessage"],[1,"ei_msgconv__bottom"],[3,"notificationMessage","errorMessage"],[3,"chat","showEmojis","showHangUpButton","submitMessage","close",4,"ngIf"],[3,"src","alt"],[1,"ei_msgconv_item__from"],[3,"chat","showEmojis","showHangUpButton","submitMessage","close"]],template:function(e,t){1&e&&(Ss(0,"div",0),Ss(1,"div",1),Ss(2,"div",2),Ss(3,"figure",3),Cs(4,Ty,2,4,"img",4),Cs(5,Ey,2,1,"figcaption",5),Is(),Is(),Ss(6,"ei-chat-message-list",6),Ms("sendMessage",(function(e){return t.onSubmitMessage(e)})),Is(),Is(),Ss(7,"div",7),As(8,"ei-notification-box",8),Cs(9,Sy,1,3,"ei-input-box",9),Is(),Is()),2&e&&(Ts("ngClass",Su(8,Iy,null==t.chat||t.chat.advisorIsConnected())),dr(4),Ts("ngIf",t.logoUrl),dr(1),Ts("ngIf",t.advisorName),dr(1),Ts("chat",t.chat)("chatMessageList",t.chatMessageList),dr(2),Ts("notificationMessage",t.notificationMessage)("errorMessage",t.errorMessage),dr(1),Ts("ngIf",!(null!=t.chat&&t.chat.isDisabled())))},directives:[Kc,xl,cd,wy,Ng],pipes:[_f],encapsulation:2,changeDetection:0}),e}();function ky(e,t){if(1&e){var n=Ps();Ss(0,"div",11),Ss(1,"span"),ua(2),Is(),ua(3," "),Ss(4,"a",12),Ms("click",(function(e){return Bt(n),Rs().gdprLinkClicked()})),ua(5),Is(),Is()}if(2&e){var i=Rs();dr(2),ca(i.textGdpr.link1),dr(2),Fs("href",i.dataProtectionUrl,Ui),dr(1),ca(i.textGdpr.link2)}}function Oy(e,t){1&e&&(Ss(0,"span",10),ua(1),Ou(2,"translateChat"),Is()),2&e&&(dr(1),ca(Pu(2,1,"COMMON.ACCEPT")))}function Py(e,t){1&e&&(Ss(0,"span",10),ua(1),Ou(2,"translateChat"),Is()),2&e&&(dr(1),ca(Pu(2,1,"COMMON.CONTINUE")))}var xy=function(){function e(e,t,n,i,r,o){this.cd=e,this.entityConfigService=t,this.aliasResolverStore=n,this.platformStore=i,this.translate=r,this.chatConfig=o,this.genesysGdprCookieKey="msgs-chat-advisor-gdpr",this.acceptTermsSuccess=new Du,this.rejectTerms=new Du}return e.prototype.ngOnInit=function(){var e=this,t=this.entityConfigService.currentEntityConfig.gdprBodyKey;this.textGdpr=this.isCustomGDPR()?{title:this.translate.instant("GDPR.GENESYS.CONSENT.DISCLAIMER-TITLE-"+t),body:this.translate.instant("GDPR.GENESYS.BODY-CONTENT-"+t),link1:this.translate.instant("GDPR-LINK-PART1-"+t),link2:this.translate.instant("GDPR-LINK-PART2-"+t)}:{title:this.translate.instant("GDPR.GENESYS.CONSENT.DISCLAIMER-TITLE"),body:this.translate.instant("GDPR.RESPONSIBLE")+" "+this.translate.instant(this.entityConfigService.gdprResponsibleKey())+". "+this.translate.instant(this.entityConfigService.gdprGenesysBodyKey()),link1:this.translate.instant("GDPR-LINK-PART1"),link2:this.translate.instant("GDPR-LINK-PART2")},this.aliasResolverStore.resolveLink("PROTECTION-DES-DONNEES").subscribe((function(t){t&&(e.dataProtectionUrl=t,e.cd.detectChanges())})),this.cd.detectChanges()},e.prototype.ngOnChanges=function(){var e=this;this.isConsentEnabled&&(this.aliasResolverStore.resolveLink("PROTECTION-DES-DONNEES").subscribe((function(t){t&&(e.dataProtectionUrl=t,e.cd.detectChanges())})),this.cd.detectChanges())},e.prototype.gdprLinkClicked=function(){dh.consentLinkClicked()},e.prototype.isCustomGDPR=function(){return this.entityConfigService.isCustomGDPR()},e.prototype.accept=function(){var e=this;this.platformStore.updateGenesysGdpr(!0).subscribe({next:function(t){e.acceptTermsSuccess.emit(t)}})},e.prototype.reject=function(){this.rejectTerms.emit()},e.ɵfac=function(t){return new(t||e)(ws(Go),ws(zh),ws(xf),ws(Kh),ws(Dh),ws(Nh))},e.ɵcmp=_t({type:e,selectors:[["ei-genesys-consent-view"]],inputs:{isConsentEnabled:"isConsentEnabled"},outputs:{acceptTermsSuccess:"acceptTermsSuccess",rejectTerms:"rejectTerms"},features:[_a()],decls:17,vars:21,consts:[["id","ei-consent-view-content"],["id","ei-chat-disclaimer-title",1,"ei_padmid","j"],[3,"innerHTML"],["id","ei-chat-disclaimer-body-container",1,"ei_padmid"],["id","ei-chat-disclaimer-body",1,"j",3,"innerHTML"],["id","ei-chat-disclaimer-link-container","class","ei_padmid j",4,"ngIf"],["id","ei-chat-disclaimer-button-container"],["role","button","id","ei-chat-disclaimer-accept",1,"ei_btn","ei-chat-disclaimer-button",3,"ngClass","click"],["class","ei_btn_body",4,"ngIf"],["role","button","id","ei-chat-disclaimer-reject",3,"ngClass","click"],[1,"ei_btn_body"],["id","ei-chat-disclaimer-link-container",1,"ei_padmid","j"],["target","_blank","id","ei-chat-disclaimer-gdpr-link",3,"href","click"]],template:function(e,t){1&e&&(Ss(0,"div",0),Ss(1,"div",1),Ss(2,"b",2),Ou(3,"translateChat"),ua(4),Is(),Is(),Ss(5,"div",3),As(6,"div",4),Ou(7,"translateChat"),Is(),Cs(8,ky,6,3,"div",5),Ss(9,"div",6),Ss(10,"a",7),Ms("click",(function(e){return t.chatConfig.isSubstituted?null:t.accept()})),Cs(11,Oy,3,3,"span",8),Cs(12,Py,3,3,"span",8),Is(),Ss(13,"a",9),Ms("click",(function(e){return t.chatConfig.isSubstituted?null:t.reject()})),Ss(14,"span",10),ua(15),Ou(16,"translateChat"),Is(),Is(),Is(),Is()),2&e&&(dr(2),Ts("innerHTML",Pu(3,15,t.textGdpr.title),Fi),dr(2),ca(""),dr(2),Ts("innerHTML",Pu(7,17,t.textGdpr.body),Fi),dr(2),Ts("ngIf",t.isCustomGDPR()&&t.dataProtectionUrl),dr(1),pa("ei_flex ei_flex_justcenter ei_padmid ",t.isCustomGDPR()?"reverse-button":null,""),dr(1),Ts("ngClass",t.chatConfig.isSubstituted?"ei_btn_disabled":null),dr(1),Ts("ngIf",!t.isCustomGDPR()),dr(1),Ts("ngIf",t.isCustomGDPR()),dr(1),pa("ei_btn ",t.isCustomGDPR()?"ei_btn_typ_no":null," ei-chat-disclaimer-button"),Ts("ngClass",t.chatConfig.isSubstituted?"ei_btn_disabled":null),dr(2),ca(Pu(16,19,"COMMON.REJECT")))},directives:[xl,Kc],pipes:[_f],encapsulation:2,changeDetection:0}),e}(),My=function(){function e(){this.cancelClose=new Du,this.confirmClose=new Du}return e.prototype.ngOnInit=function(){},e.prototype.cancelClosingModal=function(){this.cancelClose.emit()},e.prototype.confirmCloseButtonClick=function(){this.confirmClose.emit()},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=_t({type:e,selectors:[["ei-closing-modal"]],outputs:{cancelClose:"cancelClose",confirmClose:"confirmClose"},decls:26,vars:15,consts:[[1,"ei-chat-confirm-close-modal","ei_blocmodal_env","ei_newlb"],[1,"ei_blocmodal"],[1,"a_blocfctltitre"],[1,"a_titre2"],[1,"a_blocfctl"],[1,"blocboutons"],["id","ei-close-modal-cancel-btn",1,"ei_button",3,"click"],["role","button",1,"ei_btn","ei_btn_typ_no"],[1,"ei_btn_body"],[1,"ei_btn_label"],["id","ei-close-modal-confirm-btn",1,"ei_button",3,"click"],["role","button",1,"ei_btn","ei_btn_typ_yes"]],template:function(e,t){1&e&&(Ss(0,"div",0),Ss(1,"div",1),Ss(2,"div",2),Ss(3,"p",3),ua(4),Ou(5,"translateChat"),Is(),Is(),Ss(6,"div",4),Ss(7,"p"),ua(8),Ou(9,"translateChat"),Is(),Ss(10,"p"),ua(11),Ou(12,"translateChat"),Is(),Ss(13,"div",5),Ss(14,"span",6),Ms("click",(function(e){return t.cancelClosingModal()})),Ss(15,"a",7),Ss(16,"span",8),Ss(17,"span",9),ua(18),Ou(19,"translateChat"),Is(),Is(),Is(),Is(),Ss(20,"span",10),Ms("click",(function(e){return t.confirmCloseButtonClick()})),Ss(21,"a",11),Ss(22,"span",8),Ss(23,"span",9),ua(24),Ou(25,"translateChat"),Is(),Is(),Is(),Is(),Is(),Is(),Is(),Is()),2&e&&(dr(4),ca(Pu(5,5,"MYAPP.EXIT")),dr(4),ca(Pu(9,7,"MYAPP.EXIT-CONFIRM")),dr(3),ca(Pu(12,9,"MYAPP.EXIT-CONFIRM-QUESTION")),dr(7),ca(Pu(19,11,"MYAPP.CANCEL")),dr(6),ca(Pu(25,13,"COMMON.CONFIRM")))},pipes:[_f],encapsulation:2}),e}(),Ny=function(){return{invisible:!1}},Dy=function(){return{invisible:!0}};function Ry(e,t){if(1&e){var n=Ps();Ss(0,"button",29),Ms("click",(function(e){return Bt(n),Rs(2).irccButtonClicked()})),Ou(1,"translateChat"),Ss(2,"span",30),Ss(3,"span",31),Ss(4,"div",32),As(5,"span",33),As(6,"span",34),As(7,"span",35),Is(),Is(),As(8,"span",36),Ss(9,"span",37),ua(10),Ou(11,"translateChat"),Is(),Is(),As(12,"span",38),Is()}if(2&e){var i=Rs(2);pa("ircc__stickers-ircc ",i.irccOpeningClass,""),Fs("title",Pu(1,8,i.irccLogoTitle)),ms("aria-expanded",i.state.isMaximized(i.irccType)),dr(2),Ts("ngClass",Eu(12,Ny)),dr(8),ca(Pu(11,10,i.irccLogoTitle)),dr(2),Ts("ngClass",Eu(13,Dy))}}function Ly(e,t){if(1&e){var n=Ps();Ss(0,"button",29),Ms("click",(function(e){return Bt(n),Rs(2).genesysButtonClicked()})),Ou(1,"translateChat"),Ss(2,"span",30),As(3,"span",39),Ss(4,"span",37),ua(5),Ou(6,"translateChat"),Is(),Is(),As(7,"span",38),Is()}if(2&e){var i=Rs(2);pa("ircc__stickers-conseiller ",i.genesysOpeningClass,""),Fs("title",Pu(1,8,i.genesysLogoTitle)),ms("aria-expanded",i.state.isMaximized(i.genesysType)),dr(2),Ts("ngClass",Eu(12,Ny)),dr(3),ca(Pu(6,10,i.genesysLogoTitle)),dr(2),Ts("ngClass",Eu(13,Dy))}}function Vy(e,t){if(1&e){var n=Ps();Ss(0,"ei-settings",40),Ms("gdprAccepted",(function(e){return Bt(n),Rs(2).onGdprSettingAccepted(e)}))("gdprRejected",(function(e){return Bt(n),Rs(2).onGdprSettingRejected(e)})),Is()}if(2&e){var i=Rs(2);Ts("chatType",i.irccType)("userConsent",i.state.userConsent(i.irccType))}}function jy(e,t){if(1&e){var n=Ps();Ss(0,"ei-settings",40),Ms("gdprAccepted",(function(e){return Bt(n),Rs(3).onGdprSettingAcceptedGenesys(e)}))("gdprRejected",(function(e){return Bt(n),Rs(3).onGdprSettingRejectedGenesys(e)})),Is()}if(2&e){var i=Rs(3);Ts("chatType",i.genesysType)("userConsent",i.state.userConsent(i.genesysType))}}function Fy(e,t){if(1&e){var n=Ps();ks(0),Ss(1,"ei-genesys-view",41),Ms("close",(function(e){return Bt(n),Rs(2).exitGenesys()})),Is(),Cs(2,jy,1,2,"ei-settings",16),Os()}if(2&e){var i=Rs(2);dr(1),Ts("hidden",i.state.isSettingsDisplayed(i.genesysType))("chat",i.state.chat(i.genesysType)),ms("aria-hidden",i.state.isSettingsDisplayed(i.genesysType)),dr(1),Ts("ngIf",i.state.isSettingsDisplayed(i.genesysType))}}function Uy(e,t){if(1&e){var n=Ps();Ss(0,"ei-genesys-consent-view",42),Ms("acceptTermsSuccess",(function(e){return Bt(n),Rs(2).onAcceptTermsGenesys(e)}))("rejectTerms",(function(e){Bt(n);var t=Rs(2);return t.onRejectTerms(t.genesysType)})),Is()}}function Gy(e,t){if(1&e&&(Ss(0,"div",43),Ss(1,"p"),ua(2),Ou(3,"translateChat"),Is(),Is()),2&e){var n=Rs(2);dr(2),ca(Pu(3,1,n.errorMessageKey))}}function By(e,t){if(1&e){var n=Ps();Ss(0,"ei-closing-modal",44),Ms("cancelClose",(function(e){return Bt(n),Rs(2).cancelCloseModal()}))("confirmClose",(function(e){return Bt(n),Rs(2).confirmCloseModal()})),Is()}}var Hy=function(e){return{ei_tchat_conseiller_open:e}},zy=function(e,t,n){return{"ei_tchat-conseiller":e,"ircc--open":t,"conseiller--open":n}},Yy=function(e){return{ei_tchat_open:e}};function qy(e,t){if(1&e){var n=Ps();Ss(0,"div",1),Ss(1,"div",2),Ss(2,"div",3),Cs(3,Ry,13,14,"button",4),Cs(4,Ly,8,14,"button",4),Is(),Ss(5,"div",5),Ss(6,"div",6),Ss(7,"div",7),Ss(8,"div",8),Ss(9,"span"),ua(10),Ou(11,"translateChat"),Ou(12,"translateChat"),Ou(13,"translateChat"),Is(),Ss(14,"div",9),Ms("click",(function(e){Bt(n);var t=Rs();return t.clickSettings(t.irccType)})),Ou(15,"translateChat"),As(16,"a",10),Is(),Ss(17,"div",11),Ms("click",(function(e){return Bt(n),Rs().reduceIrcc()})),Ou(18,"translateChat"),As(19,"a",12),Is(),Ss(20,"div",13),Ms("click",(function(e){return Bt(n),Rs().clickIrccTopCross()})),Ou(21,"translateChat"),As(22,"a",12),Is(),Is(),Is(),Ss(23,"div"),Ss(24,"div"),As(25,"ei-ircc-empty-view",14),As(26,"ei-ircc-loader-view",15),Cs(27,Vy,1,2,"ei-settings",16),Ss(28,"ei-ircc-view",17),Ms("close",(function(e){Bt(n);var t=Rs();return t.state.minimize(t.irccType)})),Is(),Ss(29,"ei-ircc-tutorial-view",18),Ms("finishTutorial",(function(e){return Bt(n),Rs().onFinishtutorial()})),Is(),Ss(30,"ei-ircc-consent-view",19),Ms("rejectTerms",(function(e){Bt(n);var t=Rs();return t.onRejectTerms(t.irccType)}))("acceptTermsSuccess",(function(e){return Bt(n),Rs().onAcceptTerms(e)})),Is(),Is(),Is(),Is(),Is(),Ss(31,"div",20),Ss(32,"div",21),Ss(33,"div",22),Ss(34,"div",23),Ss(35,"span"),ua(36),Ou(37,"translateChat"),Ou(38,"translateChat"),Ou(39,"translateChat"),Is(),Ss(40,"div",9),Ms("click",(function(e){Bt(n);var t=Rs();return t.clickSettings(t.genesysType)})),Ou(41,"translateChat"),As(42,"a",10),Is(),Ss(43,"div",11),Ms("click",(function(e){return Bt(n),Rs().minimizeGenesys()})),Ou(44,"translateChat"),As(45,"a",12),Is(),Ss(46,"div",13),Ms("click",(function(e){return Bt(n),Rs().clickGenesysTopCross()})),Ou(47,"translateChat"),As(48,"a",12),Is(),Is(),Is(),ks(49),Ss(50,"div",24),Cs(51,Fy,3,4,"ng-container",25),Cs(52,Uy,1,0,"ei-genesys-consent-view",26),Is(),Os(),Cs(53,Gy,4,3,"div",27),Cs(54,By,1,0,"ei-closing-modal",28),Is(),Is(),Is(),Is()}if(2&e){var i,r=Rs(),o=null,s=r.state.isConsentDisplayed(r.irccType)||r.state.isTutorialDisplayed(r.irccType)||r.state.isSettingsDisplayed(r.irccType)&&!1===(null==(o=r.state.userConsent(r.irccType))?null:o.hasAccepted),a=null,u=r.state.isConsentDisplayed(r.irccType)||r.state.isTutorialDisplayed(r.irccType)||r.state.isSettingsDisplayed(r.irccType)&&!1===(null==(a=r.state.userConsent(r.irccType))?null:a.hasAccepted),c=null==(i=r.state.userConsent(r.irccType))?null:i.versionId,l=null,p=r.state.isConsentDisplayed(r.genesysType)||r.state.isSettingsDisplayed(r.genesysType)&&!1===(null==(l=r.state.userConsent(r.genesysType))?null:l.hasAccepted),h=null,f=r.state.isConsentDisplayed(r.genesysType)||r.state.isSettingsDisplayed(r.genesysType)&&!1===(null==(h=r.state.userConsent(r.genesysType))?null:h.hasAccepted);pa("ei-chat-main ei_tchat-main-ircc is",r.currentContext,""),Ts("ngClass",Su(72,Hy,r.state.isMaximized(r.genesysType))),dr(1),Ts("hidden",r.state.chatExists(r.genesysType)||r.state.isMaximized(r.genesysType))("ngClass",(d=74,g=zy,y=r.state.isMinimized(r.genesysType),v=r.state.isMaximized(r.irccType),m=r.state.isMaximized(r.genesysType),function(e,t,n,i,r,o,s,a){var u=t+n;return function(e,t,n,i,r){var o=vs(e,t,n,i);return ys(e,t+2,r)||o}(e,u,r,o,s)?ds(e,u+3,a?i.call(a,r,o,s):i(r,o,s)):gs(e,u+3)}(Ft(),Zt(),d,g,y,v,m,_))),ms("aria-hidden",r.state.chatExists(r.genesysType)||r.state.isMaximized(r.genesysType)),dr(2),Ts("ngIf",!r.state.chatExists(r.genesysType)),dr(1),Ts("ngIf",r.state.chatExists(r.genesysType)||!r.state.chatExists(r.genesysType)&&(r.comingFromEscalation||r.genesysDefaultDisplay&&"none"!==r.genesysDefaultDisplay)),dr(6),ca(r.state.isConsentDisplayed(r.irccType)&&!r.state.isTutorialDisplayed(r.irccType)?Pu(11,48,"COMMON.PERSONAL-DATA-PROTECTION"):r.state.isSettingsDisplayed(r.irccType)?Pu(12,50,"SETTINGS.BANNER-TITLE"):Pu(13,52,r.irccTitle)),dr(4),Fs("title",Pu(15,54,"SETTINGS.BANNER-TITLE")),Ts("hidden",s),ms("aria-hidden",u),dr(3),Fs("title",Pu(18,56,"MYAPP.MINIMIZE")),dr(3),Fs("title",Pu(21,58,"MYAPP.LEAVE-CHAT")),dr(2),ms("aria-expanded",r.state.isMaximized(r.irccType)),dr(1),pa("ei_ircc_body is",r.currentContext,""),dr(1),pa("ei-chat-content ",r.state.isConsentDisplayed(r.irccType)&&!r.state.isTutorialDisplayed(r.irccType)?"whiteBackground":"",""),dr(1),Ts("displayEmptyView",r.displayEmptyView),dr(1),Ts("displayLoaderView",r.displayLoaderView),dr(1),Ts("ngIf",r.state.isSettingsDisplayed(r.irccType)),dr(1),Ts("hidden",r.state.isConsentDisplayed(r.irccType)||r.state.isTutorialDisplayed(r.irccType)||r.state.isSettingsDisplayed(r.irccType))("chat",r.state.chat(r.irccType)),ms("aria-hidden",r.state.isConsentDisplayed(r.irccType)||r.state.isTutorialDisplayed(r.irccType)||r.state.isSettingsDisplayed(r.irccType)),dr(1),Ts("hidden",!r.state.isTutorialDisplayed(r.irccType))("startTutorial",r.startTutorial)("isTutorialEnabled",r.isIrccTutorialEnabled),ms("aria-hidden",!r.state.isTutorialDisplayed(r.irccType)),dr(1),Ts("hidden",!r.state.isConsentDisplayed(r.irccType)||r.state.isTutorialDisplayed(r.irccType))("isConsentEnabled",r.state.isConsentDisplayed(r.irccType))("termsVersionId",c),ms("aria-hidden",!r.state.isConsentDisplayed(r.irccType)||r.state.isTutorialDisplayed(r.irccType)),dr(2),Ts("ngClass",Su(78,Yy,r.state.isMaximized(r.genesysType))),dr(4),ca(r.state.isConsentDisplayed(r.genesysType)?Pu(37,60,"COMMON.PERSONAL-DATA-PROTECTION"):r.state.isSettingsDisplayed(r.genesysType)?Pu(38,62,"SETTINGS.BANNER-TITLE"):Pu(39,64,r.genesysTitle)),dr(4),Fs("title",Pu(41,66,"SETTINGS.BANNER-TITLE")),Ts("hidden",p),ms("aria-hidden",f),dr(3),Fs("title",Pu(44,68,"MYAPP.MINIMIZE")),dr(3),Fs("title",Pu(47,70,"MYAPP.LEAVE-CHAT")),dr(2),ms("aria-expanded",r.state.isMaximized(r.genesysType)),dr(3),Ts("ngIf",!r.state.isConsentDisplayed(r.genesysType)&&r.state.chatExists(r.genesysType)),dr(1),Ts("ngIf",r.state.isConsentDisplayed(r.genesysType)),dr(1),Ts("ngIf",r.errorMessageKey),dr(1),Ts("ngIf",r.displayClosingModal)}var d,g,y,v,m,_}var Ky=function(){function e(e,t,n,i,r,o,s,a,u,c,l,p){this.authenticationService=e,this.authenticationStore=t,this.cd=n,this.chatConfig=i,this.chatsOrchestrator=r,this.chatStore=o,this.entityConfigService=s,this.platformStore=a,this.sessionService=u,this.scrollingService=c,this.state=l,this.irccMessageService=p,this.chatTypeEnum=uh,this.genesysType=uh.genesys,this.irccType=uh.ircc,this.isLogin=!1,this.displayClosingModal=!1,this.displayConsent=!1,this.hasLoaded=!1,this.startTutorial=!1,this.displayLoaderView=!1,this.oneSecondPassed=!1,this.apicAnswered=!1,this.displayEmptyView=!1,this.comingFromEscalation=!1}return e.prototype.ngOnInit=function(){var e,t,n=this;window.msgsChat={},this.currentContext=this.chatConfig.uniqueWorldId;var i=this.chatConfig.isAuthenticated;this.isLogin=this.sessionService.isLogin(i),this.irccTitle=this.entityConfigService.irccTitleKey(),this.irccLogoTitle=this.entityConfigService.irccLogoKey(),this.genesysTitle=this.entityConfigService.genesysTitleKey(),this.genesysLogoTitle=this.entityConfigService.genesysLogoKey(),this.genesysDefaultDisplay=this.chatConfig.genesysConfig.defaultDisplay,this.isIrccTutorialEnabled=this.entityConfigService.isIrccTutorialEnabled(),this.isCustomGdpr=this.entityConfigService.isCustomGDPR(),this.sessionService.detectLogoutAndUpdateCookies(i),this._setGlobalsElements();var r=this.chatConfig.genesysConfig.isEnabled||this.chatConfig.virtualAssistantConfig.isEnabled||(null===(e=this.sessionService.tokenCookie())||void 0===e?void 0:e.length)>0;null===JSON.parse(localStorage.getItem(this.irccMessageService._MESSAGE_LIST_KEY))&&(null===(t=this.sessionService.tokenCookie())||void 0===t?void 0:t.length)>0&&this.sessionService.deleteTokenCookie(),this.comingFromEscalation="1"==localStorage.getItem(this.state._ESCALATION_KEY),r&&(new Ih({customScrollbarPath:this.chatConfig.customScrollbarPath,devbCdnPath:this.chatConfig.devbCdnPath,jqueryRelativePath:this.chatConfig.jqueryRelativePath}).loadScripts(),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),J(e,void 0).lift(new Xp(n))}(this.assistantEnabled(),this._checkTokenAndChatList$(this.chatConfig.sessionToken)).pipe(nh((function(){n.hasLoaded=!0,n.cd.detectChanges()}))).subscribe((function(e){var t=a(e,2),i=t[0];n.state.setViewModels(t[1]),n._handleGenesysAvailability(n.state.chatExists(uh.genesys)),n._handleAssistantAvailability(i,n.state.chatExists(uh.ircc))}),(function(e){console.log(e)})),this._genesysOchestratorSub=this.chatsOrchestrator.openGenesysObservable().subscribe((function(e){e&&e.platform&&n.onAcceptTermsGenesys(null,e.platform,e.intentionOrigin||"ABAD",e.mocaId,e.conversationId,e.escalation)})))},e.prototype.ngOnDestroy=function(){null!=this._genesysOchestratorSub&&this._genesysOchestratorSub.unsubscribe()},e.prototype.irccButtonClicked=function(){var e=this;this.state.isMaximized(uh.ircc)?(dh.clickPanelChevron(uh.ircc),this.state.minimize(uh.ircc,(function(){e.startTutorial=!1,e.cd.detectChanges()}))):(this.startIrcc(),this._displayTutorial(),this.cd.detectChanges())},e.prototype.genesysButtonClicked=function(){var e=this;this.state.isMaximized(uh.genesys)?(dh.clickPanelChevron(uh.genesys),this.state.minimize(uh.genesys,(function(){e.cd.detectChanges()}))):(this.startGenesys(),this.cd.detectChanges())},e.prototype.startGenesys=function(){this.startChat(uh.genesys,this.chatConfig.platform)},e.prototype.startIrcc=function(){this.startChat(uh.ircc,this.chatConfig.virtualAssistantId)},e.prototype.startChat=function(e,t,n){var i=this;if(this.errorMessageKey=null,this.displayEmptyView=!0,this.state.chatExists(e))return dh.maximizeWindow(e),this.state.maximize(e,(function(){i.displayEmptyView=!1,i.startTutorial=!0,i.setIrccOpeningClass(),i.cd.detectChanges()})),void(e===uh.ircc&&this.scrollingService.scrollToBottom());e===uh.ircc?(null!=this._initAssistantSub&&this._initAssistantSub.unsubscribe(),this.state.setChat(e,new Eh({type:uh.ircc})),setTimeout((function(){i.apicAnswered||(i.displayEmptyView=!1,i.displayLoaderView=!0,i.cd.detectChanges(),setTimeout((function(){i.apicAnswered&&(i.displayLoaderView=!1,i.cd.detectChanges()),i.oneSecondPassed=!0}),1500))}),500),dh.maximizeWindow(e),this.state.maximize(e,(function(){i._initAssistantSub=i.authenticationService.authorize(i.chatConfig.sessionToken).pipe(K((function(){return i._initConsent(i.chatConfig.virtualAssistantId)})),K((function(){return i.chatStore.postChat({platform:t,type:e,origin:i.chatConfig.origin,url:i.chatConfig.clientUrl,intentionOrigin:n})})),nh((function(){i.cd.detectChanges()}))).subscribe({next:function(t){i.apicAnswered=!0,dh.openChat(e),i.state.setChat(e,t),t.responses.forEach((function(e){return i.irccMessageService.notifyMessage(e)})),i.oneSecondPassed&&(i.displayLoaderView=!1,i.displayEmptyView=!1),i.startTutorial=!0,i.cd.detectChanges()},error:function(e){i.showError("ERROR.CONNECTION-ERROR"),console.log("startChat error",e),i.oneSecondPassed&&(i.displayLoaderView=!1,i.displayEmptyView=!1,i.cd.detectChanges())}})}))):(this.state.setChat(e,new Eh({type:uh.genesys})),this._initConsentGenesys())},e.prototype._initConsentGenesys=function(){var e=this;this.platformStore.retrieveGenesysGdpr().subscribe({next:function(t){e.state.setConsent(uh.genesys,t),t&&!t.hasAccepted?(e.comingFromEscalation||e.state.showConsent(uh.genesys),dh.openChat(uh.genesys),e.state.maximize(uh.genesys)):e.onAcceptTermsGenesys(t)}})},e.prototype.cancelCloseModal=function(){this.displayClosingModal=!1,this.cd.detectChanges()},e.prototype.confirmCloseModal=function(){dh.endChat(),this.displayClosingModal=!1,this.closeChat(uh.genesys),this.closeGenesysAfterEscalation(),this.cd.detectChanges(),this.scrollingService.scrollToBottom()},e.prototype.reduceIrcc=function(){dh.reduceWindow(uh.ircc),this.exitIrcc()},e.prototype.clickIrccTopCross=function(){dh.clickTopCross(uh.ircc),this.exitIrcc()},e.prototype.exitIrcc=function(){var e=this;this.state.minimize(uh.ircc,(function(){e.startTutorial=!1,e.cd.detectChanges()})),this.startTutorial=!1,this.cd.detectChanges()},e.prototype.clickGenesysTopCross=function(){dh.clickTopCross(uh.genesys),this.exitGenesys()},e.prototype.exitGenesys=function(){this.state.isConsentDisplayed(uh.genesys)||!this.state.userConsent&&!this.comingFromEscalation?(this.closeChat(uh.genesys),this.closeGenesysAfterEscalation()):this.displayClosingModal=!0,this.cd.detectChanges()},e.prototype.closeGenesysAfterEscalation=function(){this.comingFromEscalation&&(this.state.setComingFromEscalation(uh.genesys,!1),this.comingFromEscalation=!1)},e.prototype.minimizeGenesys=function(){dh.reduceWindow(uh.genesys),this.state.minimize(uh.genesys),this.cd.detectChanges()},e.prototype.clickSettings=function(e){dh.clickSettings(e),this.state.toggleSettings(e),this.scrollingService.scrollToBottom(),this.cd.detectChanges()},e.prototype.onGdprSettingAccepted=function(e){this.state.setConsent(uh.ircc,e),this.state.hideSettings(uh.ircc),this.scrollingService.scrollToBottom(),this.cd.detectChanges()},e.prototype.onGdprSettingRejected=function(e){this.state.setConsent(uh.ircc,e),this.state.minimize(uh.ircc),this.cd.detectChanges()},e.prototype.onGdprSettingAcceptedGenesys=function(e){this.state.setConsent(uh.genesys,e),this.state.hideSettings(uh.genesys),this.cd.detectChanges()},e.prototype.onGdprSettingRejectedGenesys=function(e){this.state.setConsent(uh.genesys,e),this.state.hideSettings(uh.genesys),this.closeChat(uh.genesys),this.cd.detectChanges()},e.prototype.clickSettingsGenesys=function(){this.state.isMinimized(uh.genesys)?(this.state.maximize(uh.genesys),this.state.showSettings(uh.genesys)):this.state.toggleSettings(uh.genesys),this.cd.detectChanges()},e.prototype.onAcceptTermsGenesys=function(e,t,n,i,r,o){var s=this;e&&this.state.setConsent(uh.genesys,e),o&&(this.configureGenesysButton(),this.state.setComingFromEscalation(uh.genesys,o),this.comingFromEscalation=o),this.authenticationService.authorize(this.chatConfig.sessionToken).pipe(K((function(){return s.chatStore.postChat({intentionOrigin:n,platform:t||s.chatConfig.platform,type:uh.genesys,origin:s.chatConfig.origin,url:s.chatConfig.clientUrl,mocaId:i,conversationId:r})})),nh((function(){s.cd.detectChanges()}))).subscribe({next:function(e){s.state.hideConsent(uh.genesys),s.state.setChat(uh.genesys,e),dh.openChat(uh.genesys),s.state.maximize(uh.genesys,(function(){o&&s.state.minimize(uh.ircc)}))},error:function(e){s.showError("ERROR.CONNECTION-ERROR"),console.log("startChat error",e)}})},e.prototype._checkTokenAndChatList$=function(e){var t=this;return null==this.sessionService.tokenCookie()?gp([]):this.authenticationService.tokenIsValid(e).pipe(K((function(n){if(n.isValid){var i=gp(null);return!n.isAuthenticated&&t.isLogin&&(i=t.authenticationStore.addIdSesToAuth(e)),i.pipe(K((function(){return t.chatStore.chatList()})))}return t.sessionService.deleteTokenCookie(),gp([])})))},e.prototype._initConsent=function(e){var t=this;return this.platformStore.latestUserConsent(this.chatConfig.isAuthenticated,e).pipe(oh((function(e){if(null==e)return t.displayConsent=!1,null;t.state.setConsent(uh.ircc,e);var n=new Date,i=new Date(n.setMonth(n.getMonth()-6));return null==e.acceptedDate||new Date(e.acceptedDate)<i?t.displayConsent=!0:!1===e.hasAccepted&&t.state.showSettings(uh.ircc),t._displayTutorial(),e})))},e.prototype._displayTutorial=function(){this.displayConsent&&this.isIrccTutorialEnabled&&(this.state.hideConsent(uh.ircc),this.state.showTutorial(uh.ircc))},e.prototype.onFinishtutorial=function(){this.state.hideTutorial(uh.ircc),this.state.showConsent(uh.ircc)},e.prototype.onAcceptTerms=function(e){this.displayConsent=!1,this.state.setConsent(uh.ircc,e),this.state.hideConsent(uh.ircc),this.state.hideTutorial(uh.ircc),this.cd.detectChanges()},e.prototype.onRejectTerms=function(e){this.startTutorial=!1,this.state.minimize(e),this.cd.detectChanges()},e.prototype.closeChat=function(e){var t,n=this,i=this.state.chat(e);(null===(t=i)||void 0===t?void 0:t.status)!==Th.closed&&this.chatStore.patchChat(i.id,Th.closed).subscribe(),e===uh.genesys&&this.comingFromEscalation?this.state.maximize(uh.ircc,(function(){n.cd.detectChanges(),n.hideChat(e,!0)})):this.hideChat(e,!1)},e.prototype.hideChat=function(e,t){var n=this,i=this.chatConfig[e+"Config"].defaultDisplay;null!=i&&i!=gh.minimized?this.state.setDefaultDisplay(e):this.state.minimize(e),this.state.setChat(e,null),this.cd.detectChanges(),this.state.hideSettings(e),this.errorMessageKey=null,e===uh.genesys&&t&&this.state.maximize(uh.ircc,(function(){n.cd.detectChanges()})),this.cd.detectChanges()},e.prototype.showError=function(e){this.errorMessageKey=e,this.cd.detectChanges()},e.prototype._handleGenesysAvailability=function(e){var t=this;if(e)return this._initConsentGenesys(),void this.configureGenesysButton();this.chatConfig.genesysConfig.isEnabled&&this.chatConfig.genesysConfig.canBeInitiated&&this.platformStore.genesysAvailable(this.chatConfig.platform,this.chatConfig.userTypology,this.chatConfig.allowedWaitingTime).subscribe((function(e){t.configureGenesysButton(),window.msgsChat.chatState={chatGenesysAvailable:e},e&&t.state.setDefaultDisplay(uh.genesys),t.cd.detectChanges()}))},e.prototype.configureGenesysButton=function(){var e=this;setTimeout((function(){var t="msgs-animate-ircc-logo-";e.chatConfig.sessionToken&&(t+=e.chatConfig.sessionToken.substring(0,16));var n="ircc__stickers-conseiller-open";null==sessionStorage.getItem(t)&&(sessionStorage.setItem(t,JSON.stringify(!1)),n+="-anim"),e.genesysOpeningClass=n,e.cd.markForCheck()}),500)},e.prototype.assistantEnabled=function(){return!0===this.chatConfig.virtualAssistantConfig.isEnabled?this.platformStore.virtualAssistantAvailable(this.chatConfig.virtualAssistantId):gp(!1)},e.prototype._handleAssistantAvailability=function(e,t){var n=this;e&&(this.setIrccOpeningClass(),t?(this.irccMessageService.retrieveMessageList(),this._initConsent(this.chatConfig.virtualAssistantId).subscribe(),!0===this.isLogin&&this.chatStore.updatePlatform(this.state.chat(uh.ircc).id,this.chatConfig.virtualAssistantId).subscribe((function(){n.state.minimize(uh.ircc),n.cd.detectChanges()})),this.state.minimize(uh.ircc)):this.state.minimize(uh.ircc))},e.prototype.setIrccOpeningClass=function(){var e=this;setTimeout((function(){var t="msgs-animate-ircc-logo-";e.chatConfig.sessionToken&&(t+=e.chatConfig.sessionToken.substring(0,16)),null==sessionStorage.getItem(t)&&sessionStorage.setItem(t,JSON.stringify(!1)),e.irccOpeningClass="ircc__stickers-ircc-open",e.cd.markForCheck()}),500)},e.prototype._setGlobalsElements=function(){var e=this;window.msgsChat.openGenesysChat=function(){!0===window.msgsChat.chatState.chatGenesysAvailable?e.startGenesys():console.log("Genesys chat is not available")}},e.ɵfac=function(t){return new(t||e)(ws(jh),ws(Rh),ws(Go),ws(Nh),ws(Fh),ws(Uh),ws(zh),ws(Kh),ws(Vh),ws(rf),ws(sf),ws(yf))},e.ɵcmp=_t({type:e,selectors:[["ei-msgs-chat"]],decls:1,vars:1,consts:[["id","ei-chat-main",3,"class","ngClass",4,"ngIf"],["id","ei-chat-main",3,"ngClass"],[1,"ircc","ei_slide",3,"hidden","ngClass"],[1,"ircc__stickers"],["aria-controls","ei-chat-main",3,"class","title","click",4,"ngIf"],[1,"ircc__app"],[1,"ei_ircc"],[1,"ei_ircc--pin"],[1,"ei_ircc__assistant"],[1,"ei_rgpd",3,"title","hidden","click"],["role","button"],[1,"reduce",3,"title","click"],["role","button","aria-controls","ei-chat-main"],[1,"close",3,"title","click"],[3,"displayEmptyView"],[3,"displayLoaderView"],[3,"chatType","userConsent","gdprAccepted","gdprRejected",4,"ngIf"],[3,"hidden","chat","close"],[3,"hidden","startTutorial","isTutorialEnabled","finishTutorial"],[3,"hidden","isConsentEnabled","termsVersionId","rejectTerms","acceptTermsSuccess"],[1,"conseiller__app"],[1,"ei_tchat-conseiller",3,"ngClass"],[1,"ei_tchat-conseiller--pin"],[1,"ei_ircc__conseiller"],[1,"ei-chat-content","ei-genesys-chat-content"],[4,"ngIf"],[3,"acceptTermsSuccess","rejectTerms",4,"ngIf"],["id","ei-msgs-chat-error","class","err",4,"ngIf"],[3,"cancelClose","confirmClose",4,"ngIf"],["aria-controls","ei-chat-main",3,"title","click"],[1,"ircc__trigger_picto",3,"ngClass"],[1,"picto_ircc"],[1,"irccbubble__dots"],[1,"irccbubble__dot","irccbubble__dot1"],[1,"irccbubble__dot","irccbubble__dot2"],[1,"irccbubble__dot","irccbubble__dot3"],[1,"picto_ircc_dots"],[1,"ircc__trigger_label"],[1,"ei_gly_chevron_droit",3,"ngClass"],[1,"picto_conseiller"],[3,"chatType","userConsent","gdprAccepted","gdprRejected"],[1,"ei-chat-view",3,"hidden","chat","close"],[3,"acceptTermsSuccess","rejectTerms"],["id","ei-msgs-chat-error",1,"err"],[3,"cancelClose","confirmClose"]],template:function(e,t){1&e&&Cs(0,qy,55,80,"div",0),2&e&&Ts("ngIf",t.hasLoaded)},directives:[xl,Kc,mf,Cf,Rg,ty,oy,cy,Ay,xy,My],pipes:[_f],encapsulation:2,changeDetection:0}),e}(),Wy=function(){function e(){}return e.ɵmod=Tt({type:e,id:"CarouselModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp]]}),e}(),Zy=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ConfigModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Nh],imports:[[]]}),e}(),Qy=function(){function e(){}return e.ɵmod=Tt({type:e,id:"TranslateModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Dh],imports:[[Zy]]}),e}(),Xy=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[Ll,Qy]]}),e}(),Jy=function(){function e(e){this.auth=e}return e.prototype.intercept=function(e,t){var n=this.auth.token,i=e;return e.url.indexOf("api-nc.e-i.com/apic_apichats")>=0&&(i=e.clone({headers:e.headers.set("Authorization",n)})),1==!!document.documentMode&&(i=i.clone({params:e.params.set("timestamp",Date.now().toString())})),t.handle(i)},e.ɵprov=ye({token:e,factory:e.ɵfac=function(t){return new(t||e)(et(jh))}}),e}(),$y=function(){function e(){}return e.ɵmod=Tt({type:e,id:"PlatformStoreModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Kh],imports:[[Zy,Qp]]}),e}(),ev=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ChatsOrchestratorModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Fh],imports:[[]]}),e}(),tv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"EntityConfigServiceModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[zh],imports:[[]]}),e}(),nv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"IrccMessageServiceModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[yf],imports:[[]]}),e}(),iv=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[sf],imports:[[Ll,Zy]]}),e}(),rv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"AliasResolverStoreModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[xf],imports:[[Zy]]}),e}(),ov=function(){function e(){}return e.ɵmod=Tt({type:e,id:"SettingsModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[rv,Zy,tv,bg,Qy,Ll,$y]]}),e}(),sv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"InputTextWatcherModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[dd],imports:[[]]}),e}(),av=function(){function e(){}return e.ɵmod=Tt({type:e,id:"EmojiPickerModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp,Zy]]}),e}(),uv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"AutoCompleteModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Cg],imports:[[Qp,Zy]]}),e}(),cv=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[Ll,uv]]}),e}(),lv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"InputBoxModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp,av,sv,bg,Qy,cv]]}),e}(),pv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"GenesysConsentViewModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[Ll,tv,$y,Qy]]}),e}(),hv=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[Ll,Qy]]}),e}(),fv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ChatUserStoreModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[_y],imports:[[Zy]]}),e}(),dv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"AuthenticationStoreModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Vh,Rh,jh],imports:[[Qy,Zy]]}),e}(),gv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ChatStoreModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Uh],imports:[[dv,Zy]]}),e}(),yv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ScrollingModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[rf],imports:[[]]}),e}(),vv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ChatMessageModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp,ev,bg,yv,Qy]]}),e}(),mv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ChatMessageListModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp,vv,yv,bg]]}),e}(),_v=function(){function e(){}return e.ɵmod=Tt({type:e,id:"ChatMessageStoreModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[Mf],imports:[[rv,Zy]]}),e}(),bv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"NotificationBoxModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp,bg,Qy]]}),e}(),Cv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"GenesysViewModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp,mv,vv,gv,_v,fv,tv,bg,Qp,lv,bv,yv,Qy]]}),e}(),wv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"IrccConsentViewModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[rv,pp,Zy,tv,Qy,$y]]}),e}(),Tv=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[Wy,Ll,Zy,tv,wv,$y,iv,Qy]]}),e}(),Ev=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[Ll,vv,Qy]]}),e}(),Sv=function(){function e(){}return e.ɵmod=Tt({type:e}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[Zy,Ll,Qy]]}),e}(),Iv=function(){function e(){}return e.ɵmod=Tt({type:e,id:"IrccViewModule"}),e.ɵinj=ve({factory:function(t){return new(t||e)},imports:[[pp,_v,mv,Ev,tv,Qp,lv,nv,Sv,bv,Qy]]}),e}(),Av=function(){function e(){}return e.ɵmod=Tt({type:e,bootstrap:[Ky]}),e.ɵinj=ve({factory:function(t){return new(t||e)},providers:[{provide:Vp,useClass:Jy,multi:!0}],imports:[[pp,Wy,ev,tv,Xy,pv,hv,Cv,lv,nv,Tv,Iv,$y,ov,iv,Qy,wv]]}),e}();document.addEventListener("DOMContentLoaded",(function(){if(window.msgsChatConfig.beforeLoadingConfig&&window.msgsChatConfig.beforeLoadingConfig.checkingRequired)var e=0,t=setInterval((function(){window.Zone&&(console.log("Check Zone"),fi(),dp().bootstrapModule(Av).catch((function(e){return console.error(e)})),clearInterval(t)),5==++e&&(console.log("End check main"),clearInterval(t))}),2e3);else setTimeout((function(){fi(),dp().bootstrapModule(Av).catch((function(e){return console.error(e)}))}),2e3)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);