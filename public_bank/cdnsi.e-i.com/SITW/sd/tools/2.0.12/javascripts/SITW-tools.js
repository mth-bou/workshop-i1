"use strict";var euConsentData={};initEuConsentData();function checkAndSetCookiesAcceptance(b,a){if(euConsentData.siteKey!==undefined){initEuConsentModal()}else{if(document.getElementById("ei_cookie")){old_checkAndSetCookiesAcceptance(b,a)}else{console.error("Configuration de modale de consentement non trouvÃ©e et html de l'ancien bandeau cookie inexistant.")}}}function openEuConsentModal(){euConsentData.cookie=getEuConsentCookie();buildEuConsentModal(euConsentData);OpenLB("cookieLB","cookieLBroot");$("#cookieLBmain").focus();if(typeof trackCustomEvent==="function"){trackCustomEvent("modal_displayed")}}function initEuConsentModal(){if(euConsentData.modalLock||(typeof DISABLE_EI_EU_CONSENT_MODAL!=="undefined"&&DISABLE_EI_EU_CONSENT_MODAL)){return}euConsentData.modalLock=true;if(typeof cookiePolicyLink==="undefined"){console.error("Variable cookiePolicyLink is not defined but required for consent modal.");window.cookiePolicyLink=""}if($("#euConsentManager").length){var c=document.getElementById("euConsentManager");var d=euConsentPageManagementBuild(euConsentData);if(isNotEmpty(d)){c.insertAdjacentHTML("beforeend",d)}}else{if(euConsentData.siteKey!=undefined){if(euConsentData.cookie["name"]&&isAcceptancePathInEuConsentCookie(euConsentData.content["sites"][euConsentData.siteKey]["acceptancePath"])){var b=new Date();var a=new Date(euConsentData.cookie["values"][euConsentData.content["sites"][euConsentData.siteKey]["acceptancePath"]]["expireDate"]);if(b.getTime()>a.getTime()){openEuConsentModal()}}else{openEuConsentModal()}}}}$(document).ready(initEuConsentModal);function initEuConsentData(){if(!euConsentData.lock&&(typeof DISABLE_EI_EU_CONSENT_MODAL==="undefined"||!DISABLE_EI_EU_CONSENT_MODAL)){euConsentData.lock=true;euConsentData.content=getEuConsentConfig();euConsentData.cookie=getEuConsentCookie();euConsentData.siteKey=getEuConsentSiteKey(euConsentData);euConsentData.updateCallbacks=[]}}function getEuConsentConfig(){var b;var a=new XMLHttpRequest();a.open("GET","/euConsentConfig.json",false);a.onload=function(d){if(this.status==200&&this.responseText!==""){try{b=JSON.parse(this.responseText)}catch(c){b={sites:{}};console.error("Le fichier euConsentConfig.json a une mauvaise syntaxe.",c)}}else{b={sites:{}};console.warn("Erreur : Le fichier de configuration n'est pas atteignable ou vide.")}};a.send();return b}function buildEuConsentModal(b){var a=$("#cookieLB");if(a.length===1){if(a.css("display")==="none"){a.remove()}else{return}}var c="";c+='<div id="cookieLB" class="a_blocappli masque ei_blocmodal_env ei_newlb">';c+='<div class="ei_blocmodal" role="alertdialog" aria-modal="true" aria-labelledby="cookieLBtitle" style="width:800px">';c+='<div class="a_blocfctltitre c" id="cookieLBtitle" role="heading" aria-level="1">';c+="<span tabindex=\"0\" onfocus=\"$('#cookieLB').find('button, a, input, select, textarea').filter(':visible').focus();\" role=\"presentation\">&#160;</span>";c+=b.content["sites"][b.siteKey]["img"]!=undefined?b.content["sites"][b.siteKey]["img"]:"";c+='<p class="a_titre2">'+b.content["sites"][b.siteKey]["title"]+"</p>";c+="</div>";c+='<div class="a_blocfctl" id="cookieLBroot">';c+='<div id="cookieLBcontent">';c+='<div id="cookieLBmain" tabindex="-1">';c+="<p>"+b.content["sites"][b.siteKey]["intro1"]+"</p>";c+="<p>"+b.content["sites"][b.siteKey]["intro2"]+"</p>";if(isNotEmpty(b.content["sites"][b.siteKey]["intro3"])){c+="<p>"+b.content["sites"][b.siteKey]["intro3"]+"</p>"}c+="</div>";c+='<div id="cookieLBadvanced" class="masque" hidden="hidden">';c+=buildEuConsentModalFamilies(b);c+="</div>";c+="</div>";c+='<div class="blocboutons">';c+='<div id="cookieLBmainbuttons">';c+='<span class="ei_buttonbar">';c+='<span class="ei_mainbuttons">';c+='<span class="ei_button">';c+='<a class="ei_btn ei_btn_typ_validate" href="#" role="button" onclick="CloseLB(\'cookieLB\'); validateEuConsent(\'consent_all\'); return false;" onkeyup="if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); this.click(); }">';c+='<span class="ei_btn_body">';c+='<span class="ei_btn_tlcorn"></span>';c+='<span class="ei_btn_label">'+b.content["sites"][b.siteKey]["btnAccept"]+"</span>";c+='<span class="ei_iblock ei_btn_pic" aria-hidden="true">&nbsp;</span>';c+="</span>";c+='<span class="ei_btn_footer">';c+='<span class="ei_btn_blcorn"></span>';c+="</span>";c+="</a>";c+="</span>";c+="</span>";if(!(b.content.sites[b.siteKey].hideBtnDeny!==undefined&&b.content.sites[b.siteKey].hideBtnDeny===true)){c+='<span class="ei_button">';c+='<a class="ei_btn ei_btn_fn_forward" href="#" role="button" onclick="CloseLB(\'cookieLB\'); validateEuConsent(\'forbid_all\'); return false;" onkeyup="if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); this.click(); }">';c+='<span class="ei_btn_body">';c+='<span class="ei_btn_tlcorn"></span>';c+='<span class="ei_btn_label">'+b.content["sites"][b.siteKey]["btnDeny"]+"</span>";c+='<span class="ei_iblock ei_btn_pic" aria-hidden="true">&nbsp;</span>';c+="</span>";c+='<span class="ei_btn_footer">';c+='<span class="ei_btn_blcorn"></span>';c+="</span>";c+="</a>";c+="</span>"}c+="</span>";c+="<p>";c+="<a href=\"#\" role=\"button\" onclick=\"$('#cookieLBmainbuttons,#cookieLBmain').addClass('masque').attr('hidden','hidden'); $('#cookieLBadvancedbuttons,#cookieLBadvanced').removeClass('masque').removeAttr('hidden'); $('#cookieLB').find('[role=&quot;group&quot;][data-family] .ei_titletext').filter(':visible').eq(0).focus(); $('#cookieLB .ei_blocmodal').css('top','5%'); if (typeof trackCustomEvent === 'function') {trackCustomEvent('modal_setup');} return false;\" onkeyup=\"if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); this.click(); }\">"+b.content["sites"][b.siteKey]["linkSettings"]+"</a>";c+="</p>";c+="<p>";c+='<a href="'+cookiePolicyLink+"\" onclick=\"if (typeof trackCustomEvent === 'function') {trackCustomEvent('modal_cookie_policy');}\" >"+b.content["sites"][b.siteKey]["consultPolicyText"]+"</a>";c+="</p>";c+="</div>";c+='<span class="masque" id="cookieLBadvancedbuttons" hidden="hidden">';c+='<span class="ei_buttonbar">';c+='<span class="ei_mainbuttons">';c+='<span class="ei_button">';c+='<a class="ei_btn ei_btn_typ_validate" href="#" role="button" onclick="if(CheckRadios()){CloseLB(\'cookieLB\'); validateEuConsent(\'custom_consent\');} return false;" onkeyup="if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); this.click(); }">';c+='<span class="ei_btn_body">';c+='<span class="ei_btn_tlcorn"></span>';c+='<span class="ei_btn_label">'+b.content["sites"][b.siteKey]["btnValidate"]+"</span>";c+='<span class="ei_iblock ei_btn_pic" aria-hidden="true">&nbsp;</span>';c+="</span>";c+='<span class="ei_btn_footer">';c+='<span class="ei_btn_blcorn"></span>';c+="</span>";c+="</a>";c+="</span>";c+="</span>";c+='<span class="ei_button">';c+="<a class=\"ei_btn ei_btn_typ_back\" href=\"#\" role=\"button\" onclick=\"$('#cookieLBmainbuttons,#cookieLBmain').removeClass('masque').removeAttr('hidden'); $('#cookieLBadvancedbuttons,#cookieLBadvanced').addClass('masque').attr('hidden','hidden'); $('#cookieLBmain').focus(); $('#cookieLB .ei_blocmodal').css('top', $('#cookieLB .ei_blocmodal').outerHeight() >= $(window).height ? '0' : 'calc(50% - (' + $('#cookieLB .ei_blocmodal').outerHeight() + 'px / 2))'); return false;\" onkeyup=\"if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); this.click(); }\" onkeydown=\"if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); }\" onkeypress=\"if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); }\">";c+='<span class="ei_btn_body">';c+='<span class="ei_btn_tlcorn"></span>';c+='<span class="ei_btn_label">'+b.content["sites"][b.siteKey]["btnReturn"]+"</span>";c+='<span class="ei_iblock ei_btn_pic" aria-hidden="true">&nbsp;</span>';c+="</span>";c+='<span class="ei_btn_footer">';c+='<span class="ei_btn_blcorn"></span>';c+="</span>";c+="</a>";c+="</span>";c+="</span>";c+="</span>";c+="</div>";c+="</div>";c+='<span tabindex="0" onfocus="$(\'#cookieLB\').find(\'button, a, input, select, textarea\').filter(\':visible\').eq(0).focus();" role="presentation" class="invisible">&#160;</span>';c+="</div>";c+="</div>";document.body.insertAdjacentHTML("beforeend",c)}function buildEuConsentModalFamilies(a){var b="";b+='<p class="bloctxt">'+a.content["sites"][a.siteKey]["intro4"]+"</p>";b+='<p class="fd">';b+='<span class="oblig">*</span>'+a.content["sites"][a.siteKey]["requiredFieldsText"];b+="</p>";$.each(a.content["sites"][a.siteKey]["cookieFamilies"],function(c,d){if(c==="essentials"){return}b+='<div class="ei_gpblock ei_gpblock_input" role="group" aria-labelledby="'+c+'Title" data-family="'+c+'">';b+='<div class="ei_gpblock_header">';b+='<div class="ei_titleblock">';b+='<div class="ei_titlecontent">';b+='<div class="ei_titlelabelsblock">';b+='<div class="ei_titlelabel">';b+='<p class="ei_titletext" id="'+c+'Title" role="heading" aria-level="2" tabindex="-1">'+d.name+"</p>";b+="</div>";b+='<div class="ei_subtitlelabel">';b+="<p>"+d.description+"</p>";b+="</div>";b+="</div>";b+="</div>";b+="</div>";b+="</div>";$.each(d.solutions,function(i,e){var h="";var f="";var j=0;var g=0;if(e.checkedByDefault===true||e.exemptedFromPriorConsent===true){h="ei_selected";j=1}if(a.cookie["name"]){var k=getCookieValueFromUrl();if(euConsentData.cookie["values"][k]!=undefined){if(euConsentData.cookie["values"][k]["solutions"][i]===true){h="ei_selected";j=1;f="";g=0}else{h="";j=0;f="ei_selected";g=1}}}b+='<div class="ei_gpblock_body" data-solution="'+i+'">';b+='<div class="ei_gpblock">';b+='<div class="ei_gpblock_header">';b+='<div class="ei_titlelabel">';b+='<p class="ei_titletext" id="'+i+'Lbl" role="heading" aria-level="3">'+e.name+'<span class="oblig" Title="'+a.content["sites"][a.siteKey]["requiredFieldsText"]+'">*</span></p>';b+="</div>";b+="</div>";b+='<div class="ei_gpblock_body">';if(e.policy){b+='<p class="doux">'+e.description+'</br><a href="'+e.policy["href"]+'" target="_blank" rel="noopener" title="'+e.policy["name"]+" ("+a.content["sites"][a.siteKey]["newWindow"]+')">'+e.policy["name"]+".</a></p>"}else{b+='<p class="doux">'+e.description+"</p>"}if(c!="essentials"){b+='<div class="ei_richrbgroup ei_richrbgroup_slice ei_richrbgroup_inclab" role="radiogroup" aria-labelledby="'+i+'Lbl">';b+='<div class="ei_richrb ei_richrb_but_hidden '+h+'" onclick="$(\'#'+i+"_cookie_Ok')[0].checked = true; $(this).addClass('ei_selected').removeClass('err'); $('#"+i+"_cookie_Ko').parent().removeClass('ei_selected err'); $('#"+i+"_cookie_Ko').attr('value', '0'); $('#"+i+"_cookie_Ok').attr('value', '1'); $('#"+i+"_error').addClass('ei_js_hidden').find('span.ei_errloc>strong').html('');\">";b+='<input name="radio_'+i+'" class="ei_richrb_button" id="'+i+'_cookie_Ok" type="radio" value="'+j+'" onfocus="$(this).parent().addClass(\'ei_richrb-focus\');" onblur="$(this).parent().removeClass(\'ei_richrb-focus\'); " aria-describedby="'+i+'_error" />';b+='<label class="ei_richrb_label" onclick="event.stopPropagation();" for="'+i+'_cookie_Ok">'+a.content["sites"][a.siteKey]["btnAccept"]+"</label>";b+="</div>";b+='<div class="ei_richrb ei_richrb_but_hidden '+f+'" onclick="$(\'#'+i+"_cookie_Ko')[0].checked = true; $(this).addClass('ei_selected').removeClass('err'); $('#"+i+"_cookie_Ok').parent().removeClass('ei_selected err'); $('#"+i+"_cookie_Ok').attr('value', '0'); $('#"+i+"_cookie_Ko').attr('value', '1'); $('#"+i+"_error').addClass('ei_js_hidden').find('span.ei_errloc>strong').html('');\">";b+='<input name="radio_'+i+'" class="ei_richrb_button" id="'+i+'_cookie_Ko" type="radio" value="'+g+'" onfocus="$(this).parent().addClass(\'ei_richrb-focus\');" onblur="$(this).parent().removeClass(\'ei_richrb-focus\');" aria-describedby="'+i+'_error" />';b+='<label class="ei_richrb_label" onclick="event.stopPropagation();" for="'+i+'_cookie_Ko">'+a.content["sites"][a.siteKey]["btnDeny"]+"</label>";b+="</div>";b+="</div>"}b+='<div class="nof"></div>';b+='<span class="ei_errlst ei_js_hidden" id="'+i+'_error">';b+='<span class="ei_errloc"><strong></strong></span>';b+="</span>";b+="</div>";b+="</div>";b+="</div>"});b+="</div>"});return b}function validateEuConsent(a){var b={};var g="";if(euConsentData.content["sites"][euConsentData.siteKey]==undefined){g=getEuConsentCookie().acceptancePath}else{g=euConsentData.content["sites"][euConsentData.siteKey]["acceptancePath"]}if(a=="consent_all"){var f=document.querySelectorAll('[id$="_cookie_Ok"]');$.each(f,function(i,k){var j=k.id.replace("_cookie_Ok","");b[j]=true});if(typeof(trackCustomEvent)!="undefined"){trackCustomEvent("consent_all")}b.acceptancePath=g;var c=new Date();c.setMonth(c.getMonth()+6);b.consentDateISOString=c.toISOString();b.consentDateUTCString=c.toUTCString();saveEuConsentCookie(b);euConsentData.updateCallbacks.forEach(function(i){i()})}else{if(a=="forbid_all"){var e=document.querySelectorAll('[id$="_cookie_Ko"]');$.each(e,function(i,k){var j=k.id.replace("_cookie_Ko","");b[j]=false});var h;for(h in euConsentData.content.sites[euConsentData.siteKey].cookieFamilies){var d;for(d in euConsentData.content.sites[euConsentData.siteKey].cookieFamilies[h].solutions){if(euConsentData.content.sites[euConsentData.siteKey].cookieFamilies[h].solutions[d].exemptedFromPriorConsent===true){b[d]=true}}}b.acceptancePath=g;var c=new Date();c.setMonth(c.getMonth()+6);b.consentDateISOString=c.toISOString();b.consentDateUTCString=c.toUTCString();saveEuConsentCookie(b);if(typeof trackCustomEvent==="function"){trackCustomEvent("consent_none")}euConsentData.updateCallbacks.forEach(function(i){i()})}else{if(a=="custom_consent"){var f=document.querySelectorAll('[id$="_cookie_Ok"]');$.each(f,function(i,l){var k="";var j=l.id.replace("_cookie_Ok","");if(document.getElementById(l.id).getAttribute("value")==1){b[j]=true;if(typeof(trackCustomEvent)!="undefined"){trackCustomEvent("consent_"+j)}}else{b[j]=false}});b.acceptancePath=g;var c=new Date();c.setMonth(c.getMonth()+6);b.consentDateISOString=c.toISOString();b.consentDateUTCString=c.toUTCString();saveEuConsentCookie(b);euConsentData.updateCallbacks.forEach(function(i){i()})}}}$("body").focus()}function getEuConsentCookie(){var b={};if(isNotEmpty(document.cookie)){var a=document.cookie;if(a.indexOf("eu-consent")>=0){a=document.cookie.split(";");var f="";$.each(a,function(e,g){if(g.indexOf("eu-consent")>=0){f=e}});if(f===""){return b}else{var d=a[f];d=d.split("=")[1];try{d=JSON.parse(d)}catch(c){if(c instanceof SyntaxError){console.error("Syntaxe json dans eu-consent non reconnue ou cookie vide.");return b}else{throw c}}if(d!=undefined){b.name="eu-consent";b.values=d}}}}return b}function saveEuConsentCookie(b){var h="";var c=b.consentDateISOString;delete b.consentDateISOString;var e=b.consentDateUTCString;delete b.consentDateUTCString;var g=b.acceptancePath;delete b.acceptancePath;var d={};d[g]={solutions:{},expireDate:c};d[g]["solutions"]=b;var f=getEuConsentCookie();if(f.hasOwnProperty("name")){if(f.values[g]!=undefined){f.values[g]=d[g];var a=JSON.stringify(f.values);f="eu-consent=";f+=a;f+=";expires="+e;f+=";path=/";f+=";secure";f+=";sameSite=Lax;";document.cookie=f}else{f.values[g]=d[g];var a=JSON.stringify(f.values);f="eu-consent=";f+=a;f+=";expires="+e;f+=";path=/";f+=";secure";f+=";sameSite=Lax;";document.cookie=f}}else{var f="eu-consent=";f+=JSON.stringify(d);f+=";expires="+e;f+=";path=/";f+=";secure";f+=";sameSite=Lax;";document.cookie=f}if($("#modalMsgOk").length){$("#modalMsgOk").css("display","block").removeAttr("hidden")}euConsentRemoveOtherCookie(b)}function euConsentRemoveOtherCookie(b){var a=[];$.each(b,function(e,d){if(d===false){$.each(euConsentData.content["sites"][euConsentData.siteKey]["cookieFamilies"],function(g,f){if(f.solutions[e]!=undefined){$.each(f.solutions[e]["cookies"],function(h,i){a.push(i)})}})}});var c=new Date();c.setMonth(c.getMonth()-6);c=c.toUTCString();$.each(a,function(e,d){var f=d+"=";f+="";f+=";expires="+c;f+=";path=/;";f+="sameSite=Lax;";document.cookie=f})}function isAcceptancePathInEuConsentCookie(a){return Object.keys(euConsentData.cookie["values"]).indexOf(a)!=-1}function getEuConsentSiteKey(c){var d="";var b=window.location.pathname;var e=[];$.each(c.content["sites"],function(g,f){if(b.indexOf(g)==0){e.push(g)}});if(e.length==0){console.warn("Aucun chemin ne correspond entre l'url courante et le fichier de configuration.")}var a=e.sort(function(g,f){return f.length-g.length});return a[0]}function euConsentPageManagementBuild(a){var c="";var b=euConsentData.siteKey;if(b!=undefined){c+='<p class="bloctxt">'+a.content["sites"][b]["intro4"]+"</p>";c+='<p class="fd">';c+='<span class="oblig">*</span>'+a.content["sites"][a.siteKey]["requiredFieldsText"];c+="</p>";$.each(a.content["sites"][b]["cookieFamilies"],function(e,d){c+='<div class="ei_gpblock ei_gpblock_input" role="group" aria-labelledby="'+e+'Title" data-family="'+e+'">';c+='<div class="ei_gpblock_header">';c+='<div class="ei_titleblock">';c+='<div class="ei_titlecontent">';c+='<div class="ei_titlelabelsblock">';c+='<div class="ei_titlelabel">';c+='<p class="ei_titletext" id="'+e+'Lbl" role="heading" aria-level="3">'+d.name+"</p>";c+="</div>";c+='<div class="ei_subtitlelabel">';c+="<p>"+d.description+"</p>";c+="</div>";c+="</div>";c+="</div>";c+="</div>";c+="</div>";$.each(d.solutions,function(j,f){var i="";var g="";var k=0;var h=0;if(f.checkedByDefault===true||f.exemptedFromPriorConsent===true){i="ei_selected";k=1}if(a.cookie["name"]){var l=getCookieValueFromUrl();if(euConsentData.cookie["values"][l]!=undefined){if(euConsentData.cookie["values"][l]["solutions"][j]===true){i="ei_selected";k=1;g="";h=0}else{i="";k=0;g="ei_selected";h=1}}}c+='<div class="ei_gpblock_body" data-solution="'+j+'">';c+='<div class="ei_gpblock">';c+='<div class="ei_gpblock_header">';c+='<div class="ei_titlelabel">';if(e=="essentials"){c+='<p class="ei_titletext" id="'+j+'Lbl" role="heading" aria-level="4">'+f.name+"</p>"}else{c+='<p class="ei_titletext" id="'+j+'Lbl" role="heading" aria-level="4">'+f.name+'<span class="oblig" Title="'+a.content["sites"][b]["requiredFieldsText"]+'">*</span></p>'}c+="</div>";c+="</div>";c+='<div class="ei_gpblock_body">';if(f.policy){c+='<p class="doux">'+f.description+' <a href="'+f.policy["href"]+'" target="_blank" rel="noopener" title="'+f.policy["name"]+" ("+a.content["sites"][b]["newWindow"]+')">'+f.policy["name"]+".</a></p>"}else{c+='<p class="doux">'+f.description+"</p>"}if(e!="essentials"){c+='<div class="ei_richrbgroup ei_richrbgroup_slice ei_richrbgroup_inclab" role="radiogroup" aria-labelledby="'+j+'Lbl">';c+='<div class="ei_richrb ei_richrb_but_hidden '+i+'" onclick="$(\'#'+j+"_cookie_Ok')[0].checked = true; $(this).addClass('ei_selected').removeClass('err'); $('#"+j+"_cookie_Ko').parent().removeClass('ei_selected err'); $('#"+j+"_cookie_Ko').attr('value', '0'); $('#"+j+"_cookie_Ok').attr('value', '1'); $('#"+j+"_error').addClass('ei_js_hidden').find('span.ei_errloc>strong').html('');\">";c+='<input name="radio_'+j+'" class="ei_richrb_button" id="'+j+'_cookie_Ok" type="radio" value="'+k+'" onfocus="$(this).parent().addClass(\'ei_richrb-focus\');" onblur="$(this).parent().removeClass(\'ei_richrb-focus\'); " aria-describedby="'+j+'_error" />';c+='<label class="ei_richrb_label" onclick="event.stopPropagation();" for="'+j+'_cookie_Ok">'+a.content["sites"][b]["btnAccept"]+"</label>";c+="</div>";c+='<div class="ei_richrb ei_richrb_but_hidden '+g+'" onclick="$(\'#'+j+"_cookie_Ko')[0].checked = true; $(this).addClass('ei_selected').removeClass('err'); $('#"+j+"_cookie_Ok').parent().removeClass('ei_selected err'); $('#"+j+"_cookie_Ok').attr('value', '0'); $('#"+j+"_cookie_Ko').attr('value', '1'); $('#"+j+"_error').addClass('ei_js_hidden').find('span.ei_errloc>strong').html('');\">";c+='<input name="radio_'+j+'" class="ei_richrb_button" id="'+j+'_cookie_Ko" type="radio" value="'+h+'" onfocus="$(this).parent().addClass(\'ei_richrb-focus\');" onblur="$(this).parent().removeClass(\'ei_richrb-focus\');" />';c+='<label class="ei_richrb_label" onclick="event.stopPropagation();" for="'+j+'_cookie_Ko">'+a.content["sites"][b]["btnDeny"]+"</label>";c+="</div>";c+="</div>"}c+='<div class="nof"></div>';c+='<span class="ei_errlst ei_js_hidden" id="'+j+'_error">';c+='<span class="ei_errloc"><strong></strong></span>';c+="</span>";c+="</div>";c+="</div>";c+="</div>"});c+="</div>"});c+='<div class="bloctxt succes" id="modalMsgOk" style="display: none;" hidden="hidden">';c+="<p> "+a.content["sites"][b]["msgOkValidate"]+" </p>";c+="</div>";c+='<div class="blocboutons">';c+='<span id="cookieLBadvancedbuttons">';c+='<span class="ei_buttonbar">';c+='<span class="ei_mainbuttons">';c+='<span class="ei_button">';c+='<a class="ei_btn ei_btn_typ_validate" href="#" role="button" onclick="if(CheckRadios()){validateEuConsent(\'custom_consent\');} return false;" onkeyup="if(event.keyCode==13 || event.keyCode==32){ event.preventDefault(); event.stopPropagation(); this.click(); }">';c+='<span class="ei_btn_body">';c+='<span class="ei_btn_tlcorn"></span>';c+='<span class="ei_btn_label">'+a.content["sites"][b]["btnValidate"]+"</span>";c+='<span class="ei_iblock ei_btn_pic" aria-hidden="true">&nbsp;</span>';c+="</span>";c+='<span class="ei_btn_footer">';c+='<span class="ei_btn_blcorn"></span>';c+="</span>";c+="</a>";c+="</span>";c+="</span>";c+="</span>";c+="</span>";c+="</div>"}return c}function CheckRadios(){var a=true;(isNotEmpty(document.getElementById("euConsentManager"))?$("#euConsentManager"):$("#cookieLB")).find(".ei_richrbgroup").each(function(c,e){if($(e).find(".ei_selected").length<=0){if(a){$(e).find("input")[0].focus()}a=false;$(e).children(".ei_richrb").addClass("err");var d=$(e).closest("[data-family]").data("family");var b=$(e).closest("[data-solution]").data("solution");$("#"+b+"_error").find("span.ei_errloc>strong").html(euConsentData.content["sites"][euConsentData.siteKey]["msgErrorValidate"]+" "+euConsentData.content["sites"][euConsentData.siteKey]["cookieFamilies"][d]["solutions"][b]["name"]);$("#"+b+"_error").removeClass("ei_js_hidden")}});return a}function isNotEmpty(a){switch(a){case"":case 0:case"0":case null:case false:case typeof(a)=="undefined":return false;default:return true}}function getCookieValueFromUrl(){var a=[];$.each(euConsentData.cookie["values"],function(e,d){a.push(e)});var c=euConsentData.content["sites"][euConsentData.siteKey]["acceptancePath"];var b=[];if(a.indexOf(c)>=0){b=c}return b}function euConsentOnUpdate(a){euConsentData.updateCallbacks.push(a)}function isSolutionAccepted(a){try{return getEuConsentCookie().values[euConsentData.content["sites"][euConsentData.siteKey]["acceptancePath"]].solutions[a]===true}catch(b){if(b instanceof TypeError){if(!euConsentData.siteKey){return false}var c;for(c in euConsentData.content.sites[euConsentData.siteKey].cookieFamilies){if(euConsentData.content.sites[euConsentData.siteKey].cookieFamilies[c].solutions[a]&&euConsentData.content.sites[euConsentData.siteKey].cookieFamilies[c].solutions[a].exemptedFromPriorConsent===true){return true}}return false}else{throw b}}}var cookiesBlocked=false;function setCookie(b,g,d,e){var f=new Date();f.setTime(f.getTime()+(d*24*60*60*1000));var a="expires="+f.toUTCString();var c=b+"="+g+"; "+a;if(typeof(e)!=="undefined"){c+=";path="+e}c+=";secure";if(cookiesBlocked){enableCookies(false)}document.cookie=c;if(cookiesBlocked){disableCookies(false)}}function getCookie(b){var a=document.cookie.split(";");var e=b+"=";for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function disableCookies(a){}function enableCookies(a){}function getCookieI14(a){a+="EQU";var c=getCookie("I14wirt");if(c!==null){c=c.split("SEP");for(var b=0;b<c.length;b++){if(c[b].substr(0,a.length)==a){var d=c[b].split("EQU");break}}if(typeof(d)!=="undefined"){return d[1]}}return null}function getEspace(){return getCookieI14("EIESP")}function getEspaceClientReconnu(){return getCookieI14("EICR")}function getMarche(){return getCookieI14("MARCHE")}function getFede(){return getCookieI14("FEDE")}function getOldFede(){return getCookieI14("OLDFEDE")}function getSousMarche(){return getCookieI14("SSMARCHE")}function setCommonInfo(d,e){var b=getCookie("eiCommonInfo"),c=b?JSON.parse(b):{};c[d]=e;var a=JSON.stringify(c);setCookie("eiCommonInfo",a,30*6,"/")}function getCommonInfo(c){var a=getCookie("eiCommonInfo");var b=JSON.parse(a);if(a!==null&&typeof(b)!=="undefined"&&typeof(b[c])!=="undefined"){return b[c]}return null}function getImmo(){return getCommonInfo("eiol")}function areCookiesAccepted(){return getCookie("cookies_accepted")==1?true:false}function setLogoLink(){var d=document.getElementById("ei_tpl_logo");if(d!=null){var c=d.childNodes[1];var b=document.getElementById("ei_m_accueil");if(b!=null){var a=b.childNodes[0].nextElementSibling;if(a!=null){if(a.href!=undefined){c.href=a.href}}}}}function setCookiesAcceptance(c){var b=getCookie("cookies_accepted");var a=b.replace("wait","1");setCookie("cookies_accepted",a,30*6,c);var d=document.getElementById("ei_cookie");d.style.display="none";if(cookiesBlocked){enableCookies(true)}pushValueToGTM()}function checkCookiesAcceptance(){if(!areCookiesAccepted()){var a=document.getElementById("ei_cookie");if(a!=null){a.style.display="block"}}}function onLoadBody(){setLogoLink();checkCookiesAcceptance()}function old_checkAndSetCookiesAcceptance(a,i){var d=(typeof ACCEPT_COOKIES_ON_NAVIGATE==="undefined"||ACCEPT_COOKIES_ON_NAVIGATE===true);var f=getCookie("cookies_accepted");var g=false;if(f==null){setCookie("cookies_accepted","wait",30*6,i)}else{g=false;if(f.indexOf("1",0)!=-1){g=true}var b=document.referrer.split("/");var e=typeof a!=="undefined"&&a.indexOf(window.location.pathname)>=0?false:true;if(f.indexOf("1",0)==-1&&f.indexOf("wait",0)==-1){setCookie("cookies_accepted","wait",30*6,i)}else{if(!g&&b[2]==window.location.hostname&&e&&d){var h=f.replace("wait","1");setCookie("cookies_accepted",h,30*6,i);g=true}}}var c=document.getElementById("ei_cookie");if(!g){disableCookies(true);if(ei_cookie!=null){c.style.display="block"}}else{c.style.display="none"}}function closeCategory(){var a=document.getElementById("ei_cookie_perso");a.style.display="none"}function acceptallcookies(b){var a=document.getElementById("ei_cookie");a.style.display="none";acceptCookieCategory("cookie_audience",b);acceptCookieCategory("cookie_marketing",b);acceptCookieCategory("cookie_reseaux",b)}function openPanel(){var a=document.getElementById("ei_cookie");a.style.display="none";var b=document.getElementById("ei_cookie_perso");b.style.display="block"}function acceptCookieCategory(a,b){var d=getCookie("cookies_accepted");if(d.indexOf("wait")>=0){d=d.replace("wait","1")}if(d.indexOf(a)>=0){d=d.replace(a+"=false",a+"=true")}else{d=d+"!"+a+"=true"}setCookie("cookies_accepted",d,30*6,b)}function denyCookieCategory(a,b){var d=getCookie("cookies_accepted");if(d.indexOf("wait")>=0){d=d.replace("wait","1")}if(d.indexOf(a)>=0){d=d.replace(a+"=true",a+"=false")}else{d=d+"!"+a+"=false"}setCookie("cookies_accepted",d,30*6,b)}function onLoadBodyCustom(a,b){setLogoLink();checkAndSetCookiesAcceptance(a,b)}function DeconnexionTabletteAgence(){document.location="/"}if(getCookie("TabletteAgence")=="TRUE"&&getCookie("SessionTimeout")=="2"){setTimeout(DeconnexionTabletteAgence,2*60*1000+10*1000)};