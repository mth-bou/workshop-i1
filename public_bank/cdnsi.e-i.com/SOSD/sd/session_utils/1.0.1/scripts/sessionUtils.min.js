/*! cdn_sd_session_utils 2019-04-09 */
function log(a){"undefined"!=typeof console&&console.log(a)}jQuery.cookie=function(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=jQuery.trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+24*c.expires*60*60*1e3)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")},function($){$.buildClass=function(){var argc=0,methods=arguments[argc]?arguments[argc++]:{},P=$.isFunction(arguments[argc])?arguments[argc]:function(){},Uber=function(a){P.prototype.__U&&(this.uber=new P.prototype.__U(a)),this.__o=a};for(var f in P.prototype)$.isFunction(P.prototype[f])&&(Uber.prototype[f]=eval("(function(){return function(){return P.prototype['"+f.replace(/\\'/g,"\\'").replace(/\\/g,"\\")+"'].apply(this.__o, arguments);};})();"));var Constructor=function(){this.uber=new Uber(this),methods.constructor&&methods.constructor.apply(this,arguments)},F=function(){};return F.prototype=P.prototype,Constructor.prototype=new F,$.extend(Constructor.prototype,methods,{__U:Uber}),Constructor.prototype.constructor=Constructor,Constructor}}(jQuery);var SessionUtils={countdown:null,deltaPhase:null,linkForAjaxRequest:null,cookieInfos:null,SessionInfos:$.buildClass({constructor:function(a,b){this._dateStart=new Date(a),this._timeout=parseInt(b)},GetDateStart:function(){return this._dateStart},GetTimeout:function(){return this._timeout},SetDateStart:function(a){this._dateStart=new Date(a)},SetTimeOut:function(a){this._timeout=parseInt(a)}}),GetTimeoutCookie:function(){var a=$.cookie("SessionTimeout");if(null===a)throw"SessionTimeOut not defined or not valid.";if(isNaN(a))throw"SessionTimeOut not defined or not valid.";return parseInt(60*a)},GetSessionStartCookie:function(){var a=$.cookie("SessionStart");if(null===a)throw"SessionStart not defined or not valid.";if(isNaN(a))throw"SessionStart not defined or not valid.";return parseInt(a)},GetSecondBeforeExpiration:function(){var a=parseInt((new Date).getTime()/1e3);if(null===SessionUtils.cookieInfos)return log("SessionUtils.cookieInfos is null"),0;try{(SessionUtils.GetSessionStartCookie()!==SessionUtils.cookieInfos.GetDateStart()||SessionUtils.GetTimeoutCookie()!==SessionUtils.cookieInfos.GetTimeout())&&(SessionUtils.cookieInfos=new SessionUtils.SessionInfos(SessionUtils.GetSessionStartCookie(),SessionUtils.GetTimeoutCookie()))}catch(b){log("SessionUtils has not been updated")}var c=a-SessionUtils.cookieInfos.GetDateStart()-SessionUtils.deltaPhase;return SessionUtils.cookieInfos.GetTimeout()-c},IsSessionExpired:function(){try{var a=SessionUtils.GetSecondBeforeExpiration();return 0>=a}catch(b){return log(b),!0}},RefreshSession:function(){SessionUtils.IsSessionExpired()?log("Unable to refresh session, it has already expired"):(log("Refreshing session..."),$.ajax({type:"POST",url:SessionUtils.linkForAjaxRequest,statusCode:{},error:function(){log("Error during session refresh")},success:function(){log("Refreshing session successful"),SessionUtils.cookieInfos=new SessionUtils.SessionInfos(SessionUtils.GetSessionStartCookie(),SessionUtils.GetTimeoutCookie())}}))},onReady:function(){SessionUtils.linkForAjaxRequest=$("#sessionUtilsCallback").val()}};try{SessionUtils.cookieInfos=new SessionUtils.SessionInfos(SessionUtils.GetSessionStartCookie(),SessionUtils.GetTimeoutCookie()),SessionUtils.cookieInfos&&(SessionUtils.deltaPhase=parseInt((new Date).getTime()/1e3-SessionUtils.cookieInfos.GetDateStart()),$(document).ready(SessionUtils.onReady))}catch(err){log("Unable to create SessionUtils")}