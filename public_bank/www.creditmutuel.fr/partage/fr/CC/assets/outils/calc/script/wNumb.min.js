!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.wNumb=e()}(function(){"use strict";var o=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function x(e){return e.split("").reverse().join("")}function w(e,n){return e.substring(0,n.length)===n}function f(e,n,r){if((e[n]||e[r])&&e[n]===e[r])throw new Error(n)}function b(e){return"number"==typeof e&&isFinite(e)}function r(e,n,r,t,i,o,f,u,c,a,d,s){var p,v,h,w,g,m=s,l="",y="";return o&&(s=o(s)),!!b(s)&&(!1!==e&&0===parseFloat(s.toFixed(e))&&(s=0),s<0&&(p=!0,s=Math.abs(s)),!1!==e&&(g=e,w=(w=s).toString().split("e"),s=(+((w=(w=Math.round(+(w[0]+"e"+(w[1]?+w[1]+g:g)))).toString().split("e"))[0]+"e"+(w[1]?w[1]-g:-g))).toFixed(g)),-1!==(s=s.toString()).indexOf(".")?(h=(v=s.split("."))[0],r&&(l=r+v[1])):h=s,n&&(h=x(h).match(/.{1,3}/g),h=x(h.join(x(n)))),p&&u&&(y+=u),t&&(y+=t),p&&c&&(y+=c),y+=h,y+=l,i&&(y+=i),a&&(y=a(y,m)),y)}function t(e,n,r,t,i,o,f,u,c,a,d,s){var p,v,h="";return d&&(s=d(s)),!(!s||"string"!=typeof s)&&(u&&w(s,u)&&(s=s.replace(u,""),p=!0),t&&w(s,t)&&(s=s.replace(t,"")),c&&w(s,c)&&(s=s.replace(c,""),p=!0),i&&(v=i,s.slice(-1*v.length)===v)&&(s=s.slice(0,-1*i.length)),n&&(s=s.split(n).join("")),r&&(s=s.replace(r,".")),p&&(h+="-"),""!==(h=(h+=s).replace(/[^0-9\.\-.]/g,""))&&(h=Number(h),f&&(h=f(h)),!!b(h)&&h))}function i(e,n,r){var t,i=[];for(t=0;t<o.length;t+=1)i.push(e[o[t]]);return i.push(r),n.apply("",i)}return function e(n){if(!(this instanceof e))return new e(n);"object"==typeof n&&(n=function(e){var n,r,t,i={};for(void 0===e.suffix&&(e.suffix=e.postfix),n=0;n<o.length;n+=1)if(void 0===(t=e[r=o[n]]))"negative"!==r||i.negativeBefore?"mark"===r&&"."!==i.thousand?i[r]=".":i[r]=!1:i[r]="-";else if("decimals"===r){if(!(0<=t&&t<8))throw new Error(r);i[r]=t}else if("encoder"===r||"decoder"===r||"edit"===r||"undo"===r){if("function"!=typeof t)throw new Error(r);i[r]=t}else{if("string"!=typeof t)throw new Error(r);i[r]=t}return f(i,"mark","thousand"),f(i,"prefix","negative"),f(i,"prefix","negativeBefore"),i}(n),this.to=function(e){return i(n,r,e)},this.from=function(e){return i(n,t,e)})}});